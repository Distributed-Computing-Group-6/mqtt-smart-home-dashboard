var AE=Object.create;var Vd=Object.defineProperty,OE=Object.defineProperties,NE=Object.getOwnPropertyDescriptor,RE=Object.getOwnPropertyDescriptors,kE=Object.getOwnPropertyNames,Ya=Object.getOwnPropertySymbols,FE=Object.getPrototypeOf,Hd=Object.prototype.hasOwnProperty,Bm=Object.prototype.propertyIsEnumerable;var Eo=(e,n)=>(n=Symbol[e])?n:Symbol.for("Symbol."+e);var Pm=(e,n,t)=>n in e?Vd(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Te=(e,n)=>{for(var t in n||={})Hd.call(n,t)&&Pm(e,t,n[t]);if(Ya)for(var t of Ya(n))Bm.call(n,t)&&Pm(e,t,n[t]);return e},st=(e,n)=>OE(e,RE(n));var Lm=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,t)=>(typeof require<"u"?require:n)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var jm=(e,n)=>{var t={};for(var i in e)Hd.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&Ya)for(var i of Ya(e))n.indexOf(i)<0&&Bm.call(e,i)&&(t[i]=e[i]);return t};var tt=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var PE=(e,n,t,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of kE(n))!Hd.call(e,r)&&r!==t&&Vd(e,r,{get:()=>n[r],enumerable:!(i=NE(n,r))||i.enumerable});return e};var BE=(e,n,t)=>(t=e!=null?AE(FE(e)):{},PE(n||!e||!e.__esModule?Vd(t,"default",{value:e,enumerable:!0}):t,e));var ct=(e,n,t)=>new Promise((i,r)=>{var o=l=>{try{a(t.next(l))}catch(c){r(c)}},s=l=>{try{a(t.throw(l))}catch(c){r(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(e,n)).next())}),xn=function(e,n){this[0]=e,this[1]=n},Pi=(e,n,t)=>{var i=(s,a,l,c)=>{try{var u=t[s](a),d=(a=u.value)instanceof xn,f=u.done;Promise.resolve(d?a[0]:a).then(h=>d?i(s==="return"?s:"next",a[1]?{done:h.done,value:h.value}:h,l,c):l({value:h,done:f})).catch(h=>i("throw",h,l,c))}catch(h){c(h)}},r=s=>o[s]=a=>new Promise((l,c)=>i(s,a,l,c)),o={};return t=t.apply(e,n),o[Eo("asyncIterator")]=()=>o,r("next"),r("throw"),r("return"),o},ar=e=>{var n=e[Eo("asyncIterator")],t=!1,i,r={};return n==null?(n=e[Eo("iterator")](),i=o=>r[o]=s=>n[o](s)):(n=n.call(e),i=o=>r[o]=s=>{if(t){if(t=!1,o==="throw")throw s;return s}return t=!0,{done:!1,value:new xn(new Promise(a=>{var l=n[o](s);if(!(l instanceof Object))throw TypeError("Object expected");a(l)}),1)}}),r[Eo("iterator")]=()=>r,i("next"),"throw"in n?i("throw"):r.throw=o=>{throw o},"return"in n&&i("return"),r},Bn=(e,n,t)=>(n=e[Eo("asyncIterator")])?n.call(e):(e=e[Eo("iterator")](),n={},t=(i,r)=>(r=e[i])&&(n[i]=o=>new Promise((s,a,l)=>(o=r.call(e,o),l=o.done,Promise.resolve(o.value).then(c=>s({value:c,done:l}),a)))),t("next"),t("return"),n);var ax=tt(()=>{"use strict"});var ot=tt((Ou,lx)=>{"use strict";(function(e,n){typeof Ou=="object"?lx.exports=Ou=n():typeof define=="function"&&define.amd?define([],n):e.CryptoJS=n()})(Ou,function(){var e=e||function(n,t){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof global<"u"&&global.crypto&&(i=global.crypto),!i&&typeof Lm=="function")try{i=ax()}catch{}var r=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function y(){}return function(p){var b;return y.prototype=p,b=new y,y.prototype=null,b}}(),s={},a=s.lib={},l=a.Base=function(){return{extend:function(y){var p=o(this);return y&&p.mixIn(y),(!p.hasOwnProperty("init")||this.init===p.init)&&(p.init=function(){p.$super.init.apply(this,arguments)}),p.init.prototype=p,p.$super=this,p},create:function(){var y=this.extend();return y.init.apply(y,arguments),y},init:function(){},mixIn:function(y){for(var p in y)y.hasOwnProperty(p)&&(this[p]=y[p]);y.hasOwnProperty("toString")&&(this.toString=y.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=a.WordArray=l.extend({init:function(y,p){y=this.words=y||[],p!=t?this.sigBytes=p:this.sigBytes=y.length*4},toString:function(y){return(y||d).stringify(this)},concat:function(y){var p=this.words,b=y.words,x=this.sigBytes,D=y.sigBytes;if(this.clamp(),x%4)for(var C=0;C<D;C++){var S=b[C>>>2]>>>24-C%4*8&255;p[x+C>>>2]|=S<<24-(x+C)%4*8}else for(var M=0;M<D;M+=4)p[x+M>>>2]=b[M>>>2];return this.sigBytes+=D,this},clamp:function(){var y=this.words,p=this.sigBytes;y[p>>>2]&=4294967295<<32-p%4*8,y.length=n.ceil(p/4)},clone:function(){var y=l.clone.call(this);return y.words=this.words.slice(0),y},random:function(y){for(var p=[],b=0;b<y;b+=4)p.push(r());return new c.init(p,y)}}),u=s.enc={},d=u.Hex={stringify:function(y){for(var p=y.words,b=y.sigBytes,x=[],D=0;D<b;D++){var C=p[D>>>2]>>>24-D%4*8&255;x.push((C>>>4).toString(16)),x.push((C&15).toString(16))}return x.join("")},parse:function(y){for(var p=y.length,b=[],x=0;x<p;x+=2)b[x>>>3]|=parseInt(y.substr(x,2),16)<<24-x%8*4;return new c.init(b,p/2)}},f=u.Latin1={stringify:function(y){for(var p=y.words,b=y.sigBytes,x=[],D=0;D<b;D++){var C=p[D>>>2]>>>24-D%4*8&255;x.push(String.fromCharCode(C))}return x.join("")},parse:function(y){for(var p=y.length,b=[],x=0;x<p;x++)b[x>>>2]|=(y.charCodeAt(x)&255)<<24-x%4*8;return new c.init(b,p)}},h=u.Utf8={stringify:function(y){try{return decodeURIComponent(escape(f.stringify(y)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(y){return f.parse(unescape(encodeURIComponent(y)))}},g=a.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(y){typeof y=="string"&&(y=h.parse(y)),this._data.concat(y),this._nDataBytes+=y.sigBytes},_process:function(y){var p,b=this._data,x=b.words,D=b.sigBytes,C=this.blockSize,S=C*4,M=D/S;y?M=n.ceil(M):M=n.max((M|0)-this._minBufferSize,0);var R=M*C,$=n.min(R*4,D);if(R){for(var B=0;B<R;B+=C)this._doProcessBlock(x,B);p=x.splice(0,R),b.sigBytes-=$}return new c.init(p,$)},clone:function(){var y=l.clone.call(this);return y._data=this._data.clone(),y},_minBufferSize:0}),m=a.Hasher=g.extend({cfg:l.extend(),init:function(y){this.cfg=this.cfg.extend(y),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(y){return this._append(y),this._process(),this},finalize:function(y){y&&this._append(y);var p=this._doFinalize();return p},blockSize:512/32,_createHelper:function(y){return function(p,b){return new y.init(b).finalize(p)}},_createHmacHelper:function(y){return function(p,b){return new v.HMAC.init(y,b).finalize(p)}}}),v=s.algo={};return s}(Math);return e})});var Fa=tt((Nu,cx)=>{"use strict";(function(e,n){typeof Nu=="object"?cx.exports=Nu=n(ot()):typeof define=="function"&&define.amd?define(["./core"],n):n(e.CryptoJS)})(Nu,function(e){return function(n){var t=e,i=t.lib,r=i.Base,o=i.WordArray,s=t.x64={},a=s.Word=r.extend({init:function(c,u){this.high=c,this.low=u}}),l=s.WordArray=r.extend({init:function(c,u){c=this.words=c||[],u!=n?this.sigBytes=u:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,u=c.length,d=[],f=0;f<u;f++){var h=c[f];d.push(h.high),d.push(h.low)}return o.create(d,this.sigBytes)},clone:function(){for(var c=r.clone.call(this),u=c.words=this.words.slice(0),d=u.length,f=0;f<d;f++)u[f]=u[f].clone();return c}})}(),e})});var dx=tt((Ru,ux)=>{"use strict";(function(e,n){typeof Ru=="object"?ux.exports=Ru=n(ot()):typeof define=="function"&&define.amd?define(["./core"],n):n(e.CryptoJS)})(Ru,function(e){return function(){if(typeof ArrayBuffer=="function"){var n=e,t=n.lib,i=t.WordArray,r=i.init,o=i.init=function(s){if(s instanceof ArrayBuffer&&(s=new Uint8Array(s)),(s instanceof Int8Array||typeof Uint8ClampedArray<"u"&&s instanceof Uint8ClampedArray||s instanceof Int16Array||s instanceof Uint16Array||s instanceof Int32Array||s instanceof Uint32Array||s instanceof Float32Array||s instanceof Float64Array)&&(s=new Uint8Array(s.buffer,s.byteOffset,s.byteLength)),s instanceof Uint8Array){for(var a=s.byteLength,l=[],c=0;c<a;c++)l[c>>>2]|=s[c]<<24-c%4*8;r.call(this,l,a)}else r.apply(this,arguments)};o.prototype=i}}(),e.lib.WordArray})});var hx=tt((ku,fx)=>{"use strict";(function(e,n){typeof ku=="object"?fx.exports=ku=n(ot()):typeof define=="function"&&define.amd?define(["./core"],n):n(e.CryptoJS)})(ku,function(e){return function(){var n=e,t=n.lib,i=t.WordArray,r=n.enc,o=r.Utf16=r.Utf16BE={stringify:function(a){for(var l=a.words,c=a.sigBytes,u=[],d=0;d<c;d+=2){var f=l[d>>>2]>>>16-d%4*8&65535;u.push(String.fromCharCode(f))}return u.join("")},parse:function(a){for(var l=a.length,c=[],u=0;u<l;u++)c[u>>>1]|=a.charCodeAt(u)<<16-u%2*16;return i.create(c,l*2)}};r.Utf16LE={stringify:function(a){for(var l=a.words,c=a.sigBytes,u=[],d=0;d<c;d+=2){var f=s(l[d>>>2]>>>16-d%4*8&65535);u.push(String.fromCharCode(f))}return u.join("")},parse:function(a){for(var l=a.length,c=[],u=0;u<l;u++)c[u>>>1]|=s(a.charCodeAt(u)<<16-u%2*16);return i.create(c,l*2)}};function s(a){return a<<8&4278255360|a>>>8&16711935}}(),e.enc.Utf16})});var Rr=tt((Fu,px)=>{"use strict";(function(e,n){typeof Fu=="object"?px.exports=Fu=n(ot()):typeof define=="function"&&define.amd?define(["./core"],n):n(e.CryptoJS)})(Fu,function(e){return function(){var n=e,t=n.lib,i=t.WordArray,r=n.enc,o=r.Base64={stringify:function(a){var l=a.words,c=a.sigBytes,u=this._map;a.clamp();for(var d=[],f=0;f<c;f+=3)for(var h=l[f>>>2]>>>24-f%4*8&255,g=l[f+1>>>2]>>>24-(f+1)%4*8&255,m=l[f+2>>>2]>>>24-(f+2)%4*8&255,v=h<<16|g<<8|m,y=0;y<4&&f+y*.75<c;y++)d.push(u.charAt(v>>>6*(3-y)&63));var p=u.charAt(64);if(p)for(;d.length%4;)d.push(p);return d.join("")},parse:function(a){var l=a.length,c=this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var d=0;d<c.length;d++)u[c.charCodeAt(d)]=d}var f=c.charAt(64);if(f){var h=a.indexOf(f);h!==-1&&(l=h)}return s(a,l,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(a,l,c){for(var u=[],d=0,f=0;f<l;f++)if(f%4){var h=c[a.charCodeAt(f-1)]<<f%4*2,g=c[a.charCodeAt(f)]>>>6-f%4*2,m=h|g;u[d>>>2]|=m<<24-d%4*8,d++}return i.create(u,d)}}(),e.enc.Base64})});var mx=tt((Pu,gx)=>{"use strict";(function(e,n){typeof Pu=="object"?gx.exports=Pu=n(ot()):typeof define=="function"&&define.amd?define(["./core"],n):n(e.CryptoJS)})(Pu,function(e){return function(){var n=e,t=n.lib,i=t.WordArray,r=n.enc,o=r.Base64url={stringify:function(a,l){l===void 0&&(l=!0);var c=a.words,u=a.sigBytes,d=l?this._safe_map:this._map;a.clamp();for(var f=[],h=0;h<u;h+=3)for(var g=c[h>>>2]>>>24-h%4*8&255,m=c[h+1>>>2]>>>24-(h+1)%4*8&255,v=c[h+2>>>2]>>>24-(h+2)%4*8&255,y=g<<16|m<<8|v,p=0;p<4&&h+p*.75<u;p++)f.push(d.charAt(y>>>6*(3-p)&63));var b=d.charAt(64);if(b)for(;f.length%4;)f.push(b);return f.join("")},parse:function(a,l){l===void 0&&(l=!0);var c=a.length,u=l?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<u.length;f++)d[u.charCodeAt(f)]=f}var h=u.charAt(64);if(h){var g=a.indexOf(h);g!==-1&&(c=g)}return s(a,c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(a,l,c){for(var u=[],d=0,f=0;f<l;f++)if(f%4){var h=c[a.charCodeAt(f-1)]<<f%4*2,g=c[a.charCodeAt(f)]>>>6-f%4*2,m=h|g;u[d>>>2]|=m<<24-d%4*8,d++}return i.create(u,d)}}(),e.enc.Base64url})});var kr=tt((Bu,_x)=>{"use strict";(function(e,n){typeof Bu=="object"?_x.exports=Bu=n(ot()):typeof define=="function"&&define.amd?define(["./core"],n):n(e.CryptoJS)})(Bu,function(e){return function(n){var t=e,i=t.lib,r=i.WordArray,o=i.Hasher,s=t.algo,a=[];(function(){for(var h=0;h<64;h++)a[h]=n.abs(n.sin(h+1))*4294967296|0})();var l=s.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(h,g){for(var m=0;m<16;m++){var v=g+m,y=h[v];h[v]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var p=this._hash.words,b=h[g+0],x=h[g+1],D=h[g+2],C=h[g+3],S=h[g+4],M=h[g+5],R=h[g+6],$=h[g+7],B=h[g+8],T=h[g+9],P=h[g+10],F=h[g+11],j=h[g+12],J=h[g+13],ie=h[g+14],oe=h[g+15],q=p[0],O=p[1],W=p[2],I=p[3];q=c(q,O,W,I,b,7,a[0]),I=c(I,q,O,W,x,12,a[1]),W=c(W,I,q,O,D,17,a[2]),O=c(O,W,I,q,C,22,a[3]),q=c(q,O,W,I,S,7,a[4]),I=c(I,q,O,W,M,12,a[5]),W=c(W,I,q,O,R,17,a[6]),O=c(O,W,I,q,$,22,a[7]),q=c(q,O,W,I,B,7,a[8]),I=c(I,q,O,W,T,12,a[9]),W=c(W,I,q,O,P,17,a[10]),O=c(O,W,I,q,F,22,a[11]),q=c(q,O,W,I,j,7,a[12]),I=c(I,q,O,W,J,12,a[13]),W=c(W,I,q,O,ie,17,a[14]),O=c(O,W,I,q,oe,22,a[15]),q=u(q,O,W,I,x,5,a[16]),I=u(I,q,O,W,R,9,a[17]),W=u(W,I,q,O,F,14,a[18]),O=u(O,W,I,q,b,20,a[19]),q=u(q,O,W,I,M,5,a[20]),I=u(I,q,O,W,P,9,a[21]),W=u(W,I,q,O,oe,14,a[22]),O=u(O,W,I,q,S,20,a[23]),q=u(q,O,W,I,T,5,a[24]),I=u(I,q,O,W,ie,9,a[25]),W=u(W,I,q,O,C,14,a[26]),O=u(O,W,I,q,B,20,a[27]),q=u(q,O,W,I,J,5,a[28]),I=u(I,q,O,W,D,9,a[29]),W=u(W,I,q,O,$,14,a[30]),O=u(O,W,I,q,j,20,a[31]),q=d(q,O,W,I,M,4,a[32]),I=d(I,q,O,W,B,11,a[33]),W=d(W,I,q,O,F,16,a[34]),O=d(O,W,I,q,ie,23,a[35]),q=d(q,O,W,I,x,4,a[36]),I=d(I,q,O,W,S,11,a[37]),W=d(W,I,q,O,$,16,a[38]),O=d(O,W,I,q,P,23,a[39]),q=d(q,O,W,I,J,4,a[40]),I=d(I,q,O,W,b,11,a[41]),W=d(W,I,q,O,C,16,a[42]),O=d(O,W,I,q,R,23,a[43]),q=d(q,O,W,I,T,4,a[44]),I=d(I,q,O,W,j,11,a[45]),W=d(W,I,q,O,oe,16,a[46]),O=d(O,W,I,q,D,23,a[47]),q=f(q,O,W,I,b,6,a[48]),I=f(I,q,O,W,$,10,a[49]),W=f(W,I,q,O,ie,15,a[50]),O=f(O,W,I,q,M,21,a[51]),q=f(q,O,W,I,j,6,a[52]),I=f(I,q,O,W,C,10,a[53]),W=f(W,I,q,O,P,15,a[54]),O=f(O,W,I,q,x,21,a[55]),q=f(q,O,W,I,B,6,a[56]),I=f(I,q,O,W,oe,10,a[57]),W=f(W,I,q,O,R,15,a[58]),O=f(O,W,I,q,J,21,a[59]),q=f(q,O,W,I,S,6,a[60]),I=f(I,q,O,W,F,10,a[61]),W=f(W,I,q,O,D,15,a[62]),O=f(O,W,I,q,T,21,a[63]),p[0]=p[0]+q|0,p[1]=p[1]+O|0,p[2]=p[2]+W|0,p[3]=p[3]+I|0},_doFinalize:function(){var h=this._data,g=h.words,m=this._nDataBytes*8,v=h.sigBytes*8;g[v>>>5]|=128<<24-v%32;var y=n.floor(m/4294967296),p=m;g[(v+64>>>9<<4)+15]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,g[(v+64>>>9<<4)+14]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,h.sigBytes=(g.length+1)*4,this._process();for(var b=this._hash,x=b.words,D=0;D<4;D++){var C=x[D];x[D]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}return b},clone:function(){var h=o.clone.call(this);return h._hash=this._hash.clone(),h}});function c(h,g,m,v,y,p,b){var x=h+(g&m|~g&v)+y+b;return(x<<p|x>>>32-p)+g}function u(h,g,m,v,y,p,b){var x=h+(g&v|m&~v)+y+b;return(x<<p|x>>>32-p)+g}function d(h,g,m,v,y,p,b){var x=h+(g^m^v)+y+b;return(x<<p|x>>>32-p)+g}function f(h,g,m,v,y,p,b){var x=h+(m^(g|~v))+y+b;return(x<<p|x>>>32-p)+g}t.MD5=o._createHelper(l),t.HmacMD5=o._createHmacHelper(l)}(Math),e.MD5})});var lm=tt((Lu,vx)=>{"use strict";(function(e,n){typeof Lu=="object"?vx.exports=Lu=n(ot()):typeof define=="function"&&define.amd?define(["./core"],n):n(e.CryptoJS)})(Lu,function(e){return function(){var n=e,t=n.lib,i=t.WordArray,r=t.Hasher,o=n.algo,s=[],a=o.SHA1=r.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,c){for(var u=this._hash.words,d=u[0],f=u[1],h=u[2],g=u[3],m=u[4],v=0;v<80;v++){if(v<16)s[v]=l[c+v]|0;else{var y=s[v-3]^s[v-8]^s[v-14]^s[v-16];s[v]=y<<1|y>>>31}var p=(d<<5|d>>>27)+m+s[v];v<20?p+=(f&h|~f&g)+1518500249:v<40?p+=(f^h^g)+1859775393:v<60?p+=(f&h|f&g|h&g)-1894007588:p+=(f^h^g)-899497514,m=g,g=h,h=f<<30|f>>>2,f=d,d=p}u[0]=u[0]+d|0,u[1]=u[1]+f|0,u[2]=u[2]+h|0,u[3]=u[3]+g|0,u[4]=u[4]+m|0},_doFinalize:function(){var l=this._data,c=l.words,u=this._nDataBytes*8,d=l.sigBytes*8;return c[d>>>5]|=128<<24-d%32,c[(d+64>>>9<<4)+14]=Math.floor(u/4294967296),c[(d+64>>>9<<4)+15]=u,l.sigBytes=c.length*4,this._process(),this._hash},clone:function(){var l=r.clone.call(this);return l._hash=this._hash.clone(),l}});n.SHA1=r._createHelper(a),n.HmacSHA1=r._createHmacHelper(a)}(),e.SHA1})});var Vu=tt((ju,yx)=>{"use strict";(function(e,n){typeof ju=="object"?yx.exports=ju=n(ot()):typeof define=="function"&&define.amd?define(["./core"],n):n(e.CryptoJS)})(ju,function(e){return function(n){var t=e,i=t.lib,r=i.WordArray,o=i.Hasher,s=t.algo,a=[],l=[];(function(){function d(m){for(var v=n.sqrt(m),y=2;y<=v;y++)if(!(m%y))return!1;return!0}function f(m){return(m-(m|0))*4294967296|0}for(var h=2,g=0;g<64;)d(h)&&(g<8&&(a[g]=f(n.pow(h,1/2))),l[g]=f(n.pow(h,1/3)),g++),h++})();var c=[],u=s.SHA256=o.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(d,f){for(var h=this._hash.words,g=h[0],m=h[1],v=h[2],y=h[3],p=h[4],b=h[5],x=h[6],D=h[7],C=0;C<64;C++){if(C<16)c[C]=d[f+C]|0;else{var S=c[C-15],M=(S<<25|S>>>7)^(S<<14|S>>>18)^S>>>3,R=c[C-2],$=(R<<15|R>>>17)^(R<<13|R>>>19)^R>>>10;c[C]=M+c[C-7]+$+c[C-16]}var B=p&b^~p&x,T=g&m^g&v^m&v,P=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),F=(p<<26|p>>>6)^(p<<21|p>>>11)^(p<<7|p>>>25),j=D+F+B+l[C]+c[C],J=P+T;D=x,x=b,b=p,p=y+j|0,y=v,v=m,m=g,g=j+J|0}h[0]=h[0]+g|0,h[1]=h[1]+m|0,h[2]=h[2]+v|0,h[3]=h[3]+y|0,h[4]=h[4]+p|0,h[5]=h[5]+b|0,h[6]=h[6]+x|0,h[7]=h[7]+D|0},_doFinalize:function(){var d=this._data,f=d.words,h=this._nDataBytes*8,g=d.sigBytes*8;return f[g>>>5]|=128<<24-g%32,f[(g+64>>>9<<4)+14]=n.floor(h/4294967296),f[(g+64>>>9<<4)+15]=h,d.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var d=o.clone.call(this);return d._hash=this._hash.clone(),d}});t.SHA256=o._createHelper(u),t.HmacSHA256=o._createHmacHelper(u)}(Math),e.SHA256})});var Cx=tt((Hu,bx)=>{"use strict";(function(e,n,t){typeof Hu=="object"?bx.exports=Hu=n(ot(),Vu()):typeof define=="function"&&define.amd?define(["./core","./sha256"],n):n(e.CryptoJS)})(Hu,function(e){return function(){var n=e,t=n.lib,i=t.WordArray,r=n.algo,o=r.SHA256,s=r.SHA224=o.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var a=o._doFinalize.call(this);return a.sigBytes-=4,a}});n.SHA224=o._createHelper(s),n.HmacSHA224=o._createHmacHelper(s)}(),e.SHA224})});var cm=tt((Uu,xx)=>{"use strict";(function(e,n,t){typeof Uu=="object"?xx.exports=Uu=n(ot(),Fa()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],n):n(e.CryptoJS)})(Uu,function(e){return function(){var n=e,t=n.lib,i=t.Hasher,r=n.x64,o=r.Word,s=r.WordArray,a=n.algo;function l(){return o.create.apply(o,arguments)}var c=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],u=[];(function(){for(var f=0;f<80;f++)u[f]=l()})();var d=a.SHA512=i.extend({_doReset:function(){this._hash=new s.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(f,h){for(var g=this._hash.words,m=g[0],v=g[1],y=g[2],p=g[3],b=g[4],x=g[5],D=g[6],C=g[7],S=m.high,M=m.low,R=v.high,$=v.low,B=y.high,T=y.low,P=p.high,F=p.low,j=b.high,J=b.low,ie=x.high,oe=x.low,q=D.high,O=D.low,W=C.high,I=C.low,ue=S,Ce=M,ae=R,be=$,Z=B,V=T,pe=P,ee=F,Y=j,Q=J,ge=ie,ye=oe,k=q,L=O,K=W,se=I,ce=0;ce<80;ce++){var fe,U,le=u[ce];if(ce<16)U=le.high=f[h+ce*2]|0,fe=le.low=f[h+ce*2+1]|0;else{var Se=u[ce-15],he=Se.high,Ne=Se.low,_=(he>>>1|Ne<<31)^(he>>>8|Ne<<24)^he>>>7,w=(Ne>>>1|he<<31)^(Ne>>>8|he<<24)^(Ne>>>7|he<<25),E=u[ce-2],H=E.high,G=E.low,re=(H>>>19|G<<13)^(H<<3|G>>>29)^H>>>6,De=(G>>>19|H<<13)^(G<<3|H>>>29)^(G>>>6|H<<26),it=u[ce-7],ht=it.high,Ct=it.low,ut=u[ce-16],Ot=ut.high,Wa=ut.low;fe=w+Ct,U=_+ht+(fe>>>0<w>>>0?1:0),fe=fe+De,U=U+re+(fe>>>0<De>>>0?1:0),fe=fe+Wa,U=U+Ot+(fe>>>0<Wa>>>0?1:0),le.high=U,le.low=fe}var Rd=Y&ge^~Y&k,Ts=Q&ye^~Q&L,qa=ue&ae^ue&Z^ae&Z,kd=Ce&be^Ce&V^be&V,za=(ue>>>28|Ce<<4)^(ue<<30|Ce>>>2)^(ue<<25|Ce>>>7),xo=(Ce>>>28|ue<<4)^(Ce<<30|ue>>>2)^(Ce<<25|ue>>>7),Fd=(Y>>>14|Q<<18)^(Y>>>18|Q<<14)^(Y<<23|Q>>>9),Pd=(Q>>>14|Y<<18)^(Q>>>18|Y<<14)^(Q<<23|Y>>>9),Do=c[ce],Qa=Do.high,A=Do.low,N=se+Pd,xe=K+Fd+(N>>>0<se>>>0?1:0),N=N+Ts,xe=xe+Rd+(N>>>0<Ts>>>0?1:0),N=N+A,xe=xe+Qa+(N>>>0<A>>>0?1:0),N=N+fe,xe=xe+U+(N>>>0<fe>>>0?1:0),Ae=xo+kd,Re=za+qa+(Ae>>>0<xo>>>0?1:0);K=k,se=L,k=ge,L=ye,ge=Y,ye=Q,Q=ee+N|0,Y=pe+xe+(Q>>>0<ee>>>0?1:0)|0,pe=Z,ee=V,Z=ae,V=be,ae=ue,be=Ce,Ce=N+Ae|0,ue=xe+Re+(Ce>>>0<N>>>0?1:0)|0}M=m.low=M+Ce,m.high=S+ue+(M>>>0<Ce>>>0?1:0),$=v.low=$+be,v.high=R+ae+($>>>0<be>>>0?1:0),T=y.low=T+V,y.high=B+Z+(T>>>0<V>>>0?1:0),F=p.low=F+ee,p.high=P+pe+(F>>>0<ee>>>0?1:0),J=b.low=J+Q,b.high=j+Y+(J>>>0<Q>>>0?1:0),oe=x.low=oe+ye,x.high=ie+ge+(oe>>>0<ye>>>0?1:0),O=D.low=O+L,D.high=q+k+(O>>>0<L>>>0?1:0),I=C.low=I+se,C.high=W+K+(I>>>0<se>>>0?1:0)},_doFinalize:function(){var f=this._data,h=f.words,g=this._nDataBytes*8,m=f.sigBytes*8;h[m>>>5]|=128<<24-m%32,h[(m+128>>>10<<5)+30]=Math.floor(g/4294967296),h[(m+128>>>10<<5)+31]=g,f.sigBytes=h.length*4,this._process();var v=this._hash.toX32();return v},clone:function(){var f=i.clone.call(this);return f._hash=this._hash.clone(),f},blockSize:1024/32});n.SHA512=i._createHelper(d),n.HmacSHA512=i._createHmacHelper(d)}(),e.SHA512})});var Ex=tt(($u,Dx)=>{"use strict";(function(e,n,t){typeof $u=="object"?Dx.exports=$u=n(ot(),Fa(),cm()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],n):n(e.CryptoJS)})($u,function(e){return function(){var n=e,t=n.x64,i=t.Word,r=t.WordArray,o=n.algo,s=o.SHA512,a=o.SHA384=s.extend({_doReset:function(){this._hash=new r.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var l=s._doFinalize.call(this);return l.sigBytes-=16,l}});n.SHA384=s._createHelper(a),n.HmacSHA384=s._createHmacHelper(a)}(),e.SHA384})});var Ix=tt((Gu,Sx)=>{"use strict";(function(e,n,t){typeof Gu=="object"?Sx.exports=Gu=n(ot(),Fa()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],n):n(e.CryptoJS)})(Gu,function(e){return function(n){var t=e,i=t.lib,r=i.WordArray,o=i.Hasher,s=t.x64,a=s.Word,l=t.algo,c=[],u=[],d=[];(function(){for(var g=1,m=0,v=0;v<24;v++){c[g+5*m]=(v+1)*(v+2)/2%64;var y=m%5,p=(2*g+3*m)%5;g=y,m=p}for(var g=0;g<5;g++)for(var m=0;m<5;m++)u[g+5*m]=m+(2*g+3*m)%5*5;for(var b=1,x=0;x<24;x++){for(var D=0,C=0,S=0;S<7;S++){if(b&1){var M=(1<<S)-1;M<32?C^=1<<M:D^=1<<M-32}b&128?b=b<<1^113:b<<=1}d[x]=a.create(D,C)}})();var f=[];(function(){for(var g=0;g<25;g++)f[g]=a.create()})();var h=l.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],m=0;m<25;m++)g[m]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,m){for(var v=this._state,y=this.blockSize/2,p=0;p<y;p++){var b=g[m+2*p],x=g[m+2*p+1];b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,x=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360;var D=v[p];D.high^=x,D.low^=b}for(var C=0;C<24;C++){for(var S=0;S<5;S++){for(var M=0,R=0,$=0;$<5;$++){var D=v[S+5*$];M^=D.high,R^=D.low}var B=f[S];B.high=M,B.low=R}for(var S=0;S<5;S++)for(var T=f[(S+4)%5],P=f[(S+1)%5],F=P.high,j=P.low,M=T.high^(F<<1|j>>>31),R=T.low^(j<<1|F>>>31),$=0;$<5;$++){var D=v[S+5*$];D.high^=M,D.low^=R}for(var J=1;J<25;J++){var M,R,D=v[J],ie=D.high,oe=D.low,q=c[J];q<32?(M=ie<<q|oe>>>32-q,R=oe<<q|ie>>>32-q):(M=oe<<q-32|ie>>>64-q,R=ie<<q-32|oe>>>64-q);var O=f[u[J]];O.high=M,O.low=R}var W=f[0],I=v[0];W.high=I.high,W.low=I.low;for(var S=0;S<5;S++)for(var $=0;$<5;$++){var J=S+5*$,D=v[J],ue=f[J],Ce=f[(S+1)%5+5*$],ae=f[(S+2)%5+5*$];D.high=ue.high^~Ce.high&ae.high,D.low=ue.low^~Ce.low&ae.low}var D=v[0],be=d[C];D.high^=be.high,D.low^=be.low}},_doFinalize:function(){var g=this._data,m=g.words,v=this._nDataBytes*8,y=g.sigBytes*8,p=this.blockSize*32;m[y>>>5]|=1<<24-y%32,m[(n.ceil((y+1)/p)*p>>>5)-1]|=128,g.sigBytes=m.length*4,this._process();for(var b=this._state,x=this.cfg.outputLength/8,D=x/8,C=[],S=0;S<D;S++){var M=b[S],R=M.high,$=M.low;R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,$=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360,C.push($),C.push(R)}return new r.init(C,x)},clone:function(){for(var g=o.clone.call(this),m=g._state=this._state.slice(0),v=0;v<25;v++)m[v]=m[v].clone();return g}});t.SHA3=o._createHelper(h),t.HmacSHA3=o._createHmacHelper(h)}(Math),e.SHA3})});var Tx=tt((Wu,Mx)=>{"use strict";(function(e,n){typeof Wu=="object"?Mx.exports=Wu=n(ot()):typeof define=="function"&&define.amd?define(["./core"],n):n(e.CryptoJS)})(Wu,function(e){return function(n){var t=e,i=t.lib,r=i.WordArray,o=i.Hasher,s=t.algo,a=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=r.create([0,1518500249,1859775393,2400959708,2840853838]),f=r.create([1352829926,1548603684,1836072691,2053994217,0]),h=s.RIPEMD160=o.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(x,D){for(var C=0;C<16;C++){var S=D+C,M=x[S];x[S]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}var R=this._hash.words,$=d.words,B=f.words,T=a.words,P=l.words,F=c.words,j=u.words,J,ie,oe,q,O,W,I,ue,Ce,ae;W=J=R[0],I=ie=R[1],ue=oe=R[2],Ce=q=R[3],ae=O=R[4];for(var be,C=0;C<80;C+=1)be=J+x[D+T[C]]|0,C<16?be+=g(ie,oe,q)+$[0]:C<32?be+=m(ie,oe,q)+$[1]:C<48?be+=v(ie,oe,q)+$[2]:C<64?be+=y(ie,oe,q)+$[3]:be+=p(ie,oe,q)+$[4],be=be|0,be=b(be,F[C]),be=be+O|0,J=O,O=q,q=b(oe,10),oe=ie,ie=be,be=W+x[D+P[C]]|0,C<16?be+=p(I,ue,Ce)+B[0]:C<32?be+=y(I,ue,Ce)+B[1]:C<48?be+=v(I,ue,Ce)+B[2]:C<64?be+=m(I,ue,Ce)+B[3]:be+=g(I,ue,Ce)+B[4],be=be|0,be=b(be,j[C]),be=be+ae|0,W=ae,ae=Ce,Ce=b(ue,10),ue=I,I=be;be=R[1]+oe+Ce|0,R[1]=R[2]+q+ae|0,R[2]=R[3]+O+W|0,R[3]=R[4]+J+I|0,R[4]=R[0]+ie+ue|0,R[0]=be},_doFinalize:function(){var x=this._data,D=x.words,C=this._nDataBytes*8,S=x.sigBytes*8;D[S>>>5]|=128<<24-S%32,D[(S+64>>>9<<4)+14]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,x.sigBytes=(D.length+1)*4,this._process();for(var M=this._hash,R=M.words,$=0;$<5;$++){var B=R[$];R[$]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}return M},clone:function(){var x=o.clone.call(this);return x._hash=this._hash.clone(),x}});function g(x,D,C){return x^D^C}function m(x,D,C){return x&D|~x&C}function v(x,D,C){return(x|~D)^C}function y(x,D,C){return x&C|D&~C}function p(x,D,C){return x^(D|~C)}function b(x,D){return x<<D|x>>>32-D}t.RIPEMD160=o._createHelper(h),t.HmacRIPEMD160=o._createHmacHelper(h)}(Math),e.RIPEMD160})});var zu=tt((qu,Ax)=>{"use strict";(function(e,n){typeof qu=="object"?Ax.exports=qu=n(ot()):typeof define=="function"&&define.amd?define(["./core"],n):n(e.CryptoJS)})(qu,function(e){(function(){var n=e,t=n.lib,i=t.Base,r=n.enc,o=r.Utf8,s=n.algo,a=s.HMAC=i.extend({init:function(l,c){l=this._hasher=new l.init,typeof c=="string"&&(c=o.parse(c));var u=l.blockSize,d=u*4;c.sigBytes>d&&(c=l.finalize(c)),c.clamp();for(var f=this._oKey=c.clone(),h=this._iKey=c.clone(),g=f.words,m=h.words,v=0;v<u;v++)g[v]^=1549556828,m[v]^=909522486;f.sigBytes=h.sigBytes=d,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var c=this._hasher,u=c.finalize(l);c.reset();var d=c.finalize(this._oKey.clone().concat(u));return d}})})()})});var Nx=tt((Qu,Ox)=>{"use strict";(function(e,n,t){typeof Qu=="object"?Ox.exports=Qu=n(ot(),Vu(),zu()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],n):n(e.CryptoJS)})(Qu,function(e){return function(){var n=e,t=n.lib,i=t.Base,r=t.WordArray,o=n.algo,s=o.SHA256,a=o.HMAC,l=o.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:s,iterations:25e4}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,u){for(var d=this.cfg,f=a.create(d.hasher,c),h=r.create(),g=r.create([1]),m=h.words,v=g.words,y=d.keySize,p=d.iterations;m.length<y;){var b=f.update(u).finalize(g);f.reset();for(var x=b.words,D=x.length,C=b,S=1;S<p;S++){C=f.finalize(C),f.reset();for(var M=C.words,R=0;R<D;R++)x[R]^=M[R]}h.concat(b),v[0]++}return h.sigBytes=y*4,h}});n.PBKDF2=function(c,u,d){return l.create(d).compute(c,u)}}(),e.PBKDF2})});var sr=tt((Yu,Rx)=>{"use strict";(function(e,n,t){typeof Yu=="object"?Rx.exports=Yu=n(ot(),lm(),zu()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],n):n(e.CryptoJS)})(Yu,function(e){return function(){var n=e,t=n.lib,i=t.Base,r=t.WordArray,o=n.algo,s=o.MD5,a=o.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:s,iterations:1}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,c){for(var u,d=this.cfg,f=d.hasher.create(),h=r.create(),g=h.words,m=d.keySize,v=d.iterations;g.length<m;){u&&f.update(u),u=f.update(l).finalize(c),f.reset();for(var y=1;y<v;y++)u=f.finalize(u),f.reset();h.concat(u)}return h.sigBytes=m*4,h}});n.EvpKDF=function(l,c,u){return a.create(u).compute(l,c)}}(),e.EvpKDF})});var en=tt((Ku,kx)=>{"use strict";(function(e,n,t){typeof Ku=="object"?kx.exports=Ku=n(ot(),sr()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],n):n(e.CryptoJS)})(Ku,function(e){e.lib.Cipher||function(n){var t=e,i=t.lib,r=i.Base,o=i.WordArray,s=i.BufferedBlockAlgorithm,a=t.enc,l=a.Utf8,c=a.Base64,u=t.algo,d=u.EvpKDF,f=i.Cipher=s.extend({cfg:r.extend(),createEncryptor:function(B,T){return this.create(this._ENC_XFORM_MODE,B,T)},createDecryptor:function(B,T){return this.create(this._DEC_XFORM_MODE,B,T)},init:function(B,T,P){this.cfg=this.cfg.extend(P),this._xformMode=B,this._key=T,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(B){return this._append(B),this._process()},finalize:function(B){B&&this._append(B);var T=this._doFinalize();return T},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function B(T){return typeof T=="string"?$:S}return function(T){return{encrypt:function(P,F,j){return B(F).encrypt(T,P,F,j)},decrypt:function(P,F,j){return B(F).decrypt(T,P,F,j)}}}}()}),h=i.StreamCipher=f.extend({_doFinalize:function(){var B=this._process(!0);return B},blockSize:1}),g=t.mode={},m=i.BlockCipherMode=r.extend({createEncryptor:function(B,T){return this.Encryptor.create(B,T)},createDecryptor:function(B,T){return this.Decryptor.create(B,T)},init:function(B,T){this._cipher=B,this._iv=T}}),v=g.CBC=function(){var B=m.extend();B.Encryptor=B.extend({processBlock:function(P,F){var j=this._cipher,J=j.blockSize;T.call(this,P,F,J),j.encryptBlock(P,F),this._prevBlock=P.slice(F,F+J)}}),B.Decryptor=B.extend({processBlock:function(P,F){var j=this._cipher,J=j.blockSize,ie=P.slice(F,F+J);j.decryptBlock(P,F),T.call(this,P,F,J),this._prevBlock=ie}});function T(P,F,j){var J,ie=this._iv;ie?(J=ie,this._iv=n):J=this._prevBlock;for(var oe=0;oe<j;oe++)P[F+oe]^=J[oe]}return B}(),y=t.pad={},p=y.Pkcs7={pad:function(B,T){for(var P=T*4,F=P-B.sigBytes%P,j=F<<24|F<<16|F<<8|F,J=[],ie=0;ie<F;ie+=4)J.push(j);var oe=o.create(J,F);B.concat(oe)},unpad:function(B){var T=B.words[B.sigBytes-1>>>2]&255;B.sigBytes-=T}},b=i.BlockCipher=f.extend({cfg:f.cfg.extend({mode:v,padding:p}),reset:function(){var B;f.reset.call(this);var T=this.cfg,P=T.iv,F=T.mode;this._xformMode==this._ENC_XFORM_MODE?B=F.createEncryptor:(B=F.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==B?this._mode.init(this,P&&P.words):(this._mode=B.call(F,this,P&&P.words),this._mode.__creator=B)},_doProcessBlock:function(B,T){this._mode.processBlock(B,T)},_doFinalize:function(){var B,T=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(T.pad(this._data,this.blockSize),B=this._process(!0)):(B=this._process(!0),T.unpad(B)),B},blockSize:128/32}),x=i.CipherParams=r.extend({init:function(B){this.mixIn(B)},toString:function(B){return(B||this.formatter).stringify(this)}}),D=t.format={},C=D.OpenSSL={stringify:function(B){var T,P=B.ciphertext,F=B.salt;return F?T=o.create([1398893684,1701076831]).concat(F).concat(P):T=P,T.toString(c)},parse:function(B){var T,P=c.parse(B),F=P.words;return F[0]==1398893684&&F[1]==1701076831&&(T=o.create(F.slice(2,4)),F.splice(0,4),P.sigBytes-=16),x.create({ciphertext:P,salt:T})}},S=i.SerializableCipher=r.extend({cfg:r.extend({format:C}),encrypt:function(B,T,P,F){F=this.cfg.extend(F);var j=B.createEncryptor(P,F),J=j.finalize(T),ie=j.cfg;return x.create({ciphertext:J,key:P,iv:ie.iv,algorithm:B,mode:ie.mode,padding:ie.padding,blockSize:B.blockSize,formatter:F.format})},decrypt:function(B,T,P,F){F=this.cfg.extend(F),T=this._parse(T,F.format);var j=B.createDecryptor(P,F).finalize(T.ciphertext);return j},_parse:function(B,T){return typeof B=="string"?T.parse(B,this):B}}),M=t.kdf={},R=M.OpenSSL={execute:function(B,T,P,F,j){if(F||(F=o.random(64/8)),j)var J=d.create({keySize:T+P,hasher:j}).compute(B,F);else var J=d.create({keySize:T+P}).compute(B,F);var ie=o.create(J.words.slice(T),P*4);return J.sigBytes=T*4,x.create({key:J,iv:ie,salt:F})}},$=i.PasswordBasedCipher=S.extend({cfg:S.cfg.extend({kdf:R}),encrypt:function(B,T,P,F){F=this.cfg.extend(F);var j=F.kdf.execute(P,B.keySize,B.ivSize,F.salt,F.hasher);F.iv=j.iv;var J=S.encrypt.call(this,B,T,j.key,F);return J.mixIn(j),J},decrypt:function(B,T,P,F){F=this.cfg.extend(F),T=this._parse(T,F.format);var j=F.kdf.execute(P,B.keySize,B.ivSize,T.salt,F.hasher);F.iv=j.iv;var J=S.decrypt.call(this,B,T,j.key,F);return J}})}()})});var Px=tt((Zu,Fx)=>{"use strict";(function(e,n,t){typeof Zu=="object"?Fx.exports=Zu=n(ot(),en()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],n):n(e.CryptoJS)})(Zu,function(e){return e.mode.CFB=function(){var n=e.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(i,r){var o=this._cipher,s=o.blockSize;t.call(this,i,r,s,o),this._prevBlock=i.slice(r,r+s)}}),n.Decryptor=n.extend({processBlock:function(i,r){var o=this._cipher,s=o.blockSize,a=i.slice(r,r+s);t.call(this,i,r,s,o),this._prevBlock=a}});function t(i,r,o,s){var a,l=this._iv;l?(a=l.slice(0),this._iv=void 0):a=this._prevBlock,s.encryptBlock(a,0);for(var c=0;c<o;c++)i[r+c]^=a[c]}return n}(),e.mode.CFB})});var Lx=tt((Ju,Bx)=>{"use strict";(function(e,n,t){typeof Ju=="object"?Bx.exports=Ju=n(ot(),en()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],n):n(e.CryptoJS)})(Ju,function(e){return e.mode.CTR=function(){var n=e.lib.BlockCipherMode.extend(),t=n.Encryptor=n.extend({processBlock:function(i,r){var o=this._cipher,s=o.blockSize,a=this._iv,l=this._counter;a&&(l=this._counter=a.slice(0),this._iv=void 0);var c=l.slice(0);o.encryptBlock(c,0),l[s-1]=l[s-1]+1|0;for(var u=0;u<s;u++)i[r+u]^=c[u]}});return n.Decryptor=t,n}(),e.mode.CTR})});var Vx=tt((Xu,jx)=>{"use strict";(function(e,n,t){typeof Xu=="object"?jx.exports=Xu=n(ot(),en()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],n):n(e.CryptoJS)})(Xu,function(e){return e.mode.CTRGladman=function(){var n=e.lib.BlockCipherMode.extend();function t(o){if((o>>24&255)===255){var s=o>>16&255,a=o>>8&255,l=o&255;s===255?(s=0,a===255?(a=0,l===255?l=0:++l):++a):++s,o=0,o+=s<<16,o+=a<<8,o+=l}else o+=1<<24;return o}function i(o){return(o[0]=t(o[0]))===0&&(o[1]=t(o[1])),o}var r=n.Encryptor=n.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,c=this._iv,u=this._counter;c&&(u=this._counter=c.slice(0),this._iv=void 0),i(u);var d=u.slice(0);a.encryptBlock(d,0);for(var f=0;f<l;f++)o[s+f]^=d[f]}});return n.Decryptor=r,n}(),e.mode.CTRGladman})});var Ux=tt((ed,Hx)=>{"use strict";(function(e,n,t){typeof ed=="object"?Hx.exports=ed=n(ot(),en()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],n):n(e.CryptoJS)})(ed,function(e){return e.mode.OFB=function(){var n=e.lib.BlockCipherMode.extend(),t=n.Encryptor=n.extend({processBlock:function(i,r){var o=this._cipher,s=o.blockSize,a=this._iv,l=this._keystream;a&&(l=this._keystream=a.slice(0),this._iv=void 0),o.encryptBlock(l,0);for(var c=0;c<s;c++)i[r+c]^=l[c]}});return n.Decryptor=t,n}(),e.mode.OFB})});var Gx=tt((td,$x)=>{"use strict";(function(e,n,t){typeof td=="object"?$x.exports=td=n(ot(),en()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],n):n(e.CryptoJS)})(td,function(e){return e.mode.ECB=function(){var n=e.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(t,i){this._cipher.encryptBlock(t,i)}}),n.Decryptor=n.extend({processBlock:function(t,i){this._cipher.decryptBlock(t,i)}}),n}(),e.mode.ECB})});var qx=tt((nd,Wx)=>{"use strict";(function(e,n,t){typeof nd=="object"?Wx.exports=nd=n(ot(),en()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],n):n(e.CryptoJS)})(nd,function(e){return e.pad.AnsiX923={pad:function(n,t){var i=n.sigBytes,r=t*4,o=r-i%r,s=i+o-1;n.clamp(),n.words[s>>>2]|=o<<24-s%4*8,n.sigBytes+=o},unpad:function(n){var t=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=t}},e.pad.Ansix923})});var Qx=tt((id,zx)=>{"use strict";(function(e,n,t){typeof id=="object"?zx.exports=id=n(ot(),en()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],n):n(e.CryptoJS)})(id,function(e){return e.pad.Iso10126={pad:function(n,t){var i=t*4,r=i-n.sigBytes%i;n.concat(e.lib.WordArray.random(r-1)).concat(e.lib.WordArray.create([r<<24],1))},unpad:function(n){var t=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=t}},e.pad.Iso10126})});var Kx=tt((rd,Yx)=>{"use strict";(function(e,n,t){typeof rd=="object"?Yx.exports=rd=n(ot(),en()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],n):n(e.CryptoJS)})(rd,function(e){return e.pad.Iso97971={pad:function(n,t){n.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(n,t)},unpad:function(n){e.pad.ZeroPadding.unpad(n),n.sigBytes--}},e.pad.Iso97971})});var Jx=tt((od,Zx)=>{"use strict";(function(e,n,t){typeof od=="object"?Zx.exports=od=n(ot(),en()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],n):n(e.CryptoJS)})(od,function(e){return e.pad.ZeroPadding={pad:function(n,t){var i=t*4;n.clamp(),n.sigBytes+=i-(n.sigBytes%i||i)},unpad:function(n){for(var t=n.words,i=n.sigBytes-1,i=n.sigBytes-1;i>=0;i--)if(t[i>>>2]>>>24-i%4*8&255){n.sigBytes=i+1;break}}},e.pad.ZeroPadding})});var eD=tt((sd,Xx)=>{"use strict";(function(e,n,t){typeof sd=="object"?Xx.exports=sd=n(ot(),en()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],n):n(e.CryptoJS)})(sd,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})});var nD=tt((ad,tD)=>{"use strict";(function(e,n,t){typeof ad=="object"?tD.exports=ad=n(ot(),en()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],n):n(e.CryptoJS)})(ad,function(e){return function(n){var t=e,i=t.lib,r=i.CipherParams,o=t.enc,s=o.Hex,a=t.format,l=a.Hex={stringify:function(c){return c.ciphertext.toString(s)},parse:function(c){var u=s.parse(c);return r.create({ciphertext:u})}}}(),e.format.Hex})});var rD=tt((ld,iD)=>{"use strict";(function(e,n,t){typeof ld=="object"?iD.exports=ld=n(ot(),Rr(),kr(),sr(),en()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],n):n(e.CryptoJS)})(ld,function(e){return function(){var n=e,t=n.lib,i=t.BlockCipher,r=n.algo,o=[],s=[],a=[],l=[],c=[],u=[],d=[],f=[],h=[],g=[];(function(){for(var y=[],p=0;p<256;p++)p<128?y[p]=p<<1:y[p]=p<<1^283;for(var b=0,x=0,p=0;p<256;p++){var D=x^x<<1^x<<2^x<<3^x<<4;D=D>>>8^D&255^99,o[b]=D,s[D]=b;var C=y[b],S=y[C],M=y[S],R=y[D]*257^D*16843008;a[b]=R<<24|R>>>8,l[b]=R<<16|R>>>16,c[b]=R<<8|R>>>24,u[b]=R;var R=M*16843009^S*65537^C*257^b*16843008;d[D]=R<<24|R>>>8,f[D]=R<<16|R>>>16,h[D]=R<<8|R>>>24,g[D]=R,b?(b=C^y[y[y[M^C]]],x^=y[y[x]]):b=x=1}})();var m=[0,1,2,4,8,16,32,64,128,27,54],v=r.AES=i.extend({_doReset:function(){var y;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var p=this._keyPriorReset=this._key,b=p.words,x=p.sigBytes/4,D=this._nRounds=x+6,C=(D+1)*4,S=this._keySchedule=[],M=0;M<C;M++)M<x?S[M]=b[M]:(y=S[M-1],M%x?x>6&&M%x==4&&(y=o[y>>>24]<<24|o[y>>>16&255]<<16|o[y>>>8&255]<<8|o[y&255]):(y=y<<8|y>>>24,y=o[y>>>24]<<24|o[y>>>16&255]<<16|o[y>>>8&255]<<8|o[y&255],y^=m[M/x|0]<<24),S[M]=S[M-x]^y);for(var R=this._invKeySchedule=[],$=0;$<C;$++){var M=C-$;if($%4)var y=S[M];else var y=S[M-4];$<4||M<=4?R[$]=y:R[$]=d[o[y>>>24]]^f[o[y>>>16&255]]^h[o[y>>>8&255]]^g[o[y&255]]}}},encryptBlock:function(y,p){this._doCryptBlock(y,p,this._keySchedule,a,l,c,u,o)},decryptBlock:function(y,p){var b=y[p+1];y[p+1]=y[p+3],y[p+3]=b,this._doCryptBlock(y,p,this._invKeySchedule,d,f,h,g,s);var b=y[p+1];y[p+1]=y[p+3],y[p+3]=b},_doCryptBlock:function(y,p,b,x,D,C,S,M){for(var R=this._nRounds,$=y[p]^b[0],B=y[p+1]^b[1],T=y[p+2]^b[2],P=y[p+3]^b[3],F=4,j=1;j<R;j++){var J=x[$>>>24]^D[B>>>16&255]^C[T>>>8&255]^S[P&255]^b[F++],ie=x[B>>>24]^D[T>>>16&255]^C[P>>>8&255]^S[$&255]^b[F++],oe=x[T>>>24]^D[P>>>16&255]^C[$>>>8&255]^S[B&255]^b[F++],q=x[P>>>24]^D[$>>>16&255]^C[B>>>8&255]^S[T&255]^b[F++];$=J,B=ie,T=oe,P=q}var J=(M[$>>>24]<<24|M[B>>>16&255]<<16|M[T>>>8&255]<<8|M[P&255])^b[F++],ie=(M[B>>>24]<<24|M[T>>>16&255]<<16|M[P>>>8&255]<<8|M[$&255])^b[F++],oe=(M[T>>>24]<<24|M[P>>>16&255]<<16|M[$>>>8&255]<<8|M[B&255])^b[F++],q=(M[P>>>24]<<24|M[$>>>16&255]<<16|M[B>>>8&255]<<8|M[T&255])^b[F++];y[p]=J,y[p+1]=ie,y[p+2]=oe,y[p+3]=q},keySize:256/32});n.AES=i._createHelper(v)}(),e.AES})});var sD=tt((cd,oD)=>{"use strict";(function(e,n,t){typeof cd=="object"?oD.exports=cd=n(ot(),Rr(),kr(),sr(),en()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],n):n(e.CryptoJS)})(cd,function(e){return function(){var n=e,t=n.lib,i=t.WordArray,r=t.BlockCipher,o=n.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=o.DES=r.extend({_doReset:function(){for(var m=this._key,v=m.words,y=[],p=0;p<56;p++){var b=s[p]-1;y[p]=v[b>>>5]>>>31-b%32&1}for(var x=this._subKeys=[],D=0;D<16;D++){for(var C=x[D]=[],S=l[D],p=0;p<24;p++)C[p/6|0]|=y[(a[p]-1+S)%28]<<31-p%6,C[4+(p/6|0)]|=y[28+(a[p+24]-1+S)%28]<<31-p%6;C[0]=C[0]<<1|C[0]>>>31;for(var p=1;p<7;p++)C[p]=C[p]>>>(p-1)*4+3;C[7]=C[7]<<5|C[7]>>>27}for(var M=this._invSubKeys=[],p=0;p<16;p++)M[p]=x[15-p]},encryptBlock:function(m,v){this._doCryptBlock(m,v,this._subKeys)},decryptBlock:function(m,v){this._doCryptBlock(m,v,this._invSubKeys)},_doCryptBlock:function(m,v,y){this._lBlock=m[v],this._rBlock=m[v+1],f.call(this,4,252645135),f.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),f.call(this,1,1431655765);for(var p=0;p<16;p++){for(var b=y[p],x=this._lBlock,D=this._rBlock,C=0,S=0;S<8;S++)C|=c[S][((D^b[S])&u[S])>>>0];this._lBlock=D,this._rBlock=x^C}var M=this._lBlock;this._lBlock=this._rBlock,this._rBlock=M,f.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),m[v]=this._lBlock,m[v+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function f(m,v){var y=(this._lBlock>>>m^this._rBlock)&v;this._rBlock^=y,this._lBlock^=y<<m}function h(m,v){var y=(this._rBlock>>>m^this._lBlock)&v;this._lBlock^=y,this._rBlock^=y<<m}n.DES=r._createHelper(d);var g=o.TripleDES=r.extend({_doReset:function(){var m=this._key,v=m.words;if(v.length!==2&&v.length!==4&&v.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var y=v.slice(0,2),p=v.length<4?v.slice(0,2):v.slice(2,4),b=v.length<6?v.slice(0,2):v.slice(4,6);this._des1=d.createEncryptor(i.create(y)),this._des2=d.createEncryptor(i.create(p)),this._des3=d.createEncryptor(i.create(b))},encryptBlock:function(m,v){this._des1.encryptBlock(m,v),this._des2.decryptBlock(m,v),this._des3.encryptBlock(m,v)},decryptBlock:function(m,v){this._des3.decryptBlock(m,v),this._des2.encryptBlock(m,v),this._des1.decryptBlock(m,v)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=r._createHelper(g)}(),e.TripleDES})});var lD=tt((ud,aD)=>{"use strict";(function(e,n,t){typeof ud=="object"?aD.exports=ud=n(ot(),Rr(),kr(),sr(),en()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],n):n(e.CryptoJS)})(ud,function(e){return function(){var n=e,t=n.lib,i=t.StreamCipher,r=n.algo,o=r.RC4=i.extend({_doReset:function(){for(var l=this._key,c=l.words,u=l.sigBytes,d=this._S=[],f=0;f<256;f++)d[f]=f;for(var f=0,h=0;f<256;f++){var g=f%u,m=c[g>>>2]>>>24-g%4*8&255;h=(h+d[f]+m)%256;var v=d[f];d[f]=d[h],d[h]=v}this._i=this._j=0},_doProcessBlock:function(l,c){l[c]^=s.call(this)},keySize:256/32,ivSize:0});function s(){for(var l=this._S,c=this._i,u=this._j,d=0,f=0;f<4;f++){c=(c+1)%256,u=(u+l[c])%256;var h=l[c];l[c]=l[u],l[u]=h,d|=l[(l[c]+l[u])%256]<<24-f*8}return this._i=c,this._j=u,d}n.RC4=i._createHelper(o);var a=r.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var l=this.cfg.drop;l>0;l--)s.call(this)}});n.RC4Drop=i._createHelper(a)}(),e.RC4})});var uD=tt((dd,cD)=>{"use strict";(function(e,n,t){typeof dd=="object"?cD.exports=dd=n(ot(),Rr(),kr(),sr(),en()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],n):n(e.CryptoJS)})(dd,function(e){return function(){var n=e,t=n.lib,i=t.StreamCipher,r=n.algo,o=[],s=[],a=[],l=r.Rabbit=i.extend({_doReset:function(){for(var u=this._key.words,d=this.cfg.iv,f=0;f<4;f++)u[f]=(u[f]<<8|u[f]>>>24)&16711935|(u[f]<<24|u[f]>>>8)&4278255360;var h=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],g=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var f=0;f<4;f++)c.call(this);for(var f=0;f<8;f++)g[f]^=h[f+4&7];if(d){var m=d.words,v=m[0],y=m[1],p=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,b=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,x=p>>>16|b&4294901760,D=b<<16|p&65535;g[0]^=p,g[1]^=x,g[2]^=b,g[3]^=D,g[4]^=p,g[5]^=x,g[6]^=b,g[7]^=D;for(var f=0;f<4;f++)c.call(this)}},_doProcessBlock:function(u,d){var f=this._X;c.call(this),o[0]=f[0]^f[5]>>>16^f[3]<<16,o[1]=f[2]^f[7]>>>16^f[5]<<16,o[2]=f[4]^f[1]>>>16^f[7]<<16,o[3]=f[6]^f[3]>>>16^f[1]<<16;for(var h=0;h<4;h++)o[h]=(o[h]<<8|o[h]>>>24)&16711935|(o[h]<<24|o[h]>>>8)&4278255360,u[d+h]^=o[h]},blockSize:128/32,ivSize:64/32});function c(){for(var u=this._X,d=this._C,f=0;f<8;f++)s[f]=d[f];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<s[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<s[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<s[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<s[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<s[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<s[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<s[6]>>>0?1:0)|0,this._b=d[7]>>>0<s[7]>>>0?1:0;for(var f=0;f<8;f++){var h=u[f]+d[f],g=h&65535,m=h>>>16,v=((g*g>>>17)+g*m>>>15)+m*m,y=((h&4294901760)*h|0)+((h&65535)*h|0);a[f]=v^y}u[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,u[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,u[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,u[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,u[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,u[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,u[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,u[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}n.Rabbit=i._createHelper(l)}(),e.Rabbit})});var fD=tt((fd,dD)=>{"use strict";(function(e,n,t){typeof fd=="object"?dD.exports=fd=n(ot(),Rr(),kr(),sr(),en()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],n):n(e.CryptoJS)})(fd,function(e){return function(){var n=e,t=n.lib,i=t.StreamCipher,r=n.algo,o=[],s=[],a=[],l=r.RabbitLegacy=i.extend({_doReset:function(){var u=this._key.words,d=this.cfg.iv,f=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],h=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var g=0;g<4;g++)c.call(this);for(var g=0;g<8;g++)h[g]^=f[g+4&7];if(d){var m=d.words,v=m[0],y=m[1],p=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,b=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,x=p>>>16|b&4294901760,D=b<<16|p&65535;h[0]^=p,h[1]^=x,h[2]^=b,h[3]^=D,h[4]^=p,h[5]^=x,h[6]^=b,h[7]^=D;for(var g=0;g<4;g++)c.call(this)}},_doProcessBlock:function(u,d){var f=this._X;c.call(this),o[0]=f[0]^f[5]>>>16^f[3]<<16,o[1]=f[2]^f[7]>>>16^f[5]<<16,o[2]=f[4]^f[1]>>>16^f[7]<<16,o[3]=f[6]^f[3]>>>16^f[1]<<16;for(var h=0;h<4;h++)o[h]=(o[h]<<8|o[h]>>>24)&16711935|(o[h]<<24|o[h]>>>8)&4278255360,u[d+h]^=o[h]},blockSize:128/32,ivSize:64/32});function c(){for(var u=this._X,d=this._C,f=0;f<8;f++)s[f]=d[f];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<s[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<s[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<s[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<s[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<s[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<s[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<s[6]>>>0?1:0)|0,this._b=d[7]>>>0<s[7]>>>0?1:0;for(var f=0;f<8;f++){var h=u[f]+d[f],g=h&65535,m=h>>>16,v=((g*g>>>17)+g*m>>>15)+m*m,y=((h&4294901760)*h|0)+((h&65535)*h|0);a[f]=v^y}u[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,u[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,u[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,u[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,u[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,u[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,u[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,u[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}n.RabbitLegacy=i._createHelper(l)}(),e.RabbitLegacy})});var pD=tt((hd,hD)=>{"use strict";(function(e,n,t){typeof hd=="object"?hD.exports=hd=n(ot(),Rr(),kr(),sr(),en()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],n):n(e.CryptoJS)})(hd,function(e){return function(){var n=e,t=n.lib,i=t.BlockCipher,r=n.algo;let o=16,s=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var l={pbox:[],sbox:[]};function c(g,m){let v=m>>24&255,y=m>>16&255,p=m>>8&255,b=m&255,x=g.sbox[0][v]+g.sbox[1][y];return x=x^g.sbox[2][p],x=x+g.sbox[3][b],x}function u(g,m,v){let y=m,p=v,b;for(let x=0;x<o;++x)y=y^g.pbox[x],p=c(g,y)^p,b=y,y=p,p=b;return b=y,y=p,p=b,p=p^g.pbox[o],y=y^g.pbox[o+1],{left:y,right:p}}function d(g,m,v){let y=m,p=v,b;for(let x=o+1;x>1;--x)y=y^g.pbox[x],p=c(g,y)^p,b=y,y=p,p=b;return b=y,y=p,p=b,p=p^g.pbox[1],y=y^g.pbox[0],{left:y,right:p}}function f(g,m,v){for(let D=0;D<4;D++){g.sbox[D]=[];for(let C=0;C<256;C++)g.sbox[D][C]=a[D][C]}let y=0;for(let D=0;D<o+2;D++)g.pbox[D]=s[D]^m[y],y++,y>=v&&(y=0);let p=0,b=0,x=0;for(let D=0;D<o+2;D+=2)x=u(g,p,b),p=x.left,b=x.right,g.pbox[D]=p,g.pbox[D+1]=b;for(let D=0;D<4;D++)for(let C=0;C<256;C+=2)x=u(g,p,b),p=x.left,b=x.right,g.sbox[D][C]=p,g.sbox[D][C+1]=b;return!0}var h=r.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,m=g.words,v=g.sigBytes/4;f(l,m,v)}},encryptBlock:function(g,m){var v=u(l,g[m],g[m+1]);g[m]=v.left,g[m+1]=v.right},decryptBlock:function(g,m){var v=d(l,g[m],g[m+1]);g[m]=v.left,g[m+1]=v.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=i._createHelper(h)}(),e.Blowfish})});var mD=tt((pd,gD)=>{"use strict";(function(e,n,t){typeof pd=="object"?gD.exports=pd=n(ot(),Fa(),dx(),hx(),Rr(),mx(),kr(),lm(),Vu(),Cx(),cm(),Ex(),Ix(),Tx(),zu(),Nx(),sr(),en(),Px(),Lx(),Vx(),Ux(),Gx(),qx(),Qx(),Kx(),Jx(),eD(),nD(),rD(),sD(),lD(),uD(),fD(),pD()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],n):e.CryptoJS=n(e.CryptoJS)})(pd,function(e){return e})});var Vm=null;var Ud=1,$d=Symbol("SIGNAL");function ft(e){let n=Vm;return Vm=e,n}var Hm={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function LE(e){if(!(qd(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ud)){if(!e.producerMustRecompute(e)&&!Gd(e)){e.dirty=!1,e.lastCleanEpoch=Ud;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Ud}}function Um(e){return e&&(e.nextProducerIndex=0),ft(e)}function $m(e,n){if(ft(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(qd(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Wd(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Gd(e){Ka(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],i=e.producerLastReadVersion[n];if(i!==t.version||(LE(t),i!==t.version))return!0}return!1}function Gm(e){if(Ka(e),qd(e))for(let n=0;n<e.producerNode.length;n++)Wd(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Wd(e,n){if(jE(e),Ka(e),e.liveConsumerNode.length===1)for(let i=0;i<e.producerNode.length;i++)Wd(e.producerNode[i],e.producerIndexOfThis[i]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[n],r=e.liveConsumerNode[n];Ka(r),r.producerIndexOfThis[i]=n}}function qd(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ka(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function jE(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function VE(){throw new Error}var HE=VE;function Wm(e){HE=e}function He(e){return typeof e=="function"}function So(e){let t=e(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Za=So(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Lr(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var $t=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(He(i))try{i()}catch(o){n=o instanceof Za?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{qm(o)}catch(s){n=n??[],s instanceof Za?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Za(n)}}add(n){var t;if(n&&n!==this)if(this.closed)qm(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Lr(t,n)}remove(n){let{_finalizers:t}=this;t&&Lr(t,n),n instanceof e&&n._removeParent(this)}};$t.EMPTY=(()=>{let e=new $t;return e.closed=!0,e})();var zd=$t.EMPTY;function Ja(e){return e instanceof $t||e&&"closed"in e&&He(e.remove)&&He(e.add)&&He(e.unsubscribe)}function qm(e){He(e)?e():e.unsubscribe()}var ei={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Io={setTimeout(e,n,...t){let{delegate:i}=Io;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Io;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Xa(e){Io.setTimeout(()=>{let{onUnhandledError:n}=ei;if(n)n(e);else throw e})}function jr(){}var zm=Qd("C",void 0,void 0);function Qm(e){return Qd("E",void 0,e)}function Ym(e){return Qd("N",e,void 0)}function Qd(e,n,t){return{kind:e,value:n,error:t}}var Vr=null;function Mo(e){if(ei.useDeprecatedSynchronousErrorHandling){let n=!Vr;if(n&&(Vr={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:i}=Vr;if(Vr=null,t)throw i}}else e()}function Km(e){ei.useDeprecatedSynchronousErrorHandling&&Vr&&(Vr.errorThrown=!0,Vr.error=e)}var Hr=class extends $t{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Ja(n)&&n.add(this)):this.destination=GE}static create(n,t,i){return new To(n,t,i)}next(n){this.isStopped?Kd(Ym(n),this):this._next(n)}error(n){this.isStopped?Kd(Qm(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Kd(zm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},UE=Function.prototype.bind;function Yd(e,n){return UE.call(e,n)}var Zd=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){el(i)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){el(i)}else el(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){el(t)}}},To=class extends Hr{constructor(n,t,i){super();let r;if(He(n)||!n)r={next:n??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&ei.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&Yd(n.next,o),error:n.error&&Yd(n.error,o),complete:n.complete&&Yd(n.complete,o)}):r=n}this.destination=new Zd(r)}};function el(e){ei.useDeprecatedSynchronousErrorHandling?Km(e):Xa(e)}function $E(e){throw e}function Kd(e,n){let{onStoppedNotification:t}=ei;t&&Io.setTimeout(()=>t(e,n))}var GE={closed:!0,next:jr,error:$E,complete:jr};var Ao=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Dn(e){return e}function Jd(...e){return Xd(e)}function Xd(e){return e.length===0?Dn:e.length===1?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}var Ke=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=qE(t)?t:new To(t,i,r);return Mo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=Zm(i),new i((r,o)=>{let s=new To({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Ao](){return this}pipe(...t){return Xd(t)(this)}toPromise(t){return t=Zm(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=n=>new e(n),e})();function Zm(e){var n;return(n=e??ei.Promise)!==null&&n!==void 0?n:Promise}function WE(e){return e&&He(e.next)&&He(e.error)&&He(e.complete)}function qE(e){return e&&e instanceof Hr||WE(e)&&Ja(e)}function ef(e){return He(e?.lift)}function rt(e){return n=>{if(ef(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ye(e,n,t,i,r){return new tf(e,n,t,i,r)}var tf=class extends Hr{constructor(n,t,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Oo(){return rt((e,n)=>{let t=null;e._refCount++;let i=Ye(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let r=e._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});e.subscribe(i),i.closed||(t=e.connect())})}var No=class extends Ke{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ef(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new $t;let t=this.getSubject();n.add(this.source.subscribe(Ye(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=$t.EMPTY)}return n}refCount(){return Oo()(this)}};var Jm=So(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Tt=(()=>{class e extends Ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new tl(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Jm}next(t){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?zd:(this.currentObservers=null,o.push(t),new $t(()=>{this.currentObservers=null,Lr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new Ke;return t.source=this,t}}return e.create=(n,t)=>new tl(n,t),e})(),tl=class extends Tt{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,n)}error(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&i!==void 0?i:zd}};var yt=class extends Tt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var nf={now(){return(nf.delegate||Date).now()},delegate:void 0};var nl=class extends $t{constructor(n,t){super()}schedule(n,t=0){return this}};var Os={setInterval(e,n,...t){let{delegate:i}=Os;return i?.setInterval?i.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){let{delegate:n}=Os;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var il=class extends nl{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var i;if(this.closed)return this;this.state=n;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,i=0){return Os.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Os.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(n,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i=!1,r;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:n,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Lr(i,this),n!=null&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}};var Ro=class e{constructor(n,t=e.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,i){return new this.schedulerActionCtor(this,n).schedule(i,t)}};Ro.now=nf.now;var rl=class extends Ro{constructor(n,t=Ro.now){super(n,t),this.actions=[],this._active=!1}flush(n){let{actions:t}=this;if(this._active){t.push(n);return}let i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=t.shift());if(this._active=!1,i){for(;n=t.shift();)n.unsubscribe();throw i}}};var zE=new rl(il),Xm=zE;var cn=new Ke(e=>e.complete());function ol(e){return e&&He(e.schedule)}function e_(e){return e[e.length-1]}function lr(e){return He(e_(e))?e.pop():void 0}function cr(e){return ol(e_(e))?e.pop():void 0}function n_(e,n,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(e,n||[])).next())})}function t_(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ur(e){return this instanceof Ur?(this.v=e,this):new Ur(e)}function i_(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(e,n||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(h){return function(g){return Promise.resolve(g).then(h,d)}}function a(h,g){i[h]&&(r[h]=function(m){return new Promise(function(v,y){o.push([h,m,v,y])>1||l(h,m)})},g&&(r[h]=g(r[h])))}function l(h,g){try{c(i[h](g))}catch(m){f(o[0][3],m)}}function c(h){h.value instanceof Ur?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,g){h(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function r_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof t_=="function"?t_(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var ko=e=>e&&typeof e.length=="number"&&typeof e!="function";function sl(e){return He(e?.then)}function al(e){return He(e[Ao])}function ll(e){return Symbol.asyncIterator&&He(e?.[Symbol.asyncIterator])}function cl(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function QE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ul=QE();function dl(e){return He(e?.[ul])}function fl(e){return i_(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:i,done:r}=yield Ur(t.read());if(r)return yield Ur(void 0);yield yield Ur(i)}}finally{t.releaseLock()}})}function hl(e){return He(e?.getReader)}function bt(e){if(e instanceof Ke)return e;if(e!=null){if(al(e))return YE(e);if(ko(e))return KE(e);if(sl(e))return ZE(e);if(ll(e))return o_(e);if(dl(e))return JE(e);if(hl(e))return XE(e)}throw cl(e)}function YE(e){return new Ke(n=>{let t=e[Ao]();if(He(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KE(e){return new Ke(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function ZE(e){return new Ke(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Xa)})}function JE(e){return new Ke(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function o_(e){return new Ke(n=>{eS(e,n).catch(t=>n.error(t))})}function XE(e){return o_(fl(e))}function eS(e,n){var t,i,r,o;return n_(this,void 0,void 0,function*(){try{for(t=r_(e);i=yield t.next(),!i.done;){let s=i.value;if(n.next(s),n.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}n.complete()})}function An(e,n,t,i=0,r=!1){let o=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function pl(e,n=0){return rt((t,i)=>{t.subscribe(Ye(i,r=>An(i,e,()=>i.next(r),n),()=>An(i,e,()=>i.complete(),n),r=>An(i,e,()=>i.error(r),n)))})}function gl(e,n=0){return rt((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function s_(e,n){return bt(e).pipe(gl(n),pl(n))}function a_(e,n){return bt(e).pipe(gl(n),pl(n))}function l_(e,n){return new Ke(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}function c_(e,n){return new Ke(t=>{let i;return An(t,n,()=>{i=e[ul](),An(t,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>He(i?.return)&&i.return()})}function ml(e,n){if(!e)throw new Error("Iterable cannot be null");return new Ke(t=>{An(t,n,()=>{let i=e[Symbol.asyncIterator]();An(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function u_(e,n){return ml(fl(e),n)}function d_(e,n){if(e!=null){if(al(e))return s_(e,n);if(ko(e))return l_(e,n);if(sl(e))return a_(e,n);if(ll(e))return ml(e,n);if(dl(e))return c_(e,n);if(hl(e))return u_(e,n)}throw cl(e)}function Nt(e,n){return n?d_(e,n):bt(e)}function Le(...e){let n=cr(e);return Nt(e,n)}function Fo(e,n){let t=He(e)?e:()=>e,i=r=>r.error(t());return new Ke(n?r=>n.schedule(i,0,r):i)}function rf(e){return!!e&&(e instanceof Ke||He(e.lift)&&He(e.subscribe))}var Bi=So(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function f_(e){return e instanceof Date&&!isNaN(e)}function Qe(e,n){return rt((t,i)=>{let r=0;t.subscribe(Ye(i,o=>{i.next(e.call(n,o,r++))}))})}var{isArray:tS}=Array;function nS(e,n){return tS(n)?e(...n):e(n)}function Po(e){return Qe(n=>nS(e,n))}var{isArray:iS}=Array,{getPrototypeOf:rS,prototype:oS,keys:sS}=Object;function _l(e){if(e.length===1){let n=e[0];if(iS(n))return{args:n,keys:null};if(aS(n)){let t=sS(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}function aS(e){return e&&typeof e=="object"&&rS(e)===oS}function vl(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}function Bo(...e){let n=cr(e),t=lr(e),{args:i,keys:r}=_l(e);if(i.length===0)return Nt([],n);let o=new Ke(lS(i,n,r?s=>vl(r,s):Dn));return t?o.pipe(Po(t)):o}function lS(e,n,t=Dn){return i=>{h_(n,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)h_(n,()=>{let c=Nt(e[l],n),u=!1;c.subscribe(Ye(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function h_(e,n,t){e?An(t,e,n):n()}function p_(e,n,t,i,r,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&n.complete()},h=m=>c<i?g(m):l.push(m),g=m=>{o&&n.next(m),c++;let v=!1;bt(t(m,u++)).subscribe(Ye(n,y=>{r?.(y),o?h(y):n.next(y)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<i;){let y=l.shift();s?An(n,s,()=>g(y)):g(y)}f()}catch(y){n.error(y)}}))};return e.subscribe(Ye(n,h,()=>{d=!0,f()})),()=>{a?.()}}function Ft(e,n,t=1/0){return He(n)?Ft((i,r)=>Qe((o,s)=>n(i,o,r,s))(bt(e(i,r))),t):(typeof n=="number"&&(t=n),rt((i,r)=>p_(i,r,e,t)))}function ur(e=1/0){return Ft(Dn,e)}function g_(){return ur(1)}function dr(...e){return g_()(Nt(e,cr(e)))}function yl(e){return new Ke(n=>{bt(e()).subscribe(n)})}function of(...e){let n=lr(e),{args:t,keys:i}=_l(e),r=new Ke(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;bt(t[u]).subscribe(Ye(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?vl(i,a):a),o.complete())}))}});return n?r.pipe(Po(n)):r}var cS=["addListener","removeListener"],uS=["addEventListener","removeEventListener"],dS=["on","off"];function qn(e,n,t,i){if(He(t)&&(i=t,t=void 0),i)return qn(e,n,t).pipe(Po(i));let[r,o]=pS(e)?uS.map(s=>a=>e[s](n,a,t)):fS(e)?cS.map(m_(e,n)):hS(e)?dS.map(m_(e,n)):[];if(!r&&ko(e))return Ft(s=>qn(s,n,t))(bt(e));if(!r)throw new TypeError("Invalid event target");return new Ke(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function m_(e,n){return t=>i=>e[t](n,i)}function fS(e){return He(e.addListener)&&He(e.removeListener)}function hS(e){return He(e.on)&&He(e.off)}function pS(e){return He(e.addEventListener)&&He(e.removeEventListener)}function sf(e=0,n,t=Xm){let i=-1;return n!=null&&(ol(n)?t=n:i=n),new Ke(r=>{let o=f_(e)?+e-t.now():e;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}var{isArray:gS}=Array;function bl(e){return e.length===1&&gS(e[0])?e[0]:e}function Yt(e,n){return rt((t,i)=>{let r=0;t.subscribe(Ye(i,o=>e.call(n,o,r++)&&i.next(o)))})}function af(...e){return e=bl(e),e.length===1?bt(e[0]):new Ke(mS(e))}function mS(e){return n=>{let t=[];for(let i=0;t&&!n.closed&&i<e.length;i++)t.push(bt(e[i]).subscribe(Ye(n,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}n.next(r)})))}}function Ns(...e){let n=lr(e),t=bl(e);return t.length?new Ke(i=>{let r=t.map(()=>[]),o=t.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<t.length;s++)bt(t[s]).subscribe(Ye(i,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(c=>c.shift());i.next(n?n(...l):l),r.some((c,u)=>!c.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):cn}function fr(e){return rt((n,t)=>{let i=null,r=!1,o;i=n.subscribe(Ye(t,void 0,void 0,s=>{o=bt(e(s,fr(e)(n))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function __(e,n,t,i,r){return(o,s)=>{let a=t,l=n,c=0;o.subscribe(Ye(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function $r(e,n){return He(n)?Ft(e,n,1):Ft(e,1)}function hr(e){return rt((n,t)=>{let i=!1;n.subscribe(Ye(t,r=>{i=!0,t.next(r)},()=>{i||t.next(e),t.complete()}))})}function On(e){return e<=0?()=>cn:rt((n,t)=>{let i=0;n.subscribe(Ye(t,r=>{++i<=e&&(t.next(r),e<=i&&t.complete())}))})}function lf(e){return Qe(()=>e)}function wl(e=_S){return rt((n,t)=>{let i=!1;n.subscribe(Ye(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(e())))})}function _S(){return new Bi}function cf(...e){return n=>dr(n,Le(...e))}function Lo(e){return rt((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function gi(e,n){let t=arguments.length>=2;return i=>i.pipe(e?Yt((r,o)=>e(r,o,i)):Dn,On(1),t?hr(n):wl(()=>new Bi))}function jo(e){return e<=0?()=>cn:rt((n,t)=>{let i=[];n.subscribe(Ye(t,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function uf(e,n){let t=arguments.length>=2;return i=>i.pipe(e?Yt((r,o)=>e(r,o,i)):Dn,jo(1),t?hr(n):wl(()=>new Bi))}function df(e,n){return rt(__(e,n,arguments.length>=2,!0))}function Cl(...e){let n=cr(e);return rt((t,i)=>{(n?dr(e,t,n):dr(e,t)).subscribe(i)})}function un(e,n){return rt((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(Ye(i,l=>{r?.unsubscribe();let c=0,u=o++;bt(e(l,u)).subscribe(r=Ye(i,d=>i.next(n?n(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function mn(e){return rt((n,t)=>{bt(e).subscribe(Ye(t,()=>t.complete(),jr)),!t.closed&&n.subscribe(t)})}function Kt(e,n,t){let i=He(e)||n||t?{next:e,error:n,complete:t}:e;return i?rt((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(Ye(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Dn}function xl(...e){let n=lr(e);return rt((t,i)=>{let r=e.length,o=new Array(r),s=e.map(()=>!1),a=!1;for(let l=0;l<r;l++)bt(e[l]).subscribe(Ye(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(Dn))&&(s=null))},jr));t.subscribe(Ye(i,l=>{if(a){let c=[l,...o];i.next(n?n(...c):c)}}))})}var av="https://g.co/ng/security#xss",Be=class extends Error{constructor(n,t){super(Sh(n,t)),this.code=n}};function Sh(e,n){return`${`NG0${Math.abs(e)}`}${n?": "+n:""}`}function qs(e){return{toString:e}.toString()}var Dl="__parameters__";function vS(e){return function(...t){if(e){let i=e(...t);for(let r in i)this[r]=i[r]}}}function lv(e,n,t){return qs(()=>{let i=vS(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Dl)?l[Dl]:Object.defineProperty(l,Dl,{value:[]})[Dl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var dn=globalThis;function Mt(e){for(let n in e)if(e[n]===Mt)return n;throw Error("Could not find renamed property on target object.")}function yS(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Sn(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Sn).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let n=e.toString();if(n==null)return""+n;let t=n.indexOf(`
`);return t===-1?n:n.substring(0,t)}function Sf(e,n){return e==null||e===""?n===null?"":n:n==null||n===""?e:e+" "+n}var bS=Mt({__forward_ref__:Mt});function Rn(e){return e.__forward_ref__=Rn,e.toString=function(){return Sn(this())},e}function En(e){return cv(e)?e():e}function cv(e){return typeof e=="function"&&e.hasOwnProperty(bS)&&e.__forward_ref__===Rn}function Fe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function at(e){return{providers:e.providers||[],imports:e.imports||[]}}function oc(e){return v_(e,dv)||v_(e,fv)}function uv(e){return oc(e)!==null}function v_(e,n){return e.hasOwnProperty(n)?e[n]:null}function wS(e){let n=e&&(e[dv]||e[fv]);return n||null}function y_(e){return e&&(e.hasOwnProperty(b_)||e.hasOwnProperty(CS))?e[b_]:null}var dv=Mt({\u0275prov:Mt}),b_=Mt({\u0275inj:Mt}),fv=Mt({ngInjectableDef:Mt}),CS=Mt({ngInjectorDef:Mt}),$e=class{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Fe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function hv(e){return e&&!!e.\u0275providers}var xS=Mt({\u0275cmp:Mt}),DS=Mt({\u0275dir:Mt}),ES=Mt({\u0275pipe:Mt}),SS=Mt({\u0275mod:Mt}),Bl=Mt({\u0275fac:Mt}),Rs=Mt({__NG_ELEMENT_ID__:Mt}),w_=Mt({__NG_ENV_ID__:Mt});function zs(e){return typeof e=="string"?e:e==null?"":String(e)}function IS(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():zs(e)}function MS(e,n){let t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new Be(-200,e)}function Ih(e,n){throw new Be(-201,!1)}var et=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(et||{}),If;function pv(){return If}function zn(e){let n=If;return If=e,n}function gv(e,n,t){let i=oc(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&et.Optional)return null;if(n!==void 0)return n;Ih(e,"Injector")}var TS={},Fs=TS,Mf="__NG_DI_FLAG__",Ll="ngTempTokenPath",AS="ngTokenPath",OS=/\n/gm,NS="\u0275",C_="__source",Go;function RS(){return Go}function pr(e){let n=Go;return Go=e,n}function kS(e,n=et.Default){if(Go===void 0)throw new Be(-203,!1);return Go===null?gv(e,void 0,n):Go.get(e,n&et.Optional?null:void 0,n)}function Ue(e,n=et.Default){return(pv()||kS)(En(e),n)}function Ee(e,n=et.Default){return Ue(e,sc(n))}function sc(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Tf(e){let n=[];for(let t=0;t<e.length;t++){let i=En(e[t]);if(Array.isArray(i)){if(i.length===0)throw new Be(900,!1);let r,o=et.Default;for(let s=0;s<i.length;s++){let a=i[s],l=FS(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}n.push(Ue(r,o))}else n.push(Ue(i))}return n}function mv(e,n){return e[Mf]=n,e.prototype[Mf]=n,e}function FS(e){return e[Mf]}function PS(e,n,t,i){let r=e[Ll];throw n[C_]&&r.unshift(n[C_]),e.message=BS(`
`+e.message,r,t,i),e[AS]=r,e[Ll]=null,e}function BS(e,n,t,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==NS?e.slice(2):e;let r=Sn(n);if(Array.isArray(n))r=n.map(Sn).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Sn(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${e.replace(OS,`
  `)}`}var Qs=mv(lv("Optional"),8);var ac=mv(lv("SkipSelf"),4);function qo(e,n){let t=e.hasOwnProperty(Bl);return t?e[Bl]:null}function LS(e,n,t){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function jS(e){return e.flat(Number.POSITIVE_INFINITY)}function Mh(e,n){e.forEach(t=>Array.isArray(t)?Mh(t,n):n(t))}function _v(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function jl(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function VS(e,n){let t=[];for(let i=0;i<e;i++)t.push(n);return t}function HS(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(r===1)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;){let o=r-2;e[r]=e[o],r--}e[n]=t,e[n+1]=i}}function Th(e,n,t){let i=Ys(e,n);return i>=0?e[i|1]=t:(i=~i,HS(e,i,n,t)),i}function ff(e,n){let t=Ys(e,n);if(t>=0)return e[t|1]}function Ys(e,n){return US(e,n,1)}function US(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<t];if(n===s)return o<<t;s>n?r=o:i=o+1}return~(r<<t)}var zo={},Nn=[],Qo=new $e(""),vv=new $e("",-1),yv=new $e(""),Vl=class{get(n,t=Fs){if(t===Fs){let i=new Error(`NullInjectorError: No provider for ${Sn(n)}!`);throw i.name="NullInjectorError",i}return t}},bv=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(bv||{}),vi=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(vi||{}),tn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(tn||{});function $S(e,n,t){let i=e.length;for(;;){let r=e.indexOf(n,t);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=n.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}t=r+1}}function Af(e,n,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];e.setAttribute(n,s,a,o)}else{let o=r,s=t[++i];GS(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),i++}}return i}function wv(e){return e===3||e===4||e===6}function GS(e){return e.charCodeAt(0)===64}function Ps(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){let r=n[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?x_(e,t,r,null,n[++i]):x_(e,t,r,null,null))}}return e}function x_(e,n,t,i,r){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(e[o+1]=r);return}else if(i===e[o+1]){e[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i),r!==null&&e.splice(o++,0,r)}var Cv="ng-template";function WS(e,n,t,i){let r=0;if(i){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&$S(n[r+1].toLowerCase(),t,0)!==-1)return!0}else if(Ah(e))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&typeof(o=n[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Ah(e){return e.type===4&&e.value!==Cv}function qS(e,n,t){let i=e.type===4&&!t?Cv:e.value;return n===i}function zS(e,n,t){let i=4,r=e.attrs,o=r!==null?KS(r):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!ti(i)&&!ti(l))return!1;if(s&&ti(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!qS(e,l,t)||l===""&&n.length===1){if(ti(i))return!1;s=!0}}else if(i&8){if(r===null||!WS(e,r,l,t)){if(ti(i))return!1;s=!0}}else{let c=n[++a],u=QS(l,r,Ah(e),t);if(u===-1){if(ti(i))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(ti(i))return!1;s=!0}}}}return ti(i)||s}function ti(e){return(e&1)===0}function QS(e,n,t,i){if(n===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<n.length;){let s=n[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++r];for(;typeof a=="string";)a=n[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return ZS(n,e)}function xv(e,n,t=!1){for(let i=0;i<n.length;i++)if(zS(e,n[i],t))return!0;return!1}function YS(e){let n=e.attrs;if(n!=null){let t=n.indexOf(5);if(!(t&1))return n[t+1]}return null}function KS(e){for(let n=0;n<e.length;n++){let t=e[n];if(wv(t))return n}return e.length}function ZS(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let i=e[t];if(typeof i=="number")return-1;if(i===n)return t;t++}return-1}function JS(e,n){e:for(let t=0;t<n.length;t++){let i=n[t];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function D_(e,n){return e?":not("+n.trim()+")":n}function XS(e){let n=e[0],t=1,i=2,r="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(i&2){let a=e[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!ti(s)&&(n+=D_(o,r),r=""),i=s,o=o||!ti(i);t++}return r!==""&&(n+=D_(o,r)),n}function eI(e){return e.map(XS).join(",")}function tI(e){let n=[],t=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&n.push(o,e[++i]):r===8&&t.push(o);else{if(!ti(r))break;r=o}i++}return{attrs:n,classes:t}}function ze(e){return qs(()=>{let n=Mv(e),t=st(Te({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===bv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||vi.Emulated,styles:e.styles||Nn,_:null,schemas:e.schemas||null,tView:null,id:""});Tv(t);let i=e.dependencies;return t.directiveDefs=S_(i,!1),t.pipeDefs=S_(i,!0),t.id=rI(t),t})}function nI(e){return Li(e)||Dv(e)}function iI(e){return e!==null}function lt(e){return qs(()=>({type:e.type,bootstrap:e.bootstrap||Nn,declarations:e.declarations||Nn,imports:e.imports||Nn,exports:e.exports||Nn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function E_(e,n){if(e==null)return zo;let t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a=tn.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),n?(t[o]=a!==tn.None?[i,a]:i,n[o]=s):t[o]=i}return t}function dt(e){return qs(()=>{let n=Mv(e);return Tv(n),n})}function Li(e){return e[xS]||null}function Dv(e){return e[DS]||null}function Ev(e){return e[ES]||null}function Sv(e){let n=Li(e)||Dv(e)||Ev(e);return n!==null?n.standalone:!1}function Iv(e,n){let t=e[SS]||null;if(!t&&n===!0)throw new Error(`Type ${Sn(e)} does not have '\u0275mod' property.`);return t}function Mv(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||zo,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Nn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:E_(e.inputs,n),outputs:E_(e.outputs),debugInfo:null}}function Tv(e){e.features?.forEach(n=>n(e))}function S_(e,n){if(!e)return null;let t=n?Ev:nI;return()=>(typeof e=="function"?e():e).map(i=>t(i)).filter(iI)}function rI(e){let n=0,t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let r of t)n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function oI(...e){return{\u0275providers:Av(!0,e),\u0275fromNgModule:!0}}function Av(e,...n){let t=[],i=new Set,r,o=s=>{t.push(s)};return Mh(n,s=>{let a=s;Of(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Ov(r,o),t}function Ov(e,n){for(let t=0;t<e.length;t++){let{ngModule:i,providers:r}=e[t];Oh(r,o=>{n(o,i)})}}function Of(e,n,t,i){if(e=En(e),!e)return!1;let r=null,o=y_(e),s=!o&&Li(e);if(!o&&!s){let l=e.ngModule;if(o=y_(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Of(c,n,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{Mh(o.imports,u=>{Of(u,n,t,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Ov(c,n)}if(!a){let c=qo(r)||(()=>new r);n({provide:r,useFactory:c,deps:Nn},r),n({provide:yv,useValue:r,multi:!0},r),n({provide:Qo,useValue:()=>Ue(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=e;Oh(l,u=>{n(u,c)})}}else return!1;return r!==e&&e.providers!==void 0}function Oh(e,n){for(let t of e)hv(t)&&(t=t.\u0275providers),Array.isArray(t)?Oh(t,n):n(t)}var sI=Mt({provide:String,useValue:Mt});function Nv(e){return e!==null&&typeof e=="object"&&sI in e}function aI(e){return!!(e&&e.useExisting)}function lI(e){return!!(e&&e.useFactory)}function Yo(e){return typeof e=="function"}function cI(e){return!!e.useClass}var lc=new $e(""),Ol={},uI={},hf;function cc(){return hf===void 0&&(hf=new Vl),hf}var fn=class{},Bs=class extends fn{get destroyed(){return this._destroyed}constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rf(n,s=>this.processProvider(s)),this.records.set(vv,Vo(void 0,this)),r.has("environment")&&this.records.set(fn,Vo(void 0,this));let o=this.records.get(lc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(yv,Nn,et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=ft(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ft(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let t=pr(this),i=zn(void 0),r;try{return n()}finally{pr(t),zn(i)}}get(n,t=Fs,i=et.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(w_))return n[w_](this);i=sc(i);let r,o=pr(this),s=zn(void 0);try{if(!(i&et.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=gI(n)&&oc(n);c&&this.injectableDefInScope(c)?l=Vo(Nf(n),Ol):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=i&et.Self?cc():this.parent;return t=i&et.Optional&&t===Fs?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Ll]=a[Ll]||[]).unshift(Sn(n)),o)throw a;return PS(a,n,"R3InjectorError",this.source)}else throw a}finally{zn(s),pr(o)}}resolveInjectorInitializers(){let n=ft(null),t=pr(this),i=zn(void 0),r;try{let o=this.get(Qo,Nn,et.Self);for(let s of o)s()}finally{pr(t),zn(i),ft(n)}}toString(){let n=[],t=this.records;for(let i of t.keys())n.push(Sn(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(n){n=En(n);let t=Yo(n)?n:En(n&&n.provide),i=fI(n);if(!Yo(n)&&n.multi===!0){let r=this.records.get(t);r||(r=Vo(void 0,Ol,!0),r.factory=()=>Tf(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t){let i=ft(null);try{return t.value===Ol&&(t.value=uI,t.value=t.factory()),typeof t.value=="object"&&t.value&&pI(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ft(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=En(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Nf(e){let n=oc(e),t=n!==null?n.factory:qo(e);if(t!==null)return t;if(e instanceof $e)throw new Be(204,!1);if(e instanceof Function)return dI(e);throw new Be(204,!1)}function dI(e){if(e.length>0)throw new Be(204,!1);let t=wS(e);return t!==null?()=>t.factory(e):()=>new e}function fI(e){if(Nv(e))return Vo(void 0,e.useValue);{let n=Rv(e);return Vo(n,Ol)}}function Rv(e,n,t){let i;if(Yo(e)){let r=En(e);return qo(r)||Nf(r)}else if(Nv(e))i=()=>En(e.useValue);else if(lI(e))i=()=>e.useFactory(...Tf(e.deps||[]));else if(aI(e))i=()=>Ue(En(e.useExisting));else{let r=En(e&&(e.useClass||e.provide));if(hI(e))i=()=>new r(...Tf(e.deps));else return qo(r)||Nf(r)}return i}function Vo(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function hI(e){return!!e.deps}function pI(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function gI(e){return typeof e=="function"||typeof e=="object"&&e instanceof $e}function Rf(e,n){for(let t of e)Array.isArray(t)?Rf(t,n):t&&hv(t)?Rf(t.\u0275providers,n):n(t)}function Hi(e,n){e instanceof Bs&&e.assertNotDestroyed();let t,i=pr(e),r=zn(void 0);try{return n()}finally{pr(i),zn(r)}}function kv(){return pv()!==void 0||RS()!=null}function mI(e){if(!kv())throw new Be(-203,!1)}function _I(e){let n=dn.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function vI(e){return typeof e=="function"}var Ui=0,Xe=1,qe=2,hn=3,ii=4,jn=5,Ls=6,js=7,ri=8,Ko=9,oi=10,Pt=11,Vs=12,I_=13,es=14,si=15,Ks=16,Ho=17,ji=18,uc=19,Fv=20,gr=21,pf=22,qr=23,ai=25,Pv=1;var zr=7,Hl=8,Zo=9,Ln=10,Nh=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Nh||{});function Gr(e){return Array.isArray(e)&&typeof e[Pv]=="object"}function $i(e){return Array.isArray(e)&&e[Pv]===!0}function Rh(e){return(e.flags&4)!==0}function dc(e){return e.componentOffset>-1}function fc(e){return(e.flags&1)===1}function mr(e){return!!e.template}function yI(e){return(e[qe]&512)!==0}var kf=class{constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function Bv(e,n,t,i){n!==null?n.applyValueToInputSignal(n,i):e[t]=i}function Ci(){return Lv}function Lv(e){return e.type.prototype.ngOnChanges&&(e.setInput=wI),bI}Ci.ngInherit=!0;function bI(){let e=Vv(this),n=e?.current;if(n){let t=e.previous;if(t===zo)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function wI(e,n,t,i,r){let o=this.declaredInputs[i],s=Vv(e)||CI(e,{previous:zo,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new kf(c&&c.currentValue,t,l===zo),Bv(e,n,r,t)}var jv="__ngSimpleChanges__";function Vv(e){return e[jv]||null}function CI(e,n){return e[jv]=n}var M_=null;var mi=function(e,n,t){M_?.(e,n,t)},Hv="svg",xI="math",DI=!1;function EI(){return DI}function yi(e){for(;Array.isArray(e);)e=e[Ui];return e}function Uv(e,n){return yi(n[e])}function Qn(e,n){return yi(n[e.index])}function $v(e,n){return e.data[n]}function SI(e,n){return e[n]}function yr(e,n){let t=n[e];return Gr(t)?t:t[Ui]}function II(e){return(e[qe]&4)===4}function kh(e){return(e[qe]&128)===128}function MI(e){return $i(e[hn])}function Jo(e,n){return n==null?null:e[n]}function Gv(e){e[Ho]=0}function TI(e){e[qe]&1024||(e[qe]|=1024,kh(e)&&Hs(e))}function AI(e,n){for(;e>0;)n=n[es],e--;return n}function Fh(e){return!!(e[qe]&9216||e[qr]?.dirty)}function Ff(e){e[oi].changeDetectionScheduler?.notify(1),Fh(e)?Hs(e):e[qe]&64&&(EI()?(e[qe]|=1024,Hs(e)):e[oi].changeDetectionScheduler?.notify())}function Hs(e){e[oi].changeDetectionScheduler?.notify();let n=Us(e);for(;n!==null&&!(n[qe]&8192||(n[qe]|=8192,!kh(n)));)n=Us(n)}function Wv(e,n){if((e[qe]&256)===256)throw new Be(911,!1);e[gr]===null&&(e[gr]=[]),e[gr].push(n)}function OI(e,n){if(e[gr]===null)return;let t=e[gr].indexOf(n);t!==-1&&e[gr].splice(t,1)}function Us(e){let n=e[hn];return $i(n)?n[hn]:n}var Ze={lFrame:Xv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function NI(){return Ze.lFrame.elementDepthCount}function RI(){Ze.lFrame.elementDepthCount++}function kI(){Ze.lFrame.elementDepthCount--}function qv(){return Ze.bindingsEnabled}function zv(){return Ze.skipHydrationRootTNode!==null}function FI(e){return Ze.skipHydrationRootTNode===e}function PI(){Ze.skipHydrationRootTNode=null}function nt(){return Ze.lFrame.lView}function Gt(){return Ze.lFrame.tView}function je(e){return Ze.lFrame.contextLView=e,e[ri]}function Ve(e){return Ze.lFrame.contextLView=null,e}function _n(){let e=Qv();for(;e!==null&&e.type===64;)e=e.parent;return e}function Qv(){return Ze.lFrame.currentTNode}function BI(){let e=Ze.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function eo(e,n){let t=Ze.lFrame;t.currentTNode=e,t.isParent=n}function Ph(){return Ze.lFrame.isParent}function Bh(){Ze.lFrame.isParent=!1}function LI(){return Ze.lFrame.contextLView}function Lh(){let e=Ze.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function jI(e){return Ze.lFrame.bindingIndex=e}function hc(){return Ze.lFrame.bindingIndex++}function Yv(e){let n=Ze.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function VI(){return Ze.lFrame.inI18n}function HI(e,n){let t=Ze.lFrame;t.bindingIndex=t.bindingRootIndex=e,Pf(n)}function UI(){return Ze.lFrame.currentDirectiveIndex}function Pf(e){Ze.lFrame.currentDirectiveIndex=e}function $I(e){let n=Ze.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function Kv(){return Ze.lFrame.currentQueryIndex}function jh(e){Ze.lFrame.currentQueryIndex=e}function GI(e){let n=e[Xe];return n.type===2?n.declTNode:n.type===1?e[jn]:null}function Zv(e,n,t){if(t&et.SkipSelf){let r=n,o=e;for(;r=r.parent,r===null&&!(t&et.Host);)if(r=GI(o),r===null||(o=o[es],r.type&10))break;if(r===null)return!1;n=r,e=o}let i=Ze.lFrame=Jv();return i.currentTNode=n,i.lView=e,!0}function Vh(e){let n=Jv(),t=e[Xe];Ze.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Jv(){let e=Ze.lFrame,n=e===null?null:e.child;return n===null?Xv(e):n}function Xv(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function ey(){let e=Ze.lFrame;return Ze.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ty=ey;function Hh(){let e=ey();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function WI(e){return(Ze.lFrame.contextLView=AI(e,Ze.lFrame.contextLView))[ri]}function to(){return Ze.lFrame.selectedIndex}function Qr(e){Ze.lFrame.selectedIndex=e}function pc(){let e=Ze.lFrame;return $v(e.tView,e.selectedIndex)}function ny(){Ze.lFrame.currentNamespace=Hv}function iy(){qI()}function qI(){Ze.lFrame.currentNamespace=null}function zI(){return Ze.lFrame.currentNamespace}var ry=!0;function gc(){return ry}function mc(e){ry=e}function QI(e,n,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){let s=Lv(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}r&&(t.preOrderHooks??=[]).push(0-e,r),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function _c(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function Nl(e,n,t){oy(e,n,3,t)}function Rl(e,n,t,i){(e[qe]&3)===t&&oy(e,n,t,i)}function gf(e,n){let t=e[qe];(t&3)===n&&(t&=16383,t+=1,e[qe]=t)}function oy(e,n,t,i){let r=i!==void 0?e[Ho]&65535:0,o=i??-1,s=n.length-1,a=0;for(let l=r;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],i!=null&&a>=i)break}else n[l]<0&&(e[Ho]+=65536),(a<o||o==-1)&&(YI(e,t,n,l),e[Ho]=(e[Ho]&4294901760)+l+2),l++}function T_(e,n){mi(4,e,n);let t=ft(null);try{n.call(e)}finally{ft(t),mi(5,e,n)}}function YI(e,n,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=e[s];r?e[qe]>>14<e[Ho]>>16&&(e[qe]&3)===n&&(e[qe]+=16384,T_(a,o)):T_(a,o)}var Wo=-1,Yr=class{constructor(n,t,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function KI(e){return e instanceof Yr}function ZI(e){return(e.flags&8)!==0}function JI(e){return(e.flags&16)!==0}function sy(e){return e!==Wo}function Ul(e){return e&32767}function XI(e){return e>>16}function $l(e,n){let t=XI(e),i=n;for(;t>0;)i=i[es],t--;return i}var Bf=!0;function A_(e){let n=Bf;return Bf=e,n}var eM=256,ay=eM-1,ly=5,tM=0,_i={};function nM(e,n,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Rs)&&(i=t[Rs]),i==null&&(i=t[Rs]=tM++);let r=i&ay,o=1<<r;n.data[e+(r>>ly)]|=o}function Gl(e,n){let t=cy(e,n);if(t!==-1)return t;let i=n[Xe];i.firstCreatePass&&(e.injectorIndex=n.length,mf(i.data,e),mf(n,null),mf(i.blueprint,null));let r=Uh(e,n),o=e.injectorIndex;if(sy(r)){let s=Ul(r),a=$l(r,n),l=a[Xe].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=r,o}function mf(e,n){e.push(0,0,0,0,0,0,0,0,n)}function cy(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Uh(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;r!==null;){if(i=py(r),i===null)return Wo;if(t++,r=r[es],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Wo}function Lf(e,n,t){nM(e,n,t)}function iM(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(wv(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===n)return t[r+1];r=r+2}}}return null}function uy(e,n,t){if(t&et.Optional||e!==void 0)return e;Ih(n,"NodeInjector")}function dy(e,n,t,i){if(t&et.Optional&&i===void 0&&(i=null),!(t&(et.Self|et.Host))){let r=e[Ko],o=zn(void 0);try{return r?r.get(n,i,t&et.Optional):gv(n,i,t&et.Optional)}finally{zn(o)}}return uy(i,n,t)}function fy(e,n,t,i=et.Default,r){if(e!==null){if(n[qe]&2048&&!(i&et.Self)){let s=aM(e,n,t,i,_i);if(s!==_i)return s}let o=hy(e,n,t,i,_i);if(o!==_i)return o}return dy(n,t,i,r)}function hy(e,n,t,i,r){let o=oM(t);if(typeof o=="function"){if(!Zv(n,e,i))return i&et.Host?uy(r,t,i):dy(n,t,i,r);try{let s;if(s=o(i),s==null&&!(i&et.Optional))Ih(t);else return s}finally{ty()}}else if(typeof o=="number"){let s=null,a=cy(e,n),l=Wo,c=i&et.Host?n[si][jn]:null;for((a===-1||i&et.SkipSelf)&&(l=a===-1?Uh(e,n):n[a+8],l===Wo||!N_(i,!1)?a=-1:(s=n[Xe],a=Ul(l),n=$l(l,n)));a!==-1;){let u=n[Xe];if(O_(o,a,u.data)){let d=rM(a,n,t,s,i,c);if(d!==_i)return d}l=n[a+8],l!==Wo&&N_(i,n[Xe].data[a+8]===c)&&O_(o,a,n)?(s=u,a=Ul(l),n=$l(l,n)):a=-1}}return r}function rM(e,n,t,i,r,o){let s=n[Xe],a=s.data[e+8],l=i==null?dc(a)&&Bf:i!=s&&(a.type&3)!==0,c=r&et.Host&&o===a,u=kl(a,s,t,l,c);return u!==null?Kr(n,s,u,a):_i}function kl(e,n,t,i,r){let o=e.providerIndexes,s=n.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=i?a:a+u,f=r?a+u:c;for(let h=d;h<f;h++){let g=s[h];if(h<l&&t===g||h>=l&&g.type===t)return h}if(r){let h=s[l];if(h&&mr(h)&&h.type===t)return l}return null}function Kr(e,n,t,i){let r=e[t],o=n.data;if(KI(r)){let s=r;s.resolving&&MS(IS(o[t]));let a=A_(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?zn(s.injectImpl):null,u=Zv(e,i,et.Default);try{r=e[t]=s.factory(void 0,o,e,i),n.firstCreatePass&&t>=i.directiveStart&&QI(t,o[t],n)}finally{c!==null&&zn(c),A_(a),s.resolving=!1,ty()}}return r}function oM(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(Rs)?e[Rs]:void 0;return typeof n=="number"?n>=0?n&ay:sM:n}function O_(e,n,t){let i=1<<e;return!!(t[n+(e>>ly)]&i)}function N_(e,n){return!(e&et.Self)&&!(e&et.Host&&n)}var Wr=class{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return fy(this._tNode,this._lView,n,sc(i),t)}};function sM(){return new Wr(_n(),nt())}function At(e){return qs(()=>{let n=e.prototype.constructor,t=n[Bl]||jf(n),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[Bl]||jf(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function jf(e){return cv(e)?()=>{let n=jf(En(e));return n&&n()}:qo(e)}function aM(e,n,t,i,r){let o=e,s=n;for(;o!==null&&s!==null&&s[qe]&2048&&!(s[qe]&512);){let a=hy(o,s,t,i|et.Self,_i);if(a!==_i)return a;let l=o.parent;if(!l){let c=s[Fv];if(c){let u=c.get(t,_i,i);if(u!==_i)return u}l=py(s),s=s[es]}o=l}return r}function py(e){let n=e[Xe],t=n.type;return t===2?n.declTNode:t===1?e[jn]:null}function vc(e){return iM(_n(),e)}function R_(e,n=null,t=null,i){let r=gy(e,n,t,i);return r.resolveInjectorInitializers(),r}function gy(e,n=null,t=null,i,r=new Set){let o=[t||Nn,oI(e)];return i=i||(typeof e=="object"?void 0:Sn(e)),new Bs(o,n||cc(),i||null,r)}var In=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Fs}static{this.NULL=new Vl}static create(t,i){if(Array.isArray(t))return R_({name:""},i,t,"");{let r=t.name??"";return R_({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=Fe({token:e,providedIn:"any",factory:()=>Ue(vv)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();var lM="ngOriginalError";function _f(e){return e[lM]}var bi=class{constructor(){this._console=console}handleError(n){let t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&_f(n);for(;t&&_f(t);)t=_f(t);return t||null}},my=new $e("",{providedIn:"root",factory:()=>Ee(bi).handleError.bind(void 0)}),yc=(()=>{class e{static{this.__NG_ELEMENT_ID__=cM}static{this.__NG_ENV_ID__=t=>t}}return e})(),Vf=class extends yc{constructor(n){super(),this._lView=n}onDestroy(n){return Wv(this._lView,n),()=>OI(this._lView,n)}};function cM(){return new Vf(nt())}function uM(){return ts(_n(),nt())}function ts(e,n){return new Zt(Qn(e,n))}var Zt=(()=>{class e{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=uM}}return e})();function dM(e){return e instanceof Zt?e.nativeElement:e}var Hf=class extends Tt{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,kv()&&(this.destroyRef=Ee(yc,{optional:!0})??void 0)}emit(n){let t=ft(null);try{super.next(n)}finally{ft(t)}}subscribe(n,t,i){let r=n,o=t||(()=>null),s=i;if(n&&typeof n=="object"){let l=n;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=vf(o),r&&(r=vf(r)),s&&(s=vf(s)));let a=super.subscribe({next:r,error:o,complete:s});return n instanceof $t&&n.add(a),a}};function vf(e){return n=>{setTimeout(e,void 0,n)}}var It=Hf;function fM(){return this._results[Symbol.iterator]()}var Uf=class e{get changes(){return this._changes??=new It}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=e.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=fM)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let i=jS(n);(this._changesDetected=!LS(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function _y(e){return(e.flags&128)===128}var vy=new Map,hM=0;function pM(){return hM++}function gM(e){vy.set(e[uc],e)}function mM(e){vy.delete(e[uc])}var k_="__ngContext__";function _r(e,n){Gr(n)?(e[k_]=n[uc],gM(n)):e[k_]=n}function yy(e){return wy(e[Vs])}function by(e){return wy(e[ii])}function wy(e){for(;e!==null&&!$i(e);)e=e[ii];return e}var $f;function Cy(e){$f=e}function xy(){if($f!==void 0)return $f;if(typeof document<"u")return document;throw new Be(210,!1)}var bc=new $e("",{providedIn:"root",factory:()=>_M}),_M="ng",$h=new $e(""),Gi=new $e("",{providedIn:"platform",factory:()=>"unknown"});var Gh=new $e("",{providedIn:"root",factory:()=>xy().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vM="h",yM="b";var bM=()=>null;function Wh(e,n,t=!1){return bM(e,n,t)}var Dy=!1,wM=new $e("",{providedIn:"root",factory:()=>Dy});var El;function CM(){if(El===void 0&&(El=null,dn.trustedTypes))try{El=dn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return El}function wc(e){return CM()?.createHTML(e)||e}var Sl;function Ey(){if(Sl===void 0&&(Sl=null,dn.trustedTypes))try{Sl=dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Sl}function F_(e){return Ey()?.createHTML(e)||e}function P_(e){return Ey()?.createScriptURL(e)||e}var Wl=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${av})`}};function no(e){return e instanceof Wl?e.changingThisBreaksApplicationSecurity:e}function Cc(e,n){let t=xM(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${av})`)}return t===n}function xM(e){return e instanceof Wl&&e.getTypeName()||null}function DM(e){let n=new Wf(e);return EM()?new Gf(n):n}var Gf=class{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let t=new window.DOMParser().parseFromString(wc(n),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(n):(t.removeChild(t.firstChild),t)}catch{return null}}},Wf=class{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let t=this.inertDocument.createElement("template");return t.innerHTML=wc(n),t}};function EM(){try{return!!new window.DOMParser().parseFromString(wc(""),"text/html")}catch{return!1}}var SM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qh(e){return e=String(e),e.match(SM)?e:"unsafe:"+e}function Wi(e){let n={};for(let t of e.split(","))n[t]=!0;return n}function Zs(...e){let n={};for(let t of e)for(let i in t)t.hasOwnProperty(i)&&(n[i]=!0);return n}var Sy=Wi("area,br,col,hr,img,wbr"),Iy=Wi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),My=Wi("rp,rt"),IM=Zs(My,Iy),MM=Zs(Iy,Wi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),TM=Zs(My,Wi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),B_=Zs(Sy,MM,TM,IM),Ty=Wi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),AM=Wi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),OM=Wi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),NM=Zs(Ty,AM,OM),RM=Wi("script,style,template"),qf=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let t=n.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=PM(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=FM(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(n){let t=L_(n).toLowerCase();if(!B_.hasOwnProperty(t))return this.sanitizedSomething=!0,!RM.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=n.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!NM.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Ty[a]&&(l=qh(l)),this.buf.push(" ",s,'="',j_(l),'"')}return this.buf.push(">"),!0}endElement(n){let t=L_(n).toLowerCase();B_.hasOwnProperty(t)&&!Sy.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(j_(n))}};function kM(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function FM(e){let n=e.nextSibling;if(n&&e!==n.previousSibling)throw Ay(n);return n}function PM(e){let n=e.firstChild;if(n&&kM(e,n))throw Ay(n);return n}function L_(e){let n=e.nodeName;return typeof n=="string"?n:"FORM"}function Ay(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var BM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,LM=/([^\#-~ |!])/g;function j_(e){return e.replace(/&/g,"&amp;").replace(BM,function(n){let t=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(LM,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Il;function Oy(e,n){let t=null;try{Il=Il||DM(e);let i=n?String(n):"";t=Il.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=Il.getInertBodyElement(i)}while(i!==o);let a=new qf().sanitizeChildren(V_(t)||t);return wc(a)}finally{if(t){let i=V_(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function V_(e){return"content"in e&&jM(e)?e.content:null}function jM(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var Js=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Js||{});function zh(e){let n=Qh();return n?F_(n.sanitize(Js.HTML,e)||""):Cc(e,"HTML")?F_(no(e)):Oy(xy(),zs(e))}function VM(e){let n=Qh();return n?n.sanitize(Js.URL,e)||"":Cc(e,"URL")?no(e):qh(zs(e))}function HM(e){let n=Qh();if(n)return P_(n.sanitize(Js.RESOURCE_URL,e)||"");if(Cc(e,"ResourceURL"))return P_(no(e));throw new Be(904,!1)}function UM(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?HM:VM}function Ny(e,n,t){return UM(n,t)(e)}function Qh(){let e=nt();return e&&e[oi].sanitizer}var $M=/^>|^->|<!--|-->|--!>|<!-$/g,GM=/(<|>)/g,WM="\u200B$1\u200B";function qM(e){return e.replace($M,n=>n.replace(GM,WM))}function xc(e){return e.ownerDocument.defaultView}function Ry(e){return e instanceof Function?e():e}function zM(e){return(e??Ee(In)).get(Gi)==="browser"}var wi=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(wi||{}),QM;function Yh(e,n){return QM(e,n)}function Uo(e,n,t,i,r){if(i!=null){let o,s=!1;$i(i)?o=i:Gr(i)&&(s=!0,i=i[Ui]);let a=yi(i);e===0&&t!==null?r==null?jy(n,t,a):ql(n,t,a,r||null,!0):e===1&&t!==null?ql(n,t,a,r||null,!0):e===2?uT(n,a,s):e===3&&n.destroyNode(a),o!=null&&fT(n,e,o,t,r)}}function YM(e,n){return e.createText(n)}function KM(e,n,t){e.setValue(n,t)}function ZM(e,n){return e.createComment(qM(n))}function ky(e,n,t){return e.createElement(n,t)}function JM(e,n){Fy(e,n),n[Ui]=null,n[jn]=null}function XM(e,n,t,i,r,o){i[Ui]=r,i[jn]=n,Ec(e,i,t,1,r,o)}function Fy(e,n){n[oi].changeDetectionScheduler?.notify(1),Ec(e,n,n[Pt],2,null,null)}function eT(e){let n=e[Vs];if(!n)return yf(e[Xe],e);for(;n;){let t=null;if(Gr(n))t=n[Vs];else{let i=n[Ln];i&&(t=i)}if(!t){for(;n&&!n[ii]&&n!==e;)Gr(n)&&yf(n[Xe],n),n=n[hn];n===null&&(n=e),Gr(n)&&yf(n[Xe],n),t=n&&n[ii]}n=t}}function tT(e,n,t,i){let r=Ln+i,o=t.length;i>0&&(t[r-1][ii]=n),i<o-Ln?(n[ii]=t[r],_v(t,Ln+i,n)):(t.push(n),n[ii]=null),n[hn]=t;let s=n[Ks];s!==null&&t!==s&&nT(s,n);let a=n[ji];a!==null&&a.insertView(e),Ff(n),n[qe]|=128}function nT(e,n){let t=e[Zo],r=n[hn][hn][si];n[si]!==r&&(e[qe]|=Nh.HasTransplantedViews),t===null?e[Zo]=[n]:t.push(n)}function Py(e,n){let t=e[Zo],i=t.indexOf(n);t.splice(i,1)}function zf(e,n){if(e.length<=Ln)return;let t=Ln+n,i=e[t];if(i){let r=i[Ks];r!==null&&r!==e&&Py(r,i),n>0&&(e[t-1][ii]=i[ii]);let o=jl(e,Ln+n);JM(i[Xe],i);let s=o[ji];s!==null&&s.detachView(o[Xe]),i[hn]=null,i[ii]=null,i[qe]&=-129}return i}function By(e,n){if(!(n[qe]&256)){let t=n[Pt];t.destroyNode&&Ec(e,n,t,3,null,null),eT(n)}}function yf(e,n){if(n[qe]&256)return;let t=ft(null);try{n[qe]&=-129,n[qe]|=256,n[qr]&&Gm(n[qr]),rT(e,n),iT(e,n),n[Xe].type===1&&n[Pt].destroy();let i=n[Ks];if(i!==null&&$i(n[hn])){i!==n[hn]&&Py(i,n);let r=n[ji];r!==null&&r.detachView(e)}mM(n)}finally{ft(t)}}function iT(e,n){let t=e.cleanup,i=n[js];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[t[o+1]];t[o].call(s)}i!==null&&(n[js]=null);let r=n[gr];if(r!==null){n[gr]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function rT(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=n[t[i]];if(!(r instanceof Yr)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];mi(4,a,l);try{l.call(a)}finally{mi(5,a,l)}}else{mi(4,r,o);try{o.call(r)}finally{mi(5,r,o)}}}}}function Ly(e,n,t){return oT(e,n.parent,t)}function oT(e,n,t){let i=n;for(;i!==null&&i.type&40;)n=i,i=n.parent;if(i===null)return t[Ui];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=e.data[i.directiveStart+r];if(o===vi.None||o===vi.Emulated)return null}return Qn(i,t)}}function ql(e,n,t,i,r){e.insertBefore(n,t,i,r)}function jy(e,n,t){e.appendChild(n,t)}function H_(e,n,t,i,r){i!==null?ql(e,n,t,i,r):jy(e,n,t)}function sT(e,n,t,i){e.removeChild(n,t,i)}function Kh(e,n){return e.parentNode(n)}function aT(e,n){return e.nextSibling(n)}function Vy(e,n,t){return cT(e,n,t)}function lT(e,n,t){return e.type&40?Qn(e,t):null}var cT=lT,U_;function Dc(e,n,t,i){let r=Ly(e,i,n),o=n[Pt],s=i.parent||n[jn],a=Vy(s,i,n);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)H_(o,r,t[l],a,!1);else H_(o,r,t,a,!1);U_!==void 0&&U_(o,i,n,t,r)}function Fl(e,n){if(n!==null){let t=n.type;if(t&3)return Qn(n,e);if(t&4)return Qf(-1,e[n.index]);if(t&8){let i=n.child;if(i!==null)return Fl(e,i);{let r=e[n.index];return $i(r)?Qf(-1,r):yi(r)}}else{if(t&32)return Yh(n,e)()||yi(e[n.index]);{let i=Hy(e,n);if(i!==null){if(Array.isArray(i))return i[0];let r=Us(e[si]);return Fl(r,i)}else return Fl(e,n.next)}}}return null}function Hy(e,n){if(n!==null){let i=e[si][jn],r=n.projection;return i.projection[r]}return null}function Qf(e,n){let t=Ln+e+1;if(t<n.length){let i=n[t],r=i[Xe].firstChild;if(r!==null)return Fl(i,r)}return n[zr]}function uT(e,n,t){let i=Kh(e,n);i&&sT(e,i,n,t)}function Zh(e,n,t,i,r,o,s){for(;t!=null;){let a=i[t.index],l=t.type;if(s&&n===0&&(a&&_r(yi(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)Zh(e,n,t.child,i,r,o,!1),Uo(n,e,r,a,o);else if(l&32){let c=Yh(t,i),u;for(;u=c();)Uo(n,e,r,u,o);Uo(n,e,r,a,o)}else l&16?Uy(e,n,i,t,r,o):Uo(n,e,r,a,o);t=s?t.projectionNext:t.next}}function Ec(e,n,t,i,r,o){Zh(t,i,e.firstChild,n,r,o,!1)}function dT(e,n,t){let i=n[Pt],r=Ly(e,t,n),o=t.parent||n[jn],s=Vy(o,t,n);Uy(i,0,n,t,r,s)}function Uy(e,n,t,i,r,o){let s=t[si],l=s[jn].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Uo(n,e,r,u,o)}else{let c=l,u=s[hn];_y(i)&&(c.flags|=128),Zh(e,n,c,u,r,o,!0)}}function fT(e,n,t,i,r){let o=t[zr],s=yi(t);o!==s&&Uo(n,e,i,o,r);for(let a=Ln;a<t.length;a++){let l=t[a];Ec(l[Xe],l,e,n,i,o)}}function hT(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:wi.DashCase;r==null?e.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=wi.Important),e.setStyle(t,i,r,o))}}function pT(e,n,t){e.setAttribute(n,"style",t)}function $y(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Gy(e,n,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&Af(e,n,i),r!==null&&$y(e,n,r),o!==null&&pT(e,n,o)}var ci={};function z(e=1){Wy(Gt(),nt(),to()+e,!1)}function Wy(e,n,t,i){if(!i)if((n[qe]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Nl(n,o,t)}else{let o=e.preOrderHooks;o!==null&&Rl(n,o,0,t)}Qr(t)}function Me(e,n=et.Default){let t=nt();if(t===null)return Ue(e,n);let i=_n();return fy(i,t,En(e),n)}function qy(){let e="invalid";throw new Error(e)}function zy(e,n,t,i,r,o){let s=ft(null);try{let a=null;r&tn.SignalBased&&(a=n[i][$d]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&tn.HasDecoratorInputTransform&&(o=e.inputTransforms[i].call(n,o)),e.setInput!==null?e.setInput(n,a,o,t,i):Bv(n,a,i,o)}finally{ft(s)}}function gT(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Qr(~r);else{let o=r,s=t[++i],a=t[++i];HI(s,o);let l=n[o];a(2,l)}}}finally{Qr(-1)}}function Sc(e,n,t,i,r,o,s,a,l,c,u){let d=n.blueprint.slice();return d[Ui]=r,d[qe]=i|4|128|8|64,(c!==null||e&&e[qe]&2048)&&(d[qe]|=2048),Gv(d),d[hn]=d[es]=e,d[ri]=t,d[oi]=s||e&&e[oi],d[Pt]=a||e&&e[Pt],d[Ko]=l||e&&e[Ko]||null,d[jn]=o,d[uc]=pM(),d[Ls]=u,d[Fv]=c,d[si]=n.type==2?e[si]:d,d}function ns(e,n,t,i,r){let o=e.data[n];if(o===null)o=mT(e,n,t,i,r),VI()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=BI();o.injectorIndex=s===null?-1:s.injectorIndex}return eo(o,!0),o}function mT(e,n,t,i,r){let o=Qv(),s=Ph(),a=s?o:o&&o.parent,l=e.data[n]=CT(e,a,t,n,i,r);return e.firstChild===null&&(e.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function Qy(e,n,t,i){if(t===0)return-1;let r=n.length;for(let o=0;o<t;o++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function Yy(e,n,t,i,r){let o=to(),s=i&2;try{Qr(-1),s&&n.length>ai&&Wy(e,n,ai,!1),mi(s?2:0,r),t(i,r)}finally{Qr(o),mi(s?3:1,r)}}function Jh(e,n,t){if(Rh(n)){let i=ft(null);try{let r=n.directiveStart,o=n.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{ft(i)}}}function Xh(e,n,t){qv()&&(MT(e,n,t,Qn(t,n)),(t.flags&64)===64&&Jy(e,n,t))}function ep(e,n,t=Qn){let i=n.localNames;if(i!==null){let r=n.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(n,e):e[s];e[r++]=a}}}function Ky(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=tp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function tp(e,n,t,i,r,o,s,a,l,c,u){let d=ai+i,f=d+r,h=_T(d,f),g=typeof c=="function"?c():c;return h[Xe]={type:e,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:n,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function _T(e,n){let t=[];for(let i=0;i<n;i++)t.push(i<e?null:ci);return t}function vT(e,n,t,i){let o=i.get(wM,Dy)||t===vi.ShadowDom,s=e.selectRootElement(n,o);return yT(s),s}function yT(e){bT(e)}var bT=()=>null;function wT(e,n,t,i){let r=t1(n);r.push(t),e.firstCreatePass&&n1(e).push(i,r.length-1)}function CT(e,n,t,i,r,o){let s=n?n.injectorIndex:-1,a=0;return zv()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function $_(e,n,t,i,r){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;i??={};let a,l=tn.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}e===0?G_(i,t,c,a,l):G_(i,t,c,a)}return i}function G_(e,n,t,i,r){let o;e.hasOwnProperty(t)?(o=e[t]).push(n,i):o=e[t]=[n,i],r!==void 0&&o.push(r)}function xT(e,n,t){let i=n.directiveStart,r=n.directiveEnd,o=e.data,s=n.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=o[u],f=t?t.get(d):null,h=f?f.inputs:null,g=f?f.outputs:null;l=$_(0,d.inputs,u,l,h),c=$_(1,d.outputs,u,c,g);let m=l!==null&&s!==null&&!Ah(n)?jT(l,u,s):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}function DT(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function np(e,n,t,i,r,o,s,a){let l=Qn(n,t),c=n.inputs,u;!a&&c!=null&&(u=c[i])?(rp(e,t,u,i,r),dc(n)&&ET(t,n.index)):n.type&3?(i=DT(i),r=s!=null?s(r,n.value||"",i):r,o.setProperty(l,i,r)):n.type&12}function ET(e,n){let t=yr(n,e);t[qe]&16||(t[qe]|=64)}function ip(e,n,t,i){if(qv()){let r=i===null?null:{"":-1},o=AT(e,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Zy(e,n,t,s,r,a),r&&OT(t,i,r)}t.mergedAttrs=Ps(t.mergedAttrs,t.attrs)}function Zy(e,n,t,i,r,o){for(let c=0;c<i.length;c++)Lf(Gl(t,n),e,i[c].type);RT(t,e.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=Qy(e,n,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];t.mergedAttrs=Ps(t.mergedAttrs,u.hostAttrs),kT(e,t,n,l,u),NT(l,u,r),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}xT(e,t,o)}function ST(e,n,t,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;IT(s)!=a&&s.push(a),s.push(t,i,o)}}function IT(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function MT(e,n,t,i){let r=t.directiveStart,o=t.directiveEnd;dc(t)&&FT(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||Gl(t,n),_r(i,n);let s=t.initialInputs;for(let a=r;a<o;a++){let l=e.data[a],c=Kr(n,e,a,t);if(_r(c,n),s!==null&&LT(n,a-r,c,l,t,s),mr(l)){let u=yr(t.index,n);u[ri]=Kr(n,e,a,t)}}}function Jy(e,n,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=UI();try{Qr(o);for(let a=i;a<r;a++){let l=e.data[a],c=n[a];Pf(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&TT(l,c)}}finally{Qr(-1),Pf(s)}}function TT(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function AT(e,n){let t=e.directiveRegistry,i=null,r=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(xv(n,s.selectors,!1))if(i||(i=[]),mr(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;Yf(e,n,l)}else i.unshift(s),Yf(e,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Yf(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function OT(e,n,t){if(n){let i=e.localNames=[];for(let r=0;r<n.length;r+=2){let o=t[n[r+1]];if(o==null)throw new Be(-301,!1);i.push(n[r],o)}}}function NT(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;mr(n)&&(t[""]=e)}}function RT(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function kT(e,n,t,i,r){e.data[i]=r;let o=r.factory||(r.factory=qo(r.type,!0)),s=new Yr(o,mr(r),Me);e.blueprint[i]=s,t[i]=s,ST(e,n,i,Qy(e,t,r.hostVars,ci),r)}function FT(e,n,t){let i=Qn(n,e),r=Ky(t),o=e[oi].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Ic(e,Sc(e,r,null,s,i,n,null,o.createRenderer(i,t),null,null,null));e[n.index]=a}function PT(e,n,t,i,r,o){let s=Qn(e,n);BT(n[Pt],s,o,e.value,t,i,r)}function BT(e,n,t,i,r,o,s){if(o==null)e.removeAttribute(n,r,t);else{let a=s==null?zs(o):s(o,i||"",r);e.setAttribute(n,r,a,t)}}function LT(e,n,t,i,r,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];zy(i,t,l,c,u,d)}}function jT(e,n,t){let i=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){i===null&&(i=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}return i}function Xy(e,n,t,i){return[e,!0,0,n,null,i,null,t,null,null]}function e1(e,n){let t=e.contentQueries;if(t!==null){let i=ft(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=e.data[s];jh(o),a.contentQueries(2,n[s],s)}}}finally{ft(i)}}}function Ic(e,n){return e[Vs]?e[I_][ii]=n:e[Vs]=n,e[I_]=n,n}function Kf(e,n,t){jh(0);let i=ft(null);try{n(e,t)}finally{ft(i)}}function t1(e){return e[js]||(e[js]=[])}function n1(e){return e.cleanup||(e.cleanup=[])}function i1(e,n){let t=e[Ko],i=t?t.get(bi,null):null;i&&i.handleError(n)}function rp(e,n,t,i,r){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],c=n[s],u=e.data[s];zy(u,c,i,a,l,r)}}function VT(e,n,t){let i=Uv(n,e);KM(e[Pt],i,t)}function HT(e,n){let t=yr(n,e),i=t[Xe];UT(i,t);let r=t[Ui];r!==null&&t[Ls]===null&&(t[Ls]=Wh(r,t[Ko])),op(i,t,t[ri])}function UT(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function op(e,n,t){Vh(n);try{let i=e.viewQuery;i!==null&&Kf(1,i,t);let r=e.template;r!==null&&Yy(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[ji]?.finishViewCreation(e),e.staticContentQueries&&e1(e,n),e.staticViewQueries&&Kf(2,e.viewQuery,t);let o=e.components;o!==null&&$T(n,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[qe]&=-5,Hh()}}function $T(e,n){for(let t=0;t<n.length;t++)HT(e,n[t])}function GT(e,n,t,i){let r=ft(null);try{let o=n.tView,a=e[qe]&4096?4096:16,l=Sc(e,o,t,a,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=e[n.index];l[Ks]=c;let u=e[ji];return u!==null&&(l[ji]=u.createEmbeddedView(o)),op(o,l,t),l}finally{ft(r)}}function W_(e,n){return!n||n.firstChild===null||_y(e)}function WT(e,n,t,i=!0){let r=n[Xe];if(tT(r,n,e,t),i){let s=Qf(t,e),a=n[Pt],l=Kh(a,e[zr]);l!==null&&XM(r,e[jn],a,n,l,s)}let o=n[Ls];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function zl(e,n,t,i,r=!1){for(;t!==null;){let o=n[t.index];o!==null&&i.push(yi(o)),$i(o)&&qT(o,i);let s=t.type;if(s&8)zl(e,n,t.child,i);else if(s&32){let a=Yh(t,n),l;for(;l=a();)i.push(l)}else if(s&16){let a=Hy(n,t);if(Array.isArray(a))i.push(...a);else{let l=Us(n[si]);zl(l[Xe],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function qT(e,n){for(let t=Ln;t<e.length;t++){let i=e[t],r=i[Xe].firstChild;r!==null&&zl(i[Xe],i,r,n)}e[zr]!==e[Ui]&&n.push(e[zr])}var r1=[];function zT(e){return e[qr]??QT(e)}function QT(e){let n=r1.pop()??Object.create(KT);return n.lView=e,n}function YT(e){e.lView[qr]!==e&&(e.lView=null,r1.push(e))}var KT=st(Te({},Hm),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Hs(e.lView)},consumerOnSignalRead(){this.lView[qr]=this}}),o1=100;function s1(e,n=!0,t=0){let i=e[oi],r=i.rendererFactory,o=!1;o||r.begin?.();try{ZT(e,t)}catch(s){throw n&&i1(e,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function ZT(e,n){Zf(e,n);let t=0;for(;Fh(e);){if(t===o1)throw new Be(103,!1);t++,Zf(e,1)}}function JT(e,n,t,i){let r=n[qe];if((r&256)===256)return;let o=!1;!o&&n[oi].inlineEffectRunner?.flush(),Vh(n);let s=null,a=null;!o&&XT(e)&&(a=zT(n),s=Um(a));try{Gv(n),jI(e.bindingStartIndex),t!==null&&Yy(e,n,t,2,i);let l=(r&3)===3;if(!o)if(l){let d=e.preOrderCheckHooks;d!==null&&Nl(n,d,null)}else{let d=e.preOrderHooks;d!==null&&Rl(n,d,0,null),gf(n,0)}if(eA(n),a1(n,0),e.contentQueries!==null&&e1(e,n),!o)if(l){let d=e.contentCheckHooks;d!==null&&Nl(n,d)}else{let d=e.contentHooks;d!==null&&Rl(n,d,1),gf(n,1)}gT(e,n);let c=e.components;c!==null&&c1(n,c,0);let u=e.viewQuery;if(u!==null&&Kf(2,u,i),!o)if(l){let d=e.viewCheckHooks;d!==null&&Nl(n,d)}else{let d=e.viewHooks;d!==null&&Rl(n,d,2),gf(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[pf]){for(let d of n[pf])d();n[pf]=null}o||(n[qe]&=-73)}catch(l){throw Hs(n),l}finally{a!==null&&($m(a,s),YT(a)),Hh()}}function XT(e){return e.type!==2}function a1(e,n){for(let t=yy(e);t!==null;t=by(t))for(let i=Ln;i<t.length;i++){let r=t[i];l1(r,n)}}function eA(e){for(let n=yy(e);n!==null;n=by(n)){if(!(n[qe]&Nh.HasTransplantedViews))continue;let t=n[Zo];for(let i=0;i<t.length;i++){let r=t[i],o=r[hn];TI(r)}}}function tA(e,n,t){let i=yr(n,e);l1(i,t)}function l1(e,n){kh(e)&&Zf(e,n)}function Zf(e,n){let i=e[Xe],r=e[qe],o=e[qr],s=!!(n===0&&r&16);if(s||=!!(r&64&&n===0),s||=!!(r&1024),s||=!!(o?.dirty&&Gd(o)),o&&(o.dirty=!1),e[qe]&=-9217,s)JT(i,e,i.template,e[ri]);else if(r&8192){a1(e,1);let a=i.components;a!==null&&c1(e,a,1)}}function c1(e,n,t){for(let i=0;i<n.length;i++)tA(e,n[i],t)}function sp(e){for(e[oi].changeDetectionScheduler?.notify();e;){e[qe]|=64;let n=Us(e);if(yI(e)&&!n)return e;e=n}return null}var Zr=class{get rootNodes(){let n=this._lView,t=n[Xe];return zl(t,n,t.firstChild,[])}constructor(n,t,i=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ri]}set context(n){this._lView[ri]=n}get destroyed(){return(this._lView[qe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[hn];if($i(n)){let t=n[Hl],i=t?t.indexOf(this):-1;i>-1&&(zf(n,i),jl(t,i))}this._attachedToViewContainer=!1}By(this._lView[Xe],this._lView)}onDestroy(n){Wv(this._lView,n)}markForCheck(){sp(this._cdRefInjectingView||this._lView)}detach(){this._lView[qe]&=-129}reattach(){Ff(this._lView),this._lView[qe]|=128}detectChanges(){this._lView[qe]|=1024,s1(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Fy(this._lView[Xe],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=n,Ff(this._lView)}},li=(()=>{class e{static{this.__NG_ELEMENT_ID__=rA}}return e})(),nA=li,iA=class extends nA{constructor(n,t,i){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,i){let r=GT(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:i});return new Zr(r)}};function rA(){return Mc(_n(),nt())}function Mc(e,n){return e.type&4?new iA(n,e,ts(e,n)):null}var yV=new RegExp(`^(\\d+)*(${yM}|${vM})*(.*)`);var oA=()=>null;function q_(e,n){return oA(e,n)}var Ql=class{},Jf=class{},Yl=class{};function sA(e){let n=Error(`No component factory found for ${Sn(e)}.`);return n[aA]=e,n}var aA="ngComponent";var Xf=class{resolveComponentFactory(n){throw sA(n)}},Tc=(()=>{class e{static{this.NULL=new Xf}}return e})(),$s=class{},Yn=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>lA()}}return e})();function lA(){let e=nt(),n=_n(),t=yr(n.index,e);return(Gr(t)?t:e)[Pt]}var cA=(()=>{class e{static{this.\u0275prov=Fe({token:e,providedIn:"root",factory:()=>null})}}return e})(),bf={};var z_=new Set;function ap(e){z_.has(e)||(z_.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Q_(...e){}function uA(){let e=typeof dn.requestAnimationFrame=="function",n=dn[e?"requestAnimationFrame":"setTimeout"],t=dn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}var pt=class e{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new It(!1),this.onMicrotaskEmpty=new It(!1),this.onStable=new It(!1),this.onError=new It(!1),typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=uA().nativeRequestAnimationFrame,hA(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new Be(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,dA,Q_,Q_);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}},dA={};function lp(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function fA(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(dn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,eh(e),e.isCheckStableRunning=!0,lp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),eh(e))}function hA(e){let n=()=>{fA(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(pA(a))return t.invokeTask(r,o,s,a);try{return Y_(e),t.invokeTask(r,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),K_(e)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return Y_(e),t.invoke(r,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),K_(e)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,eh(e),lp(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function eh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Y_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function K_(e){e._nesting--,lp(e)}var th=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new It,this.onMicrotaskEmpty=new It,this.onStable=new It,this.onError=new It}run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}};function pA(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}function gA(e="zone.js",n){return e==="noop"?new th:e==="zone.js"?new pt(n):e}var $o=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}($o||{}),mA={destroy(){}};function Ac(e,n){!n&&mI(Ac);let t=n?.injector??Ee(In);if(!zM(t))return mA;ap("NgAfterNextRender");let i=t.get(cp),r=i.handler??=new ih,o=n?.phase??$o.MixedReadWrite,s=()=>{r.unregister(l),a()},a=t.get(yc).onDestroy(s),l=Hi(t,()=>new nh(o,()=>{s(),e()}));return r.register(l),{destroy:s}}var nh=class{constructor(n,t){this.phase=n,this.callbackFn=t,this.zone=Ee(pt),this.errorHandler=Ee(bi,{optional:!0}),Ee(Ql,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}},ih=class{constructor(){this.executingCallbacks=!1,this.buckets={[$o.EarlyRead]:new Set,[$o.Write]:new Set,[$o.MixedReadWrite]:new Set,[$o.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(let n of Object.values(this.buckets))for(let t of n)t.invoke();this.executingCallbacks=!1;for(let n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(let n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}},cp=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of t)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=Fe({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Kl(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)r=Sf(r,a);else if(o==2){let l=a,c=n[++s];i=Sf(i,l+": "+c+";")}}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}var Zl=class extends Tc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Li(n);return new Jr(t,this.ngModule)}};function Z_(e){let n=[];for(let t in e){if(!e.hasOwnProperty(t))continue;let i=e[t];i!==void 0&&n.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return n}function _A(e){let n=e.toLowerCase();return n==="svg"?Hv:n==="math"?xI:null}var rh=class{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){i=sc(i);let r=this.injector.get(n,bf,i);return r!==bf||t===bf?r:this.parentInjector.get(n,t,i)}},Jr=class extends Yl{get inputs(){let n=this.componentDef,t=n.inputTransforms,i=Z_(n.inputs);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return Z_(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=eI(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,i,r){let o=ft(null);try{r=r||this.ngModule;let s=r instanceof fn?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new rh(n,s):n,l=a.get($s,null);if(l===null)throw new Be(407,!1);let c=a.get(cA,null),u=a.get(cp,null),d=a.get(Ql,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},h=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=i?vT(h,i,this.componentDef.encapsulation,a):ky(h,g,_A(g)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let y=null;m!==null&&(y=Wh(m,a,!0));let p=tp(0,null,null,1,0,null,null,null,null,null,null),b=Sc(null,p,null,v,null,null,f,h,a,null,y);Vh(b);let x,D;try{let C=this.componentDef,S,M=null;C.findHostDirectiveDefs?(S=[],M=new Map,C.findHostDirectiveDefs(C,S,M),S.push(C)):S=[C];let R=vA(b,m),$=yA(R,m,C,S,b,f,h);D=$v(p,ai),m&&CA(h,C,m,i),t!==void 0&&xA(D,this.ngContentSelectors,t),x=wA($,C,S,M,b,[DA]),op(p,b,null)}finally{Hh()}return new oh(this.componentType,x,ts(D,b),b,D)}finally{ft(o)}}},oh=class extends Jf{constructor(n,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Zr(r,void 0,!1),this.componentType=n}setInput(n,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let o=this._rootLView;rp(o[Xe],o,r,n,t),this.previousInputValues.set(n,t);let s=yr(this._tNode.index,o);sp(s)}}get injector(){return new Wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function vA(e,n){let t=e[Xe],i=ai;return e[i]=n,ns(t,i,2,"#host",null)}function yA(e,n,t,i,r,o,s){let a=r[Xe];bA(i,e,n,s);let l=null;n!==null&&(l=Wh(n,r[Ko]));let c=o.rendererFactory.createRenderer(n,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=Sc(r,Ky(t),null,u,r[e.index],e,o,c,null,null,l);return a.firstCreatePass&&Yf(a,e,i.length-1),Ic(r,d),r[e.index]=d}function bA(e,n,t,i){for(let r of e)n.mergedAttrs=Ps(n.mergedAttrs,r.hostAttrs);n.mergedAttrs!==null&&(Kl(n,n.mergedAttrs,!0),t!==null&&Gy(i,t,n))}function wA(e,n,t,i,r,o){let s=_n(),a=r[Xe],l=Qn(s,r);Zy(a,r,s,t,null,i);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,f=Kr(r,a,d,s);_r(f,r)}Jy(a,r,s),l&&_r(l,r);let c=Kr(r,a,s.directiveStart+s.componentOffset,s);if(e[ri]=r[ri]=c,o!==null)for(let u of o)u(c,n);return Jh(a,s,r),c}function CA(e,n,t,i){if(i)Af(e,t,["ng-version","17.3.12"]);else{let{attrs:r,classes:o}=tI(n.selectors[0]);r&&Af(e,t,r),o&&o.length>0&&$y(e,t,o.join(" "))}}function xA(e,n,t){let i=e.projection=[];for(let r=0;r<n.length;r++){let o=t[r];i.push(o!=null?Array.from(o):null)}}function DA(){let e=_n();_c(nt()[Xe],e)}var ui=(()=>{class e{static{this.__NG_ELEMENT_ID__=EA}}return e})();function EA(){let e=_n();return d1(e,nt())}var SA=ui,u1=class extends SA{constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return ts(this._hostTNode,this._hostLView)}get injector(){return new Wr(this._hostTNode,this._hostLView)}get parentInjector(){let n=Uh(this._hostTNode,this._hostLView);if(sy(n)){let t=$l(n,this._hostLView),i=Ul(n),r=t[Xe].data[i+8];return new Wr(r,t)}else return new Wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=J_(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-Ln}createEmbeddedView(n,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=q_(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,W_(this._hostTNode,s)),a}createComponent(n,t,i,r,o){let s=n&&!vI(n),a;if(s)a=t;else{let g=t||{};a=g.index,i=g.injector,r=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let l=s?n:new Jr(Li(n)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?c:this.parentInjector).get(fn,null);m&&(o=m)}let u=Li(l.componentType??{}),d=q_(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,r,f,o);return this.insertImpl(h.hostView,a,W_(this._hostTNode,d)),h}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,i){let r=n._lView;if(MI(r)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=r[hn],c=new u1(l,l[jn],l[hn]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return WT(s,r,o,i),n.attachToViewContainerRef(),_v(wf(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=J_(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),i=zf(this._lContainer,t);i&&(jl(wf(this._lContainer),t),By(i[Xe],i))}detach(n){let t=this._adjustIndex(n,-1),i=zf(this._lContainer,t);return i&&jl(wf(this._lContainer),t)!=null?new Zr(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function J_(e){return e[Hl]}function wf(e){return e[Hl]||(e[Hl]=[])}function d1(e,n){let t,i=n[e.index];return $i(i)?t=i:(t=Xy(i,n,null,e),n[e.index]=t,Ic(n,t)),MA(t,n,e,i),new u1(t,e,n)}function IA(e,n){let t=e[Pt],i=t.createComment(""),r=Qn(n,e),o=Kh(t,r);return ql(t,o,i,aT(t,r),!1),i}var MA=OA,TA=()=>!1;function AA(e,n,t){return TA(e,n,t)}function OA(e,n,t,i){if(e[zr])return;let r;t.type&8?r=yi(i):r=IA(n,t),e[zr]=r}var sh=class e{constructor(n){this.queryList=n,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},ah=class e{constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let i=n.contentQueries!==null?n.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)up(n,t).matches!==null&&this.queries[t].setDirty()}},Jl=class{constructor(n,t,i=null){this.flags=t,this.read=i,typeof n=="string"?this.predicate=jA(n):this.predicate=n}},lh=class e{constructor(n=[]){this.queries=n}elementStart(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},ch=class e{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=n.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(n,t,NA(t,o)),this.matchTNodeWithReadOption(n,t,kl(t,n,o,!1,!1))}else i===li?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,kl(t,n,i,!1,!1))}matchTNodeWithReadOption(n,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Zt||r===ui||r===li&&t.type&4)this.addMatch(t.index,-2);else{let o=kl(t,n,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function NA(e,n){let t=e.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===n)return t[i+1]}return null}function RA(e,n){return e.type&11?ts(e,n):e.type&4?Mc(e,n):null}function kA(e,n,t,i){return t===-1?RA(n,e):t===-2?FA(e,n,i):Kr(e,e[Xe],t,n)}function FA(e,n,t){if(t===Zt)return ts(n,e);if(t===li)return Mc(n,e);if(t===ui)return d1(n,e)}function f1(e,n,t,i){let r=n[ji].queries[i];if(r.matches===null){let o=e.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(kA(n,u,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function uh(e,n,t,i){let r=e.queries.getByIndex(t),o=r.matches;if(o!==null){let s=f1(e,n,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],u=n[-l];for(let d=Ln;d<u.length;d++){let f=u[d];f[Ks]===f[hn]&&uh(f[Xe],f,c,i)}if(u[Zo]!==null){let d=u[Zo];for(let f=0;f<d.length;f++){let h=d[f];uh(h[Xe],h,c,i)}}}}}return i}function PA(e,n){return e[ji].queries[n].queryList}function h1(e,n,t){let i=new Uf((t&4)===4);return wT(e,n,i,i.destroy),(n[ji]??=new ah).queries.push(new sh(i))-1}function BA(e,n,t){let i=Gt();return i.firstCreatePass&&(p1(i,new Jl(e,n,t),-1),(n&2)===2&&(i.staticViewQueries=!0)),h1(i,nt(),n)}function LA(e,n,t,i){let r=Gt();if(r.firstCreatePass){let o=_n();p1(r,new Jl(n,t,i),o.index),VA(r,e),(t&2)===2&&(r.staticContentQueries=!0)}return h1(r,nt(),t)}function jA(e){return e.split(",").map(n=>n.trim())}function p1(e,n,t){e.queries===null&&(e.queries=new lh),e.queries.track(new ch(n,t))}function VA(e,n){let t=e.contentQueries||(e.contentQueries=[]),i=t.length?t[t.length-1]:-1;n!==i&&t.push(e.queries.length-1,n)}function up(e,n){return e.queries.getByIndex(n)}function HA(e,n){let t=e[Xe],i=up(t,n);return i.crossesNgTemplate?uh(t,e,n,[]):f1(t,e,i,n)}function UA(e){return typeof e=="function"&&e[$d]!==void 0}function g1(e){return UA(e)&&typeof e.set=="function"}function $A(e){let n=[],t=new Map;function i(r){let o=t.get(r);if(!o){let s=e(r);t.set(r,o=s.then(zA))}return o}return Xl.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,f)=>{a.push(""),s.push(i(d).then(h=>{a[c+f]=h,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>QA(o));n.push(l)}),WA(),Promise.all(n).then(()=>{})}var Xl=new Map,GA=new Set;function WA(){let e=Xl;return Xl=new Map,e}function qA(){return Xl.size===0}function zA(e){return typeof e=="string"?e:e.text()}function QA(e){GA.delete(e)}function YA(e){return Object.getPrototypeOf(e.prototype).constructor}function xt(e){let n=YA(e.type),t=!0,i=[e];for(;n;){let r;if(mr(e))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Be(903,!1);r=n.\u0275dir}if(r){if(t){i.push(r);let s=e;s.inputs=Ml(e.inputs),s.inputTransforms=Ml(e.inputTransforms),s.declaredInputs=Ml(e.declaredInputs),s.outputs=Ml(e.outputs);let a=r.hostBindings;a&&e2(e,a);let l=r.viewQuery,c=r.contentQueries;if(l&&JA(e,l),c&&XA(e,c),KA(e,r),yS(e.outputs,r.outputs),mr(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===xt&&(t=!1)}}n=Object.getPrototypeOf(n)}ZA(i)}function KA(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let i=n.inputs[t];if(i!==void 0&&(e.inputs[t]=i,e.declaredInputs[t]=n.declaredInputs[t],n.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=n.inputTransforms[r]}}}function ZA(e){let n=0,t=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=n+=r.hostVars,r.hostAttrs=Ps(r.hostAttrs,t=Ps(t,r.hostAttrs))}}function Ml(e){return e===zo?{}:e===Nn?[]:e}function JA(e,n){let t=e.viewQuery;t?e.viewQuery=(i,r)=>{n(i,r),t(i,r)}:e.viewQuery=n}function XA(e,n){let t=e.contentQueries;t?e.contentQueries=(i,r,o)=>{n(i,r,o),t(i,r,o)}:e.contentQueries=n}function e2(e,n){let t=e.hostBindings;t?e.hostBindings=(i,r)=>{n(i,r),t(i,r)}:e.hostBindings=n}function dp(e){let n=e.inputConfig,t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}e.inputTransforms=t}var vr=class{},Gs=class{};var ec=class extends vr{constructor(n,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zl(this);let r=Iv(n);this._bootstrapComponents=Ry(r.bootstrap),this._r3Injector=gy(n,t,[{provide:vr,useValue:this},{provide:Tc,useValue:this.componentFactoryResolver},...i],Sn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},tc=class extends Gs{constructor(n){super(),this.moduleType=n}create(n){return new ec(this.moduleType,n,[])}};function t2(e,n,t){return new ec(e,n,t)}var dh=class extends vr{constructor(n){super(),this.componentFactoryResolver=new Zl(this),this.instance=null;let t=new Bs([...n.providers,{provide:vr,useValue:this},{provide:Tc,useValue:this.componentFactoryResolver}],n.parent||cc(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Oc(e,n,t=null){return new dh({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var Nc=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new yt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function m1(e){return fp(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function n2(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),i;for(;!(i=t.next()).done;)n(i.value)}}function fp(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function hp(e,n,t){return e[n]=t}function i2(e,n){return e[n]}function Vi(e,n,t){let i=e[n];return Object.is(i,t)?!1:(e[n]=t,!0)}function r2(e,n,t,i){let r=Vi(e,n,t);return Vi(e,n+1,i)||r}function o2(e){return(e.flags&32)===32}function s2(e,n,t,i,r,o,s,a,l){let c=n.consts,u=ns(n,e,4,s||null,Jo(c,a));ip(n,t,u,Jo(c,l)),_c(n,u);let d=u.tView=tp(2,u,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}function Pe(e,n,t,i,r,o,s,a){let l=nt(),c=Gt(),u=e+ai,d=c.firstCreatePass?s2(u,c,l,n,t,i,r,o,s):c.data[u];eo(d,!1);let f=a2(c,l,d,e);gc()&&Dc(c,l,f,d),_r(f,l);let h=Xy(f,l,f,d);return l[u]=h,Ic(l,h),AA(h,d,l),fc(d)&&Xh(c,l,d),s!=null&&ep(l,d,a),Pe}var a2=l2;function l2(e,n,t,i){return mc(!0),n[Pt].createComment("")}function br(e,n,t,i){let r=nt(),o=hc();if(Vi(r,o,n)){let s=Gt(),a=pc();PT(a,r,e,n,t,i)}return br}function _1(e,n,t,i){return Vi(e,hc(),t)?n+zs(t)+i:ci}function Tl(e,n){return e<<17|n<<2}function Xr(e){return e>>17&32767}function c2(e){return(e&2)==2}function u2(e,n){return e&131071|n<<17}function fh(e){return e|2}function Xo(e){return(e&131068)>>2}function Cf(e,n){return e&-131069|n<<2}function d2(e){return(e&1)===1}function hh(e){return e|1}function f2(e,n,t,i,r,o){let s=o?n.classBindings:n.styleBindings,a=Xr(s),l=Xo(s);e[i]=t;let c=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Ys(d,u)>0)&&(c=!0)}else u=t;if(r)if(l!==0){let f=Xr(e[a+1]);e[i+1]=Tl(f,a),f!==0&&(e[f+1]=Cf(e[f+1],i)),e[a+1]=u2(e[a+1],i)}else e[i+1]=Tl(a,0),a!==0&&(e[a+1]=Cf(e[a+1],i)),a=i;else e[i+1]=Tl(l,0),a===0?a=i:e[l+1]=Cf(e[l+1],i),l=i;c&&(e[i+1]=fh(e[i+1])),X_(e,u,i,!0),X_(e,u,i,!1),h2(n,u,e,i,o),s=Tl(a,l),o?n.classBindings=s:n.styleBindings=s}function h2(e,n,t,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&Ys(o,n)>=0&&(t[i+1]=hh(t[i+1]))}function X_(e,n,t,i){let r=e[t+1],o=n===null,s=i?Xr(r):Xo(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];p2(l,n)&&(a=!0,e[s+1]=i?hh(c):fh(c)),s=i?Xr(c):Xo(c)}a&&(e[t+1]=i?fh(r):hh(r))}function p2(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?Ys(e,n)>=0:!1}var ni={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function g2(e){return e.substring(ni.key,ni.keyEnd)}function m2(e){return _2(e),v1(e,y1(e,0,ni.textEnd))}function v1(e,n){let t=ni.textEnd;return t===n?-1:(n=ni.keyEnd=v2(e,ni.key=n,t),y1(e,n,t))}function _2(e){ni.key=0,ni.keyEnd=0,ni.value=0,ni.valueEnd=0,ni.textEnd=e.length}function y1(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function v2(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function X(e,n,t){let i=nt(),r=hc();if(Vi(i,r,n)){let o=Gt(),s=pc();np(o,s,i,e,n,i[Pt],t,!1)}return X}function ph(e,n,t,i,r){let o=n.inputs,s=r?"class":"style";rp(e,t,o[s],s,i)}function io(e,n){return b2(e,n,null,!0),io}function Rc(e){w2(I2,y2,e,!0)}function y2(e,n){for(let t=m2(n);t>=0;t=v1(n,t))Th(e,g2(n),!0)}function b2(e,n,t,i){let r=nt(),o=Gt(),s=Yv(2);if(o.firstUpdatePass&&w1(o,e,s,i),n!==ci&&Vi(r,s,n)){let a=o.data[to()];C1(o,a,r,r[Pt],e,r[s+1]=T2(n,t),i,s)}}function w2(e,n,t,i){let r=Gt(),o=Yv(2);r.firstUpdatePass&&w1(r,null,o,i);let s=nt();if(t!==ci&&Vi(s,o,t)){let a=r.data[to()];if(x1(a,i)&&!b1(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Sf(l,t||"")),ph(r,a,s,t,i)}else M2(r,a,s,s[Pt],s[o+1],s[o+1]=S2(e,n,t),i,o)}}function b1(e,n){return n>=e.expandoStartIndex}function w1(e,n,t,i){let r=e.data;if(r[t+1]===null){let o=r[to()],s=b1(e,t);x1(o,i)&&n===null&&!s&&(n=!1),n=C2(r,o,n,i),f2(r,o,n,t,s,i)}}function C2(e,n,t,i){let r=$I(e),o=i?n.residualClasses:n.residualStyles;if(r===null)(i?n.classBindings:n.styleBindings)===0&&(t=xf(null,e,n,t,i),t=Ws(t,n.attrs,i),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==r)if(t=xf(r,e,n,t,i),o===null){let l=x2(e,n,i);l!==void 0&&Array.isArray(l)&&(l=xf(null,e,n,l[1],i),l=Ws(l,n.attrs,i),D2(e,n,i,l))}else o=E2(e,n,i)}return o!==void 0&&(i?n.residualClasses=o:n.residualStyles=o),t}function x2(e,n,t){let i=t?n.classBindings:n.styleBindings;if(Xo(i)!==0)return e[Xr(i)]}function D2(e,n,t,i){let r=t?n.classBindings:n.styleBindings;e[Xr(r)]=i}function E2(e,n,t){let i,r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=Ws(i,s,t)}return Ws(i,n.attrs,t)}function xf(e,n,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],i=Ws(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),i}function Ws(e,n,t){let i=t?1:2,r=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Th(e,s,t?!0:n[++o]))}return e===void 0?null:e}function S2(e,n,t){if(t==null||t==="")return Nn;let i=[],r=no(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&n(i,r);return i}function I2(e,n,t){let i=String(n);i!==""&&!i.includes(" ")&&Th(e,i,t)}function M2(e,n,t,i,r,o,s,a){r===ci&&(r=Nn);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let f=l<r.length?r[l+1]:void 0,h=c<o.length?o[c+1]:void 0,g=null,m;u===d?(l+=2,c+=2,f!==h&&(g=d,m=h)):d===null||u!==null&&u<d?(l+=2,g=u):(c+=2,g=d,m=h),g!==null&&C1(e,n,t,i,g,m,s,a),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}function C1(e,n,t,i,r,o,s,a){if(!(n.type&3))return;let l=e.data,c=l[a+1],u=d2(c)?ev(l,n,t,r,Xo(c),s):void 0;if(!nc(u)){nc(o)||c2(c)&&(o=ev(l,null,t,r,a,s));let d=Uv(to(),t);hT(i,s,d,r,o)}}function ev(e,n,t,i,r,o){let s=n===null,a;for(;r>0;){let l=e[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=t[r+1];f===ci&&(f=d?Nn:void 0);let h=d?ff(f,i):u===i?f:void 0;if(c&&!nc(h)&&(h=ff(l,i)),nc(h)&&(a=h,s))return a;let g=e[r+1];r=s?Xr(g):Xo(g)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=ff(l,i))}return a}function nc(e){return e!==void 0}function T2(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=Sn(no(e)))),e}function x1(e,n){return(e.flags&(n?8:16))!==0}function A2(e,n,t,i,r,o){let s=n.consts,a=Jo(s,r),l=ns(n,e,2,i,a);return ip(n,t,l,Jo(s,o)),l.attrs!==null&&Kl(l,l.attrs,!1),l.mergedAttrs!==null&&Kl(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function te(e,n,t,i){let r=nt(),o=Gt(),s=ai+e,a=r[Pt],l=o.firstCreatePass?A2(s,o,r,n,t,i):o.data[s],c=O2(o,r,l,a,n,e);r[s]=c;let u=fc(l);return eo(l,!0),Gy(a,c,l),!o2(l)&&gc()&&Dc(o,r,c,l),NI()===0&&_r(c,r),RI(),u&&(Xh(o,r,l),Jh(o,l,r)),i!==null&&ep(r,l),te}function ne(){let e=_n();Ph()?Bh():(e=e.parent,eo(e,!1));let n=e;FI(n)&&PI(),kI();let t=Gt();return t.firstCreatePass&&(_c(t,e),Rh(e)&&t.queries.elementEnd(e)),n.classesWithoutHost!=null&&ZI(n)&&ph(t,n,nt(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&JI(n)&&ph(t,n,nt(),n.stylesWithoutHost,!1),ne}function Oe(e,n,t,i){return te(e,n,t,i),ne(),Oe}var O2=(e,n,t,i,r,o)=>(mc(!0),ky(i,r,zI()));function N2(e,n,t,i,r){let o=n.consts,s=Jo(o,i),a=ns(n,e,8,"ng-container",s);s!==null&&Kl(a,s,!0);let l=Jo(o,r);return ip(n,t,a,l),n.queries!==null&&n.queries.elementStart(n,a),a}function Ge(e,n,t){let i=nt(),r=Gt(),o=e+ai,s=r.firstCreatePass?N2(o,r,i,n,t):r.data[o];eo(s,!0);let a=R2(r,i,s,e);return i[o]=a,gc()&&Dc(r,i,a,s),_r(a,i),fc(s)&&(Xh(r,i,s),Jh(r,s,i)),t!=null&&ep(i,s),Ge}function We(){let e=_n(),n=Gt();return Ph()?Bh():(e=e.parent,eo(e,!1)),n.firstCreatePass&&(_c(n,e),Rh(e)&&n.queries.elementEnd(e)),We}function Xs(e,n,t){return Ge(e,n,t),We(),Xs}var R2=(e,n,t,i)=>(mc(!0),ZM(n[Pt],""));function gt(){return nt()}var ic="en-US";var k2=ic;function F2(e){typeof e=="string"&&(k2=e.toLowerCase().replace(/_/g,"-"))}function ke(e,n,t,i){let r=nt(),o=Gt(),s=_n();return D1(o,r,r[Pt],s,e,n,i),ke}function P2(e,n,t,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=n[js],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function D1(e,n,t,i,r,o,s){let a=fc(i),c=e.firstCreatePass&&n1(e),u=n[ri],d=t1(n),f=!0;if(i.type&3||s){let m=Qn(i,n),v=s?s(m):m,y=d.length,p=s?x=>s(yi(x[i.index])):i.index,b=null;if(!s&&a&&(b=P2(e,n,r,i.index)),b!==null){let x=b.__ngLastListenerFn__||b;x.__ngNextListenerFn__=o,b.__ngLastListenerFn__=o,f=!1}else{o=nv(i,n,u,o,!1);let x=t.listen(v,r,o);d.push(o,x),c&&c.push(r,p,y,y+1)}}else o=nv(i,n,u,o,!1);let h=i.outputs,g;if(f&&h!==null&&(g=h[r])){let m=g.length;if(m)for(let v=0;v<m;v+=2){let y=g[v],p=g[v+1],D=n[y][p].subscribe(o),C=d.length;d.push(o,D),c&&c.push(r,i.index,C,-(C+1))}}}function tv(e,n,t,i){let r=ft(null);try{return mi(6,n,t),t(i)!==!1}catch(o){return i1(e,o),!1}finally{mi(7,n,t),ft(r)}}function nv(e,n,t,i,r){return function o(s){if(s===Function)return i;let a=e.componentOffset>-1?yr(e.index,n):n;sp(a);let l=tv(n,t,i,s),c=o.__ngNextListenerFn__;for(;c;)l=tv(n,t,c,s)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&s.preventDefault(),l}}function de(e=1){return WI(e)}function B2(e,n){let t=null,i=YS(e);for(let r=0;r<n.length;r++){let o=n[r];if(o==="*"){t=r;continue}if(i===null?xv(e,o,!0):JS(i,o))return r}return t}function is(e){let n=nt()[si][jn];if(!n.projection){let t=e?e.length:1,i=n.projection=VS(t,null),r=i.slice(),o=n.child;for(;o!==null;){let s=e?B2(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function ro(e,n=0,t){let i=nt(),r=Gt(),o=ns(r,ai+e,16,null,t||null);o.projection===null&&(o.projection=n),Bh(),(!i[Ls]||zv())&&(o.flags&32)!==32&&dT(r,i,o)}function pp(e,n,t){return E1(e,"",n,"",t),pp}function E1(e,n,t,i,r){let o=nt(),s=_1(o,n,t,i);if(s!==ci){let a=Gt(),l=pc();np(a,l,o,e,s,o[Pt],r,!1)}return E1}function gp(e,n,t,i){LA(e,n,t,i)}function kn(e,n,t){BA(e,n,t)}function vn(e){let n=nt(),t=Gt(),i=Kv();jh(i+1);let r=up(t,i);if(e.dirty&&II(n)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=HA(n,i);e.reset(o,dM),e.notifyOnChanges()}return!0}return!1}function yn(){return PA(nt(),Kv())}function pn(e){let n=LI();return SI(n,ai+e)}function Ie(e,n=""){let t=nt(),i=Gt(),r=e+ai,o=i.firstCreatePass?ns(i,r,1,n,null):i.data[r],s=L2(i,t,o,n,e);t[r]=s,gc()&&Dc(i,t,s,o),eo(o,!1)}var L2=(e,n,t,i,r)=>(mc(!0),YM(n[Pt],i));function Jt(e){return mt("",e,""),Jt}function mt(e,n,t){let i=nt(),r=_1(i,e,n,t);return r!==ci&&VT(i,to(),r),mt}function zt(e,n,t){g1(n)&&(n=n());let i=nt(),r=hc();if(Vi(i,r,n)){let o=Gt(),s=pc();np(o,s,i,e,n,i[Pt],t,!1)}return zt}function Xt(e,n){let t=g1(e);return t&&e.set(n),t}function Qt(e,n){let t=nt(),i=Gt(),r=_n();return D1(i,t,t[Pt],r,e,n),Qt}function j2(e,n,t){let i=Gt();if(i.firstCreatePass){let r=mr(e);gh(t,i.data,i.blueprint,r,!0),gh(n,i.data,i.blueprint,r,!1)}}function gh(e,n,t,i,r){if(e=En(e),Array.isArray(e))for(let o=0;o<e.length;o++)gh(e[o],n,t,i,r);else{let o=Gt(),s=nt(),a=_n(),l=Yo(e)?e:En(e.provide),c=Rv(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Yo(e)||!e.multi){let h=new Yr(c,r,Me),g=Ef(l,n,r?u:u+f,d);g===-1?(Lf(Gl(a,s),o,l),Df(o,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(h),s.push(h)):(t[g]=h,s[g]=h)}else{let h=Ef(l,n,u+f,d),g=Ef(l,n,u,u+f),m=h>=0&&t[h],v=g>=0&&t[g];if(r&&!v||!r&&!m){Lf(Gl(a,s),o,l);let y=U2(r?H2:V2,t.length,r,i,c);!r&&v&&(t[g].providerFactory=y),Df(o,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(y),s.push(y)}else{let y=S1(t[r?g:h],c,!r&&i);Df(o,e,h>-1?h:g,y)}!r&&i&&v&&t[g].componentProviders++}}}function Df(e,n,t,i){let r=Yo(n),o=cI(n);if(r||o){let l=(o?En(n.useClass):n).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&n.multi){let u=c.indexOf(t);u===-1?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function S1(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Ef(e,n,t,i){for(let r=t;r<i;r++)if(n[r]===e)return r;return-1}function V2(e,n,t,i){return mh(this.multi,[])}function H2(e,n,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Kr(t,t[Xe],this.providerFactory.index,i);o=a.slice(0,s),mh(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],mh(r,o);return o}function mh(e,n){for(let t=0;t<e.length;t++){let i=e[t];n.push(i())}return n}function U2(e,n,t,i,r){let o=new Yr(e,t,Me);return o.multi=[],o.index=n,o.componentProviders=0,S1(o,r,i&&!t),o}function Kn(e,n=[]){return t=>{t.providersResolver=(i,r)=>j2(i,r?r(e):e,n)}}var $2=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=Av(!1,t.type),r=i.length>0?Oc([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Fe({token:e,providedIn:"environment",factory:()=>new e(Ue(fn))})}}return e})();function ea(e){ap("NgStandalone"),e.getStandaloneInjector=n=>n.get($2).getOrCreateStandaloneInjector(e)}function wr(e,n,t){let i=Lh()+e,r=nt();return r[i]===ci?hp(r,i,t?n.call(t):n()):i2(r,i)}function nn(e,n,t,i){return G2(nt(),Lh(),e,n,t,i)}function Wt(e,n,t,i,r){return W2(nt(),Lh(),e,n,t,i,r)}function I1(e,n){let t=e[n];return t===ci?void 0:t}function G2(e,n,t,i,r,o){let s=n+t;return Vi(e,s,r)?hp(e,s+1,o?i.call(o,r):i(r)):I1(e,s+1)}function W2(e,n,t,i,r,o,s){let a=n+t;return r2(e,a,r,o)?hp(e,a+2,s?i.call(s,r,o):i(r,o)):I1(e,a+2)}function qi(e,n){return Mc(e,n)}var Al=null;function q2(e){Al!==null&&(e.defaultEncapsulation!==Al.defaultEncapsulation||e.preserveWhitespaces!==Al.preserveWhitespaces)||(Al=e)}var kc=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var mp=new $e(""),ta=new $e(""),Fc=(()=>{class e{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,_p||(z2(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(t)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||e)(Ue(pt),Ue(Pc),Ue(ta))}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}}return e})(),Pc=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return _p?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function z2(e){_p=e}var _p;function oo(e){return!!e&&typeof e.then=="function"}function M1(e){return!!e&&typeof e.subscribe=="function"}var Bc=new $e(""),T1=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=Ee(Bc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=r();if(oo(o))t.push(o);else if(M1(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),vp=new $e("");function Q2(){Wm(()=>{throw new Be(600,!1)})}function Y2(e){return e.isBoundToModule}function K2(e,n,t){try{let i=t();return oo(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e.handleError(i)),i}}function A1(e,n){return Array.isArray(n)?n.reduce(A1,e):Te(Te({},e),n)}var Cr=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ee(my),this.afterRenderEffectManager=Ee(cp),this.externalTestViews=new Set,this.beforeRender=new Tt,this.afterTick=new Tt,this.componentTypes=[],this.components=[],this.isStable=Ee(Nc).hasPendingTasks.pipe(Qe(t=>!t)),this._injector=Ee(fn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof Yl;if(!this._injector.get(T1).done){let f=!r&&Sv(t),h=!1;throw new Be(405,h)}let s;r?s=t:s=this._injector.get(Tc).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=Y2(s)?void 0:this._injector.get(vr),l=i||s.selector,c=s.create(In.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(mp,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Pl(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new Be(101,!1);let i=ft(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,ft(i)}}detectChangesInAttachedViews(t){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===o1)throw new Be(103,!1);if(t){let o=i===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)Z2(s,o,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>_h(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>_h(o))))break}}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Pl(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(vp,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Pl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Be(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Pl(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function Z2(e,n,t){!n&&!_h(e)||J2(e,t,n)}function _h(e){return Fh(e)}function J2(e,n,t){let i;t?(i=0,e[qe]|=1024):e[qe]&64?i=0:i=1,s1(e,n,i)}var vh=class{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},Lc=(()=>{class e{compileModuleSync(t){return new tc(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=Iv(t),o=Ry(r.declarations).reduce((s,a)=>{let l=Li(a);return l&&s.push(new Jr(l)),s},[]);return new vh(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),X2=new $e("");function eO(e,n,t){let i=new tc(t);return Promise.resolve(i)}function iv(e){for(let n=e.length-1;n>=0;n--)if(e[n]!==void 0)return e[n]}var tO=(()=>{class e{constructor(){this.zone=Ee(pt),this.applicationRef=Ee(Cr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function nO(e){return[{provide:pt,useFactory:e},{provide:Qo,multi:!0,useFactory:()=>{let n=Ee(tO,{optional:!0});return()=>n.initialize()}},{provide:Qo,multi:!0,useFactory:()=>{let n=Ee(oO);return()=>{n.initialize()}}},{provide:my,useFactory:iO}]}function iO(){let e=Ee(pt),n=Ee(bi);return t=>e.runOutsideAngular(()=>n.handleError(t))}function rO(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var oO=(()=>{class e{constructor(){this.subscription=new $t,this.initialized=!1,this.zone=Ee(pt),this.pendingTasks=Ee(Nc)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pt.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pt.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function sO(){return typeof $localize<"u"&&$localize.locale||ic}var jc=new $e("",{providedIn:"root",factory:()=>Ee(jc,et.Optional|et.SkipSelf)||sO()});var O1=new $e(""),N1=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){let r=gA(i?.ngZone,rO({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{let o=t2(t.moduleType,this.injector,nO(()=>r)),s=o.injector.get(bi,null);return r.runOutsideAngular(()=>{let a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Pl(this._modules,o),a.unsubscribe()})}),K2(s,r,()=>{let a=o.injector.get(T1);return a.runInitializers(),a.donePromise.then(()=>{let l=o.injector.get(jc,ic);return F2(l||ic),this._moduleDoBootstrap(o),o})})})}bootstrapModule(t,i=[]){let r=A1({},i);return eO(this.injector,r,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){let i=t.injector.get(Cr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(i);else throw new Be(-403,!1);this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let t=this._injector.get(O1,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||e)(Ue(In))}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),ks=null,R1=new $e("");function aO(e){if(ks&&!ks.get(R1,!1))throw new Be(400,!1);Q2(),ks=e;let n=e.get(N1);return uO(e),n}function yp(e,n,t=[]){let i=`Platform: ${n}`,r=new $e(i);return(o=[])=>{let s=k1();if(!s||s.injector.get(R1,!1)){let a=[...t,...o,{provide:r,useValue:!0}];e?e(a):aO(lO(a,i))}return cO(r)}}function lO(e=[],n){return In.create({name:n,providers:[{provide:lc,useValue:"platform"},{provide:O1,useValue:new Set([()=>ks=null])},...e]})}function cO(e){let n=k1();if(!n)throw new Be(401,!1);return n}function k1(){return ks?.get(N1)??null}function uO(e){e.get($h,null)?.forEach(t=>t())}var xi=(()=>{class e{static{this.__NG_ELEMENT_ID__=dO}}return e})();function dO(e){return fO(_n(),nt(),(e&16)===16)}function fO(e,n,t){if(dc(e)&&!t){let i=yr(e.index,n);return new Zr(i,i)}else if(e.type&47){let i=n[si];return new Zr(i,n)}return null}var yh=class{constructor(){}supports(n){return m1(n)}create(n){return new bh(n)}},hO=(e,n)=>n,bh=class{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||hO}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<rv(i,r,o)?t:i,a=rv(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,u=l-r;if(c!=u){for(let f=0;f<c;f++){let h=f<o.length?o[f]:o[f]=0,g=h+f;u<=g&&g<c&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!m1(n))throw new Be(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,n2(n,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,i,r){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,r)):(n=this._linkedRecords===null?null:this._linkedRecords.get(i,r),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,r)):n=this._addAfter(new wh(t,i),o,r)),n}_verifyReinsertion(n,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let r=n._prevRemoved,o=n._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,t,i),this._addToMoves(n,i),n}_moveAfter(n,t,i){return this._unlink(n),this._insertAfter(n,t,i),this._addToMoves(n,i),n}_addAfter(n,t,i){return this._insertAfter(n,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,i){let r=t===null?this._itHead:t._next;return n._next=r,n._prev=t,r===null?this._itTail=n:r._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new rc),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,i=n._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new rc),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},wh=class{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ch=class{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){let t=n._prevDup,i=n._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},rc=class{constructor(){this.map=new Map}put(n){let t=n.trackById,i=this.map.get(t);i||(i=new Ch,this.map.set(t,i)),i.add(n)}get(n,t){let i=n,r=this.map.get(i);return r?r.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function rv(e,n,t){let i=e.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+n+r}var xh=class{constructor(){}supports(n){return n instanceof Map||fp(n)}create(){return new Dh}},Dh=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let t;for(t=this._mapHead;t!==null;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||fp(n)))throw new Be(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){let i=n._prev;return t._next=n,t._prev=i,n._prev=t,i&&(i._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){let r=this._records.get(n);this._maybeAddToChanges(r,t);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new Eh(n);return this._records.set(n,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(i=>t(n[i],i))}},Eh=class{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function ov(){return new bp([new yh])}var bp=(()=>{class e{static{this.\u0275prov=Fe({token:e,providedIn:"root",factory:ov})}constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||ov()),deps:[[e,new ac,new Qs]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new Be(901,!1)}}return e})();function sv(){return new wp([new xh])}var wp=(()=>{class e{static{this.\u0275prov=Fe({token:e,providedIn:"root",factory:sv})}constructor(t){this.factories=t}static create(t,i){if(i){let r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||sv()),deps:[[e,new ac,new Qs]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i)return i;throw new Be(901,!1)}}return e})();var F1=yp(null,"core",[]),P1=(()=>{class e{constructor(t){}static{this.\u0275fac=function(i){return new(i||e)(Ue(Cr))}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})();function xr(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Vc(e,n){let t=Li(e),i=n.elementInjector||cc();return new Jr(t).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}function B1(e){let n=Li(e);if(!n)return null;let t=new Jr(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var $1=null;function Di(){return $1}function G1(e){$1??=e}var Hc=class{};var rn=new $e(""),Mp=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:()=>Ee(gO),providedIn:"platform"})}}return e})(),W1=new $e(""),gO=(()=>{class e extends Mp{constructor(){super(),this._doc=Ee(rn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Di().getBaseHref(this._doc)}onPopState(t){let i=Di().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=Di().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function Tp(e,n){if(e.length==0)return n;if(n.length==0)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,t==2?e+n.substring(1):t==1?e+n:e+"/"+n}function L1(e){let n=e.match(/#|\?|$/),t=n&&n.index||e.length,i=t-(e[t-1]==="/"?1:0);return e.slice(0,i)+e.slice(t)}function zi(e){return e&&e[0]!=="?"?"?"+e:e}var Qi=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:()=>Ee(Ap),providedIn:"root"})}}return e})(),q1=new $e(""),Ap=(()=>{class e extends Qi{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ee(rn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Tp(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+zi(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+zi(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+zi(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||e)(Ue(Mp),Ue(q1,8))}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),z1=(()=>{class e extends Qi{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=Tp(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+zi(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+zi(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||e)(Ue(Mp),Ue(q1,8))}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}}return e})(),Ei=(()=>{class e{constructor(t){this._subject=new It,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=vO(L1(j1(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+zi(i))}normalize(t){return e.stripTrailingSlash(_O(this._basePath,j1(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+zi(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+zi(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=zi}static{this.joinWithSlash=Tp}static{this.stripTrailingSlash=L1}static{this.\u0275fac=function(i){return new(i||e)(Ue(Qi))}}static{this.\u0275prov=Fe({token:e,factory:()=>mO(),providedIn:"root"})}}return e})();function mO(){return new Ei(Ue(Qi))}function _O(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function j1(e){return e.replace(/\/index.html$/,"")}function vO(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}function Q1(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var Cp=/\s+/,V1=[],bn=(()=>{class e{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=V1,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Cp):V1}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Cp):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(Cp).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||e)(Me(Zt),Me(Yn))}}static{this.\u0275dir=dt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[tn.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();var xp=class{constructor(n,t,i,r){this.$implicit=n,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},on=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new xp(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),H1(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);H1(o,r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(Me(ui),Me(li),Me(bp))}}static{this.\u0275dir=dt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function H1(e,n){e.context.$implicit=n.item}var jt=(()=>{class e{constructor(t,i){this._viewContainer=t,this._context=new Dp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){U1("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){U1("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(Me(ui),Me(li))}}static{this.\u0275dir=dt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),Dp=class{constructor(){this.$implicit=null,this.ngIf=null}};function U1(e,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Sn(n)}'.`)}var yO=!0,Uc=class{constructor(n,t){this._viewContainerRef=n,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}},Si=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let i=yO?t===this._ngSwitch:t==this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let i of this._defaultViews)i.enforceState(t)}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=dt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return e})(),Dr=(()=>{class e{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Uc(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(i){return new(i||e)(Me(ui),Me(li),Me(Si,9))}}static{this.\u0275dir=dt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return e})(),Gc=(()=>{class e{constructor(t,i,r){r._addDefault(new Uc(t,i))}static{this.\u0275fac=function(i){return new(i||e)(Me(ui),Me(li),Me(Si,9))}}static{this.\u0275dir=dt({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return e})();var Y1=(()=>{class e{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){let[r,o]=t.split("."),s=r.indexOf("-")===-1?void 0:wi.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static{this.\u0275fac=function(i){return new(i||e)(Me(Zt),Me(wp),Me(Yn))}}static{this.\u0275dir=dt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return e})();var K1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})(),Op="browser",bO="server";function Z1(e){return e===Op}function Np(e){return e===bO}var J1=(()=>{class e{static{this.\u0275prov=Fe({token:e,providedIn:"root",factory:()=>Z1(Ee(Gi))?new Ep(Ee(rn),window):new Sp})}}return e})(),Ep=class{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let t=wO(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let t=n.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function wO(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=i.nextNode()}}return null}var Sp=class{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}},$c=class{};var Fp=class extends Hc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Pp=class e extends Fp{static makeCurrent(){G1(new e)}onAndCancel(n,t,i){return n.addEventListener(t,i),()=>{n.removeEventListener(t,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=xO();return t==null?null:DO(t)}resetBaseElement(){na=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Q1(document.cookie,n)}},na=null;function xO(){return na=na||document.querySelector("base"),na?na.getAttribute("href"):null}function DO(e){return new URL(e,document.baseURI).pathname}var Bp=class{addToWindow(n){dn.getAngularTestability=(i,r=!0)=>{let o=n.findTestabilityInTree(i,r);if(o==null)throw new Be(5103,!1);return o},dn.getAllAngularTestabilities=()=>n.getAllTestabilities(),dn.getAllAngularRootElements=()=>n.getAllRootElements();let t=i=>{let r=dn.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};dn.frameworkStabilizers||(dn.frameworkStabilizers=[]),dn.frameworkStabilizers.push(t)}findTestabilityInTree(n,t,i){if(t==null)return null;let r=n.getTestability(t);return r??(i?Di().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},EO=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}}return e})(),Lp=new $e(""),nb=(()=>{class e{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new Be(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||e)(Ue(Lp),Ue(pt))}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}}return e})(),Wc=class{constructor(n){this._doc=n}},Rp="ng-app-id",ib=(()=>{class e{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Np(o),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Rp}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(Rp),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Rp,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||e)(Ue(rn),Ue(bc),Ue(Gh,8),Ue(Gi))}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}}return e})(),kp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vp=/%COMP%/g,rb="%COMP%",SO=`_nghost-${rb}`,IO=`_ngcontent-${rb}`,MO=!0,TO=new $e("",{providedIn:"root",factory:()=>MO});function AO(e){return IO.replace(Vp,e)}function OO(e){return SO.replace(Vp,e)}function ob(e,n){return n.map(t=>t.replace(Vp,e))}var X1=(()=>{class e{constructor(t,i,r,o,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Np(a),this.defaultRenderer=new ia(t,s,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===vi.ShadowDom&&(i=st(Te({},i),{encapsulation:vi.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof qc?r.applyToHost(t):r instanceof ra&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case vi.Emulated:o=new qc(l,c,i,this.appId,u,s,a,d);break;case vi.ShadowDom:return new jp(l,c,t,i,s,a,this.nonce,d);default:o=new ra(l,c,i,u,s,a,d);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||e)(Ue(nb),Ue(ib),Ue(bc),Ue(TO),Ue(rn),Ue(Gi),Ue(pt),Ue(Gh))}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}}return e})(),ia=class{constructor(n,t,i,r){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(kp[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(eb(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(eb(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new Be(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;let o=kp[r];o?n.setAttributeNS(o,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){let r=kp[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(wi.DashCase|wi.Important)?n.style.setProperty(t,i,r&wi.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&wi.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n!=null&&(n[t]=i)}setValue(n,t){n.nodeValue=t}listen(n,t,i){if(typeof n=="string"&&(n=Di().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(i))}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function eb(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var jp=class extends ia{constructor(n,t,i,r,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=ob(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ra=class extends ia{constructor(n,t,i,r,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?ob(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},qc=class extends ra{constructor(n,t,i,r,o,s,a,l){let c=r+"-"+i.id;super(n,t,i,o,s,a,l,c),this.contentAttr=AO(c),this.hostAttr=OO(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}},NO=(()=>{class e extends Wc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||e)(Ue(rn))}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}}return e})(),tb=["alt","control","meta","shift"],RO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kO={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},FO=(()=>{class e extends Wc{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,i,r){let o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Di().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),tb.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=RO[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),tb.forEach(s=>{if(s!==r){let a=kO[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{e.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||e)(Ue(rn))}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}}return e})();function PO(){Pp.makeCurrent()}function BO(){return new bi}function LO(){return Cy(document),document}var jO=[{provide:Gi,useValue:Op},{provide:$h,useValue:PO,multi:!0},{provide:rn,useFactory:LO,deps:[]}],sb=yp(F1,"browser",jO),VO=new $e(""),HO=[{provide:ta,useClass:Bp,deps:[]},{provide:mp,useClass:Fc,deps:[pt,Pc,ta]},{provide:Fc,useClass:Fc,deps:[pt,Pc,ta]}],UO=[{provide:lc,useValue:"root"},{provide:bi,useFactory:BO,deps:[]},{provide:Lp,useClass:NO,multi:!0,deps:[rn,pt,Gi]},{provide:Lp,useClass:FO,multi:!0,deps:[rn]},X1,ib,nb,{provide:$s,useExisting:X1},{provide:$c,useClass:EO,deps:[]},[]],ab=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:bc,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||e)(Ue(VO,12))}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({providers:[...UO,...HO],imports:[K1,P1]})}}return e})();var lb=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||e)(Ue(rn))}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Je="primary",ya=Symbol("RouteTitle"),Wp=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ls(e){return new Wp(e)}function $O(e,n,t){let i=t.path.split("/");if(i.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function GO(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Ii(e[t],n[t]))return!1;return!0}function Ii(e,n){let t=e?qp(e):void 0,i=n?qp(n):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!vb(e[r],n[r]))return!1;return!0}function qp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function vb(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),i=[...n].sort();return t.every((r,o)=>i[o]===r)}else return e===n}function yb(e){return e.length>0?e[e.length-1]:null}function Mr(e){return rf(e)?e:oo(e)?Nt(Promise.resolve(e)):Le(e)}var WO={exact:wb,subset:Cb},bb={exact:qO,subset:zO,ignored:()=>!0};function ub(e,n,t){return WO[t.paths](e.root,n.root,t.matrixParams)&&bb[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function qO(e,n){return Ii(e,n)}function wb(e,n,t){if(!ao(e.segments,n.segments)||!Yc(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!e.children[i]||!wb(e.children[i],n.children[i],t))return!1;return!0}function zO(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>vb(e[t],n[t]))}function Cb(e,n,t){return xb(e,n,n.segments,t)}function xb(e,n,t,i){if(e.segments.length>t.length){let r=e.segments.slice(0,t.length);return!(!ao(r,t)||n.hasChildren()||!Yc(r,t,i))}else if(e.segments.length===t.length){if(!ao(e.segments,t)||!Yc(e.segments,t,i))return!1;for(let r in n.children)if(!e.children[r]||!Cb(e.children[r],n.children[r],i))return!1;return!0}else{let r=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!ao(e.segments,r)||!Yc(e.segments,r,i)||!e.children[Je]?!1:xb(e.children[Je],n,o,i)}}function Yc(e,n,t){return n.every((i,r)=>bb[t](e[r].parameters,i.parameters))}var Er=class{constructor(n=new _t([],{}),t={},i=null){this.root=n,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=ls(this.queryParams),this._queryParamMap}toString(){return KO.serialize(this)}},_t=class{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kc(this)}},so=class{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=ls(this.parameters),this._parameterMap}toString(){return Eb(this)}};function QO(e,n){return ao(e,n)&&e.every((t,i)=>Ii(t.parameters,n[i].parameters))}function ao(e,n){return e.length!==n.length?!1:e.every((t,i)=>t.path===n[i].path)}function YO(e,n){let t=[];return Object.entries(e.children).forEach(([i,r])=>{i===Je&&(t=t.concat(n(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==Je&&(t=t.concat(n(r,i)))}),t}var ba=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:()=>new da,providedIn:"root"})}}return e})(),da=class{parse(n){let t=new Qp(n);return new Er(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${oa(n.root,!0)}`,i=XO(n.queryParams),r=typeof n.fragment=="string"?`#${ZO(n.fragment)}`:"";return`${t}${i}${r}`}},KO=new da;function Kc(e){return e.segments.map(n=>Eb(n)).join("/")}function oa(e,n){if(!e.hasChildren())return Kc(e);if(n){let t=e.children[Je]?oa(e.children[Je],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==Je&&i.push(`${r}:${oa(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=YO(e,(i,r)=>r===Je?[oa(e.children[Je],!1)]:[`${r}:${oa(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[Je]!=null?`${Kc(e)}/${t[0]}`:`${Kc(e)}/(${t.join("//")})`}}function Db(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zc(e){return Db(e).replace(/%3B/gi,";")}function ZO(e){return encodeURI(e)}function zp(e){return Db(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zc(e){return decodeURIComponent(e)}function db(e){return Zc(e.replace(/\+/g,"%20"))}function Eb(e){return`${zp(e.path)}${JO(e.parameters)}`}function JO(e){return Object.entries(e).map(([n,t])=>`;${zp(n)}=${zp(t)}`).join("")}function XO(e){let n=Object.entries(e).map(([t,i])=>Array.isArray(i)?i.map(r=>`${zc(t)}=${zc(r)}`).join("&"):`${zc(t)}=${zc(i)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var eN=/^[^\/()?;#]+/;function Hp(e){let n=e.match(eN);return n?n[0]:""}var tN=/^[^\/()?;=#]+/;function nN(e){let n=e.match(tN);return n?n[0]:""}var iN=/^[^=?&#]+/;function rN(e){let n=e.match(iN);return n?n[0]:""}var oN=/^[^&#]+/;function sN(e){let n=e.match(oN);return n?n[0]:""}var Qp=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(i[Je]=new _t(n,t)),i}parseSegment(){let n=Hp(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new Be(4009,!1);return this.capture(n),new so(Zc(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=nN(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=Hp(this.remaining);r&&(i=r,this.capture(i))}n[Zc(t)]=Zc(i)}parseQueryParam(n){let t=rN(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=sN(this.remaining);s&&(i=s,this.capture(i))}let r=db(t),o=db(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Hp(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Be(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=Je);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Je]:new _t([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new Be(4011,!1)}};function Sb(e){return e.segments.length>0?new _t([],{[Je]:e}):e}function Ib(e){let n={};for(let[i,r]of Object.entries(e.children)){let o=Ib(r);if(i===Je&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let t=new _t(e.segments,n);return aN(t)}function aN(e){if(e.numberOfChildren===1&&e.children[Je]){let n=e.children[Je];return new _t(e.segments.concat(n.segments),n.children)}return e}function cs(e){return e instanceof Er}function lN(e,n,t=null,i=null){let r=Mb(e);return Tb(r,n,t,i)}function Mb(e){let n;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new _t(o.url,s);return o===e&&(n=a),a}let i=t(e.root),r=Sb(i);return n??r}function Tb(e,n,t,i){let r=e;for(;r.parent;)r=r.parent;if(n.length===0)return Up(r,r,r,t,i);let o=cN(n);if(o.toRoot())return Up(r,r,new _t([],{}),t,i);let s=uN(o,r,e),a=s.processChildren?la(s.segmentGroup,s.index,o.commands):Ob(s.segmentGroup,s.index,o.commands);return Up(r,s.segmentGroup,a,t,i)}function Jc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function fa(e){return typeof e=="object"&&e!=null&&e.outlets}function Up(e,n,t,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===n?s=t:s=Ab(e,n,t);let a=Sb(Ib(s));return new Er(a,o,r)}function Ab(e,n,t){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===n?i[r]=t:i[r]=Ab(o,n,t)}),new _t(e.segments,i)}var Xc=class{constructor(n,t,i){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=i,n&&i.length>0&&Jc(i[0]))throw new Be(4003,!1);let r=i.find(fa);if(r&&r!==yb(i))throw new Be(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cN(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Xc(!0,0,e);let n=0,t=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Xc(t,n,i)}var ss=class{constructor(n,t,i){this.segmentGroup=n,this.processChildren=t,this.index=i}};function uN(e,n,t){if(e.isAbsolute)return new ss(n,!0,0);if(!t)return new ss(n,!1,NaN);if(t.parent===null)return new ss(t,!0,0);let i=Jc(e.commands[0])?0:1,r=t.segments.length-1+i;return dN(t,r,e.numberOfDoubleDots)}function dN(e,n,t){let i=e,r=n,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Be(4005,!1);r=i.segments.length}return new ss(i,!1,r-o)}function fN(e){return fa(e[0])?e[0].outlets:{[Je]:e}}function Ob(e,n,t){if(e??=new _t([],{}),e.segments.length===0&&e.hasChildren())return la(e,n,t);let i=hN(e,n,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new _t(e.segments.slice(0,i.pathIndex),{});return o.children[Je]=new _t(e.segments.slice(i.pathIndex),e.children),la(o,0,r)}else return i.match&&r.length===0?new _t(e.segments,{}):i.match&&!e.hasChildren()?Yp(e,n,t):i.match?la(e,0,r):Yp(e,n,t)}function la(e,n,t){if(t.length===0)return new _t(e.segments,{});{let i=fN(t),r={};if(Object.keys(i).some(o=>o!==Je)&&e.children[Je]&&e.numberOfChildren===1&&e.children[Je].segments.length===0){let o=la(e.children[Je],n,t);return new _t(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Ob(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new _t(e.segments,r)}}function hN(e,n,t){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=t.length)return o;let s=e.segments[r],a=t[i];if(fa(a))break;let l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!hb(l,c,s))return o;i+=2}else{if(!hb(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Yp(e,n,t){let i=e.segments.slice(0,n),r=0;for(;r<t.length;){let o=t[r];if(fa(o)){let l=pN(o.outlets);return new _t(i,l)}if(r===0&&Jc(t[0])){let l=e.segments[n];i.push(new so(l.path,fb(t[0]))),r++;continue}let s=fa(o)?o.outlets[Je]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Jc(a)?(i.push(new so(s,fb(a))),r+=2):(i.push(new so(s,{})),r++)}return new _t(i,{})}function pN(e){let n={};return Object.entries(e).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[t]=Yp(new _t([],{}),0,i))}),n}function fb(e){let n={};return Object.entries(e).forEach(([t,i])=>n[t]=`${i}`),n}function hb(e,n,t){return e==t.path&&Ii(n,t.parameters)}var ca="imperative",sn=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(sn||{}),Zn=class{constructor(n,t){this.id=n,this.url=t}},us=class extends Zn{constructor(n,t,i="imperative",r=null){super(n,t),this.type=sn.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Un=class extends Zn{constructor(n,t,i){super(n,t),this.urlAfterRedirects=i,this.type=sn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Hn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Hn||{}),eu=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(eu||{}),Sr=class extends Zn{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=sn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ir=class extends Zn{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=sn.NavigationSkipped}},ha=class extends Zn{constructor(n,t,i,r){super(n,t),this.error=i,this.target=r,this.type=sn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},tu=class extends Zn{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=sn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kp=class extends Zn{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=sn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zp=class extends Zn{constructor(n,t,i,r,o){super(n,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=sn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Jp=class extends Zn{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=sn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xp=class extends Zn{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=sn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},e0=class{constructor(n){this.route=n,this.type=sn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},t0=class{constructor(n){this.route=n,this.type=sn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},n0=class{constructor(n){this.snapshot=n,this.type=sn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},i0=class{constructor(n){this.snapshot=n,this.type=sn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},r0=class{constructor(n){this.snapshot=n,this.type=sn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},o0=class{constructor(n){this.snapshot=n,this.type=sn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nu=class{constructor(n,t,i){this.routerEvent=n,this.position=t,this.anchor=i,this.type=sn.Scroll}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},pa=class{},ga=class{constructor(n){this.url=n}};var s0=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new wa,this.attachRef=null}},wa=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new s0,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),iu=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=a0(n,this._root);return t?t.children.map(i=>i.value):[]}firstChild(n){let t=a0(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=l0(n,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return l0(n,this._root).map(t=>t.value)}};function a0(e,n){if(e===n.value)return n;for(let t of n.children){let i=a0(e,t);if(i)return i}return null}function l0(e,n){if(e===n.value)return[n];for(let t of n.children){let i=l0(e,t);if(i.length)return i.unshift(n),i}return[]}var Vn=class{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function os(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var ru=class extends iu{constructor(n,t){super(n),this.snapshot=t,v0(this,n)}toString(){return this.snapshot.toString()}};function Nb(e){let n=gN(e),t=new yt([new so("",{})]),i=new yt({}),r=new yt({}),o=new yt({}),s=new yt(""),a=new di(t,i,o,s,r,Je,e,n.root);return a.snapshot=n.root,new ru(new Vn(a,[]),n)}function gN(e){let n={},t={},i={},r="",o=new ma([],n,i,r,t,Je,e,null,{});return new ou("",new Vn(o,[]))}var di=class{constructor(n,t,i,r,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Qe(c=>c[ya]))??Le(void 0),this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Qe(n=>ls(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Qe(n=>ls(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _0(e,n,t="emptyOnly"){let i,{routeConfig:r}=e;return n!==null&&(t==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:Te(Te({},n.params),e.params),data:Te(Te({},n.data),e.data),resolve:Te(Te(Te(Te({},e.data),n.data),r?.data),e._resolvedData)}:i={params:Te({},e.params),data:Te({},e.data),resolve:Te(Te({},e.data),e._resolvedData??{})},r&&kb(r)&&(i.resolve[ya]=r.title),i}var ma=class{get title(){return this.data?.[ya]}constructor(n,t,i,r,o,s,a,l,c){this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ls(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ls(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},ou=class extends iu{constructor(n,t){super(t),this.url=n,v0(this,t)}toString(){return Rb(this._root)}};function v0(e,n){n.value._routerState=e,n.children.forEach(t=>v0(e,t))}function Rb(e){let n=e.children.length>0?` { ${e.children.map(Rb).join(", ")} } `:"";return`${e.value}${n}`}function $p(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Ii(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Ii(n.params,t.params)||e.paramsSubject.next(t.params),GO(n.url,t.url)||e.urlSubject.next(t.url),Ii(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function c0(e,n){let t=Ii(e.params,n.params)&&QO(e.url,n.url),i=!e.parent!=!n.parent;return t&&!i&&(!e.parent||c0(e.parent,n.parent))}function kb(e){return typeof e.title=="string"||e.title===null}var Ca=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Je,this.activateEvents=new It,this.deactivateEvents=new It,this.attachEvents=new It,this.detachEvents=new It,this.parentContexts=Ee(wa),this.location=Ee(ui),this.changeDetector=Ee(xi),this.environmentInjector=Ee(fn),this.inputBinder=Ee(uu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Be(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Be(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Be(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Be(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new u0(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=dt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ci]})}}return e})(),u0=class e{__ngOutletInjector(n){return new e(this.route,this.childContexts,n)}constructor(n,t,i){this.route=n,this.childContexts=t,this.parent=i}get(n,t){return n===di?this.route:n===wa?this.childContexts:this.parent.get(n,t)}},uu=new $e(""),pb=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=Bo([i.queryParams,i.params,i.data]).pipe(un(([o,s,a],l)=>(a=Te(Te(Te({},o),s),a),l===0?Le(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=B1(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}}return e})();function mN(e,n,t){let i=_a(e,n._root,t?t._root:void 0);return new ru(i,n)}function _a(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=n.value;let r=_N(e,n,t);return new Vn(i,r)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>_a(e,a)),s}}let i=vN(n.value),r=n.children.map(o=>_a(e,o));return new Vn(i,r)}}function _N(e,n,t){return n.children.map(i=>{for(let r of t.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return _a(e,i,r);return _a(e,i)})}function vN(e){return new di(new yt(e.url),new yt(e.params),new yt(e.queryParams),new yt(e.fragment),new yt(e.data),e.outlet,e.component,e)}var Fb="ngNavigationCancelingError";function Pb(e,n){let{redirectTo:t,navigationBehaviorOptions:i}=cs(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=Bb(!1,Hn.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function Bb(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[Fb]=!0,t.cancellationCode=n,t}function yN(e){return Lb(e)&&cs(e.url)}function Lb(e){return!!e&&e[Fb]}var bN=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=ze({type:e,selectors:[["ng-component"]],standalone:!0,features:[ea],decls:1,vars:0,template:function(i,r){i&1&&Oe(0,"router-outlet")},dependencies:[Ca],encapsulation:2})}}return e})();function wN(e,n){return e.providers&&!e._injector&&(e._injector=Oc(e.providers,n,`Route: ${e.path}`)),e._injector??n}function y0(e){let n=e.children&&e.children.map(y0),t=n?st(Te({},e),{children:n}):Te({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Je&&(t.component=bN),t}function Mi(e){return e.outlet||Je}function CN(e,n){let t=e.filter(i=>Mi(i)===n);return t.push(...e.filter(i=>Mi(i)!==n)),t}function xa(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var xN=(e,n,t,i)=>Qe(r=>(new d0(n,r.targetRouterState,r.currentRouterState,t,i).activate(e),r)),d0=class{constructor(n,t,i,r,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,n),$p(this.futureState.root),this.activateChildRoutes(t,i,n)}deactivateChildRoutes(n,t,i){let r=os(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=os(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=os(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,t,i){let r=os(t);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new o0(o.value.snapshot))}),n.children.length&&this.forwardEvent(new i0(n.value.snapshot))}activateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if($p(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),$p(a.route.value),this.activateChildRoutes(n,null,s.children)}else{let a=xa(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,i)}},su=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},as=class{constructor(n,t){this.component=n,this.route=t}};function DN(e,n,t){let i=e._root,r=n?n._root:null;return sa(i,r,t,[i.value])}function EN(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function fs(e,n){let t=Symbol(),i=n.get(e,t);return i===t?typeof e=="function"&&!uv(e)?e:n.get(e):i}function sa(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=os(n);return e.children.forEach(s=>{SN(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ua(a,t.getContext(s),r)),r}function SN(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=IN(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new su(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?sa(e,n,a?a.children:null,i,r):sa(e,n,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new as(a.outlet.component,s))}else s&&ua(n,a,r),r.canActivateChecks.push(new su(i)),o.component?sa(e,null,a?a.children:null,i,r):sa(e,null,t,i,r);return r}function IN(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!ao(e.url,n.url);case"pathParamsOrQueryParamsChange":return!ao(e.url,n.url)||!Ii(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!c0(e,n)||!Ii(e.queryParams,n.queryParams);case"paramsChange":default:return!c0(e,n)}}function ua(e,n,t){let i=os(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?n?ua(s,n.children.getContext(o),t):ua(s,null,t):ua(s,n,t)}),r.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new as(n.outlet.component,r)):t.canDeactivateChecks.push(new as(null,r)):t.canDeactivateChecks.push(new as(null,r))}function Da(e){return typeof e=="function"}function MN(e){return typeof e=="boolean"}function TN(e){return e&&Da(e.canLoad)}function AN(e){return e&&Da(e.canActivate)}function ON(e){return e&&Da(e.canActivateChild)}function NN(e){return e&&Da(e.canDeactivate)}function RN(e){return e&&Da(e.canMatch)}function jb(e){return e instanceof Bi||e?.name==="EmptyError"}var Qc=Symbol("INITIAL_VALUE");function ds(){return un(e=>Bo(e.map(n=>n.pipe(On(1),Cl(Qc)))).pipe(Qe(n=>{for(let t of n)if(t!==!0){if(t===Qc)return Qc;if(t===!1||t instanceof Er)return t}return!0}),Yt(n=>n!==Qc),On(1)))}function kN(e,n){return Ft(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Le(st(Te({},t),{guardsResult:!0})):FN(s,i,r,e).pipe(Ft(a=>a&&MN(a)?PN(i,o,e,n):Le(a)),Qe(a=>st(Te({},t),{guardsResult:a})))})}function FN(e,n,t,i){return Nt(e).pipe(Ft(r=>HN(r.component,r.route,t,n,i)),gi(r=>r!==!0,!0))}function PN(e,n,t,i){return Nt(n).pipe($r(r=>dr(LN(r.route.parent,i),BN(r.route,i),VN(e,r.path,t),jN(e,r.route,t))),gi(r=>r!==!0,!0))}function BN(e,n){return e!==null&&n&&n(new r0(e)),Le(!0)}function LN(e,n){return e!==null&&n&&n(new n0(e)),Le(!0)}function jN(e,n,t){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return Le(!0);let r=i.map(o=>yl(()=>{let s=xa(n)??t,a=fs(o,s),l=AN(a)?a.canActivate(n,e):Hi(s,()=>a(n,e));return Mr(l).pipe(gi())}));return Le(r).pipe(ds())}function VN(e,n,t){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>EN(s)).filter(s=>s!==null).map(s=>yl(()=>{let a=s.guards.map(l=>{let c=xa(s.node)??t,u=fs(l,c),d=ON(u)?u.canActivateChild(i,e):Hi(c,()=>u(i,e));return Mr(d).pipe(gi())});return Le(a).pipe(ds())}));return Le(o).pipe(ds())}function HN(e,n,t,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return Le(!0);let s=o.map(a=>{let l=xa(n)??r,c=fs(a,l),u=NN(c)?c.canDeactivate(e,n,t,i):Hi(l,()=>c(e,n,t,i));return Mr(u).pipe(gi())});return Le(s).pipe(ds())}function UN(e,n,t,i){let r=n.canLoad;if(r===void 0||r.length===0)return Le(!0);let o=r.map(s=>{let a=fs(s,e),l=TN(a)?a.canLoad(n,t):Hi(e,()=>a(n,t));return Mr(l)});return Le(o).pipe(ds(),Vb(i))}function Vb(e){return Jd(Kt(n=>{if(cs(n))throw Pb(e,n)}),Qe(n=>n===!0))}function $N(e,n,t,i){let r=n.canMatch;if(!r||r.length===0)return Le(!0);let o=r.map(s=>{let a=fs(s,e),l=RN(a)?a.canMatch(n,t):Hi(e,()=>a(n,t));return Mr(l)});return Le(o).pipe(ds(),Vb(i))}var va=class{constructor(n){this.segmentGroup=n||null}},au=class extends Error{constructor(n){super(),this.urlTree=n}};function rs(e){return Fo(new va(e))}function GN(e){return Fo(new Be(4e3,!1))}function WN(e){return Fo(Bb(!1,Hn.GuardRejected))}var f0=class{constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Le(i);if(r.numberOfChildren>1||!r.children[Je])return GN(n.redirectTo);r=r.children[Je]}}applyRedirectCommands(n,t,i){let r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,i);if(t.startsWith("/"))throw new au(r);return r}applyRedirectCreateUrlTree(n,t,i,r){let o=this.createSegmentGroup(n,t.root,i,r);return new Er(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(n,t,i,r){let o=this.createSegments(n,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,i,r)}),new _t(o,s)}createSegments(n,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,t,i){let r=i[t.path.substring(1)];if(!r)throw new Be(4001,!1);return r}findOrReturn(n,t){let i=0;for(let r of t){if(r.path===n.path)return t.splice(i),r;i++}return n}},h0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qN(e,n,t,i,r){let o=b0(e,n,t);return o.matched?(i=wN(n,i),$N(i,n,t,r).pipe(Qe(s=>s===!0?o:Te({},h0)))):Le(o)}function b0(e,n,t){if(n.path==="**")return zN(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?Te({},h0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(n.matcher||$O)(t,e,n);if(!r)return Te({},h0);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?Te(Te({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function zN(e){return{matched:!0,parameters:e.length>0?yb(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function gb(e,n,t,i){return t.length>0&&KN(e,t,i)?{segmentGroup:new _t(n,YN(i,new _t(t,e.children))),slicedSegments:[]}:t.length===0&&ZN(e,t,i)?{segmentGroup:new _t(e.segments,QN(e,t,i,e.children)),slicedSegments:t}:{segmentGroup:new _t(e.segments,e.children),slicedSegments:t}}function QN(e,n,t,i){let r={};for(let o of t)if(du(e,n,o)&&!i[Mi(o)]){let s=new _t([],{});r[Mi(o)]=s}return Te(Te({},i),r)}function YN(e,n){let t={};t[Je]=n;for(let i of e)if(i.path===""&&Mi(i)!==Je){let r=new _t([],{});t[Mi(i)]=r}return t}function KN(e,n,t){return t.some(i=>du(e,n,i)&&Mi(i)!==Je)}function ZN(e,n,t){return t.some(i=>du(e,n,i))}function du(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function JN(e,n,t,i){return Mi(e)!==i&&(i===Je||!du(n,t,e))?!1:b0(n,e,t).matched}function XN(e,n,t){return n.length===0&&!e.children[t]}var p0=class{};function eR(e,n,t,i,r,o,s="emptyOnly"){return new g0(e,n,t,i,r,s,o).recognize()}var tR=31,g0=class{constructor(n,t,i,r,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new f0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new Be(4002,`'${n.segmentGroup}'`)}recognize(){let n=gb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Qe(t=>{let i=new ma([],Object.freeze({}),Object.freeze(Te({},this.urlTree.queryParams)),this.urlTree.fragment,{},Je,this.rootComponentType,null,{}),r=new Vn(i,t),o=new ou("",r),s=lN(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,Je).pipe(fr(i=>{if(i instanceof au)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof va?this.noMatchError(i):i}))}inheritParamsAndData(n,t){let i=n.value,r=_0(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(n,t,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,t,i):this.processSegment(n,t,i,i.segments,r,!0).pipe(Qe(o=>o instanceof Vn?[o]:[]))}processChildren(n,t,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return Nt(r).pipe($r(o=>{let s=i.children[o],a=CN(t,o);return this.processSegmentGroup(n,a,s,o)}),df((o,s)=>(o.push(...s),o)),hr(null),uf(),Ft(o=>{if(o===null)return rs(i);let s=Hb(o);return nR(s),Le(s)}))}processSegment(n,t,i,r,o,s){return Nt(t).pipe($r(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,i,r,o,s).pipe(fr(l=>{if(l instanceof va)return Le(null);throw l}))),gi(a=>!!a),fr(a=>{if(jb(a))return XN(i,r,o)?Le(new p0):rs(i);throw a}))}processSegmentAgainstRoute(n,t,i,r,o,s,a){return JN(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,t,i,o,s):rs(r):rs(r)}expandSegmentAgainstRouteUsingRedirect(n,t,i,r,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=b0(t,r,o);if(!a)return rs(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tR&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,d).pipe(Ft(f=>this.processSegment(n,i,t,f.concat(u),s,!1)))}matchSegmentAgainstRoute(n,t,i,r,o){let s=qN(t,i,r,n,this.urlSerializer);return i.path==="**"&&(t.children={}),s.pipe(un(a=>a.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(un(({routes:l})=>{let c=i._loadedInjector??n,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new ma(u,f,Object.freeze(Te({},this.urlTree.queryParams)),this.urlTree.fragment,rR(i),Mi(i),i.component??i._loadedComponent??null,i,oR(i)),{segmentGroup:g,slicedSegments:m}=gb(t,u,d,l);if(m.length===0&&g.hasChildren())return this.processChildren(c,l,g).pipe(Qe(y=>y===null?null:new Vn(h,y)));if(l.length===0&&m.length===0)return Le(new Vn(h,[]));let v=Mi(i)===o;return this.processSegment(c,l,g,m,v?Je:o,!0).pipe(Qe(y=>new Vn(h,y instanceof Vn?[y]:[])))}))):rs(t)))}getChildConfig(n,t,i){return t.children?Le({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?Le({routes:t._loadedRoutes,injector:t._loadedInjector}):UN(n,t,i,this.urlSerializer).pipe(Ft(r=>r?this.configLoader.loadChildren(n,t).pipe(Kt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):WN(t))):Le({routes:[],injector:n})}};function nR(e){e.sort((n,t)=>n.value.outlet===Je?-1:t.value.outlet===Je?1:n.value.outlet.localeCompare(t.value.outlet))}function iR(e){let n=e.value.routeConfig;return n&&n.path===""}function Hb(e){let n=[],t=new Set;for(let i of e){if(!iR(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):n.push(i)}for(let i of t){let r=Hb(i.children);n.push(new Vn(i.value,r))}return n.filter(i=>!t.has(i))}function rR(e){return e.data||{}}function oR(e){return e.resolve||{}}function sR(e,n,t,i,r,o){return Ft(s=>eR(e,n,t,i,s.extractedUrl,r,o).pipe(Qe(({state:a,tree:l})=>st(Te({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function aR(e,n){return Ft(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Le(t);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of Ub(l))s.add(c);let a=0;return Nt(s).pipe($r(l=>o.has(l)?lR(l,i,e,n):(l.data=_0(l,l.parent,e).resolve,Le(void 0))),Kt(()=>a++),jo(1),Ft(l=>a===s.size?Le(t):cn))})}function Ub(e){let n=e.children.map(t=>Ub(t)).flat();return[e,...n]}function lR(e,n,t,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!kb(r)&&(o[ya]=r.title),cR(o,e,n,i).pipe(Qe(s=>(e._resolvedData=s,e.data=_0(e,e.parent,t).resolve,null)))}function cR(e,n,t,i){let r=qp(e);if(r.length===0)return Le({});let o={};return Nt(r).pipe(Ft(s=>uR(e[s],n,t,i).pipe(gi(),Kt(a=>{o[s]=a}))),jo(1),lf(o),fr(s=>jb(s)?cn:Fo(s)))}function uR(e,n,t,i){let r=xa(n)??i,o=fs(e,r),s=o.resolve?o.resolve(n,t):Hi(r,()=>o(n,t));return Mr(s)}function Gp(e){return un(n=>{let t=e(n);return t?Nt(t).pipe(Qe(()=>n)):Le(n)})}var $b=(()=>{class e{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Je);return i}getResolvedTitleForRoute(t){return t.data[ya]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:()=>Ee(dR),providedIn:"root"})}}return e})(),dR=(()=>{class e extends $b{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||e)(Ue(lb))}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ea=new $e("",{providedIn:"root",factory:()=>({})}),lu=new $e(""),w0=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ee(Lc)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Le(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Mr(t.loadComponent()).pipe(Qe(Gb),Kt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Lo(()=>{this.componentLoaders.delete(t)})),r=new No(i,()=>new Tt).pipe(Oo());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Le({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=fR(i,this.compiler,t,this.onLoadEndListener).pipe(Lo(()=>{this.childrenLoaders.delete(i)})),s=new No(o,()=>new Tt).pipe(Oo());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function fR(e,n,t,i){return Mr(e.loadChildren()).pipe(Qe(Gb),Ft(r=>r instanceof Gs||Array.isArray(r)?Le(r):Nt(n.compileModuleAsync(r))),Qe(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(lu,[],{optional:!0,self:!0}).flat()),{routes:s.map(y0),injector:o}}))}function hR(e){return e&&typeof e=="object"&&"default"in e}function Gb(e){return hR(e)?e.default:e}var C0=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:()=>Ee(pR),providedIn:"root"})}}return e})(),pR=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Wb=new $e(""),qb=new $e("");function gR(e,n,t){let i=e.get(qb),r=e.get(rn);return e.get(pt).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),mR(e))),{onViewTransitionCreated:l}=i;return l&&Hi(e,()=>l({transition:a,from:n,to:t})),s})}function mR(e){return new Promise(n=>{Ac(n,{injector:e})})}var x0=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Tt,this.transitionAbortSubject=new Tt,this.configLoader=Ee(w0),this.environmentInjector=Ee(fn),this.urlSerializer=Ee(ba),this.rootContexts=Ee(wa),this.location=Ee(Ei),this.inputBindingEnabled=Ee(uu,{optional:!0})!==null,this.titleStrategy=Ee($b),this.options=Ee(Ea,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Ee(C0),this.createViewTransition=Ee(Wb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Le(void 0),this.rootComponentType=null;let t=r=>this.events.next(new e0(r)),i=r=>this.events.next(new t0(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(st(Te(Te({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new yt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ca,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Yt(o=>o.id!==0),Qe(o=>st(Te({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),un(o=>{let s=!1,a=!1;return Le(o).pipe(un(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Hn.SupersededByNewNavigation),cn;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?st(Te({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new Ir(l.id,this.urlSerializer.serialize(l.rawUrl),d,eu.IgnoredSameUrlNavigation)),l.resolve(null),cn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Le(l).pipe(un(d=>{let f=this.transitions?.getValue();return this.events.next(new us(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?cn:Promise.resolve(d)}),sR(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Kt(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=st(Te({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new tu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:g,extras:m}=l,v=new us(d,this.urlSerializer.serialize(f),h,g);this.events.next(v);let y=Nb(this.rootComponentType).snapshot;return this.currentTransition=o=st(Te({},l),{targetSnapshot:y,urlAfterRedirects:f,extras:st(Te({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,Le(o)}else{let d="";return this.events.next(new Ir(l.id,this.urlSerializer.serialize(l.extractedUrl),d,eu.IgnoredByUrlHandlingStrategy)),l.resolve(null),cn}}),Kt(l=>{let c=new Kp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Qe(l=>(this.currentTransition=o=st(Te({},l),{guards:DN(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),kN(this.environmentInjector,l=>this.events.next(l)),Kt(l=>{if(o.guardsResult=l.guardsResult,cs(l.guardsResult))throw Pb(this.urlSerializer,l.guardsResult);let c=new Zp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Yt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Hn.GuardRejected),!1)),Gp(l=>{if(l.guards.canActivateChecks.length)return Le(l).pipe(Kt(c=>{let u=new Jp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),un(c=>{let u=!1;return Le(c).pipe(aR(this.paramsInheritanceStrategy,this.environmentInjector),Kt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Hn.NoDataFromResolver)}}))}),Kt(c=>{let u=new Xp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Gp(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Kt(f=>{u.component=f}),Qe(()=>{})));for(let f of u.children)d.push(...c(f));return d};return Bo(c(l.targetSnapshot.root)).pipe(hr(null),On(1))}),Gp(()=>this.afterPreactivation()),un(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?Nt(u).pipe(Qe(()=>o)):Le(o)}),Qe(l=>{let c=mN(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=st(Te({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),Kt(()=>{this.events.next(new pa)}),xN(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),On(1),Kt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Un(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),mn(this.transitionAbortSubject.pipe(Kt(l=>{throw l}))),Lo(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Hn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),fr(l=>{if(a=!0,Lb(l))this.events.next(new Sr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),yN(l)?this.events.next(new ga(l.url)):o.resolve(!1);else{this.events.next(new ha(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(c)}}return cn}))}))}cancelNavigationTransition(t,i,r){let o=new Sr(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function _R(e){return e!==ca}var vR=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:()=>Ee(yR),providedIn:"root"})}}return e})(),m0=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},yR=(()=>{class e extends m0{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=At(e)))(r||e)}})()}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),zb=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:()=>Ee(bR),providedIn:"root"})}}return e})(),bR=(()=>{class e extends zb{constructor(){super(...arguments),this.location=Ee(Ei),this.urlSerializer=Ee(ba),this.options=Ee(Ea,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Ee(C0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Er,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Nb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof us)this.stateMemento=this.createStateMemento();else if(t instanceof Ir)this.rawUrlTree=i.initialUrl;else if(t instanceof tu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof pa?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Sr&&(t.code===Hn.GuardRejected||t.code===Hn.NoDataFromResolver)?this.restoreHistory(i):t instanceof ha?this.restoreHistory(i,!0):t instanceof Un&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=Te(Te({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=Te(Te({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=At(e)))(r||e)}})()}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),aa=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(aa||{});function Qb(e,n){e.events.pipe(Yt(t=>t instanceof Un||t instanceof Sr||t instanceof ha||t instanceof Ir),Qe(t=>t instanceof Un||t instanceof Ir?aa.COMPLETE:(t instanceof Sr?t.code===Hn.Redirect||t.code===Hn.SupersededByNewNavigation:!1)?aa.REDIRECTING:aa.FAILED),Yt(t=>t!==aa.REDIRECTING),On(1)).subscribe(()=>{n()})}function wR(e){throw e}var CR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Ee(kc),this.stateManager=Ee(zb),this.options=Ee(Ea,{optional:!0})||{},this.pendingTasks=Ee(Nc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Ee(x0),this.urlSerializer=Ee(ba),this.location=Ee(Ei),this.urlHandlingStrategy=Ee(C0),this._events=new Tt,this.errorHandler=this.options.errorHandler||wR,this.navigated=!1,this.routeReuseStrategy=Ee(vR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Ee(lu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Ee(uu,{optional:!0}),this.eventsSubscription=new $t,this.isNgZoneEnabled=Ee(pt)instanceof pt&&pt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Sr&&i.code!==Hn.Redirect&&i.code!==Hn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Un)this.navigated=!0;else if(i instanceof ga){let s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||_R(r.source)};this.scheduleNavigation(s,ca,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}ER(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ca,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=Te({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(y0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,u=null;switch(a){case"merge":u=Te(Te({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=r?r.snapshot:this.routerState.snapshot.root;d=Mb(f)}catch{(typeof t[0]!="string"||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return Tb(d,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=cs(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,ca,null,i)}navigate(t,i={skipLocationChange:!1}){return DR(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=Te({},CR):i===!1?r=Te({},xR):r=i,cs(t))return ub(this.currentUrlTree,t,r);let o=this.parseUrl(t);return ub(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f});let u=this.pendingTasks.add();return Qb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function DR(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new Be(4008,!1)}function ER(e){return!(e instanceof pa)&&!(e instanceof ga)}var Ti=(()=>{class e{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Tt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Un&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t!=null?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:Ny(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||e)(Me(qt),Me(di),vc("tabindex"),Me(Yn),Me(Zt),Me(Qi))}}static{this.\u0275dir=dt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&ke("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&br("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[tn.HasDecoratorInputTransform,"preserveFragment","preserveFragment",xr],skipLocationChange:[tn.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",xr],replaceUrl:[tn.HasDecoratorInputTransform,"replaceUrl","replaceUrl",xr],routerLink:"routerLink"},standalone:!0,features:[dp,Ci]})}}return e})(),Yb=(()=>{class e{get isActive(){return this._isActive}constructor(t,i,r,o,s){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new It,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Un&&this.update()})}ngAfterContentInit(){Le(this.links.changes,Le(null)).pipe(ur()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Nt(t).pipe(ur()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=SR(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?t.isActive(o,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(i){return new(i||e)(Me(qt),Me(Zt),Me(Yn),Me(xi),Me(Ti,8))}}static{this.\u0275dir=dt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&gp(o,Ti,5),i&2){let s;vn(s=yn())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Ci]})}}return e})();function SR(e){return!!e.paths}var cu=class{};var IR=(()=>{class e{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Yt(t=>t instanceof Un),$r(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Oc(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Nt(r).pipe(ur())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=Le(null);let o=r.pipe(Ft(s=>s===null?Le(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return Nt([o,s]).pipe(ur())}else return o})}static{this.\u0275fac=function(i){return new(i||e)(Ue(qt),Ue(Lc),Ue(fn),Ue(cu),Ue(w0))}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Kb=new $e(""),MR=(()=>{class e{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=Ee(fn),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof us?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Un?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ir&&t.code===eu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof nu&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>ct(this,null,function*(){yield new Promise(r=>{setTimeout(()=>{r()}),Ac(()=>{r()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new nu(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){qy()}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}}return e})();function TR(e){return e.routerState.root}function Sa(e,n){return{\u0275kind:e,\u0275providers:n}}function AR(){let e=Ee(In);return n=>{let t=e.get(Cr);if(n!==t.components[0])return;let i=e.get(qt),r=e.get(Zb);e.get(D0)===1&&i.initialNavigation(),e.get(Jb,null,et.Optional)?.setUpPreloading(),e.get(Kb,null,et.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Zb=new $e("",{factory:()=>new Tt}),D0=new $e("",{providedIn:"root",factory:()=>1});function OR(){return Sa(2,[{provide:D0,useValue:0},{provide:Bc,multi:!0,deps:[In],useFactory:n=>{let t=n.get(W1,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=n.get(qt),o=n.get(Zb);Qb(r,()=>{i(!0)}),n.get(x0).afterPreactivation=()=>(i(!0),o.closed?Le(void 0):o),r.initialNavigation()}))}}])}function NR(){return Sa(3,[{provide:Bc,multi:!0,useFactory:()=>{let n=Ee(qt);return()=>{n.setUpLocationChangeListener()}}},{provide:D0,useValue:2}])}var Jb=new $e("");function RR(e){return Sa(0,[{provide:Jb,useExisting:IR},{provide:cu,useExisting:e}])}function kR(){return Sa(8,[pb,{provide:uu,useExisting:pb}])}function FR(e){let n=[{provide:Wb,useValue:gR},{provide:qb,useValue:Te({skipNextTransition:!!e?.skipInitialTransition},e)}];return Sa(9,n)}var mb=new $e("ROUTER_FORROOT_GUARD"),PR=[Ei,{provide:ba,useClass:da},qt,wa,{provide:di,useFactory:TR,deps:[qt]},w0,[]],E0=(()=>{class e{constructor(t){}static forRoot(t,i){return{ngModule:e,providers:[PR,[],{provide:lu,multi:!0,useValue:t},{provide:mb,useFactory:VR,deps:[[qt,new Qs,new ac]]},{provide:Ea,useValue:i||{}},i?.useHash?LR():jR(),BR(),i?.preloadingStrategy?RR(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?HR(i):[],i?.bindToComponentInputs?kR().\u0275providers:[],i?.enableViewTransitions?FR().\u0275providers:[],UR()]}}static forChild(t){return{ngModule:e,providers:[{provide:lu,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||e)(Ue(mb,8))}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})();function BR(){return{provide:Kb,useFactory:()=>{let e=Ee(J1),n=Ee(pt),t=Ee(Ea),i=Ee(x0),r=Ee(ba);return t.scrollOffset&&e.setOffset(t.scrollOffset),new MR(r,i,e,n,t)}}}function LR(){return{provide:Qi,useClass:z1}}function jR(){return{provide:Qi,useClass:Ap}}function VR(e){return"guarded"}function HR(e){return[e.initialNavigation==="disabled"?NR().\u0275providers:[],e.initialNavigation==="enabledBlocking"?OR().\u0275providers:[]]}var _b=new $e("");function UR(){return[{provide:_b,useFactory:AR},{provide:vp,multi:!0,useExisting:_b}]}var $n={production:!0,encryptionKey:"hlkilughiuoiguuyhliugy7giluhuy8fvkuihy89g78fg8ol8hy87",mqttUrl:"wss://t5c7dc17.ala.us-east-1.emqxsl.com:8084/mqtt",guestUser:{username:"guest_user",password:"2cD55rEB8iysdGZ"},virtualDevices:[{friendly_name:"Light",ieee:"0vLight",controls:[{access:7,description:"On/off state of this light",label:"State",name:"state",property:"state",type:"binary",value_off:"OFF",value_on:"ON",value_toggle:"TOGGLE"},{access:7,description:"Brightness of this light",label:"Brightness",name:"brightness",property:"brightness",type:"numeric",value_max:254,value_min:0},{access:7,description:"Color temperature of this light",label:"Color temp",name:"color_temp",presets:[{description:"Coolest temperature supported",name:"coolest",value:153},{description:"Cool temperature (250 mireds / 4000 Kelvin)",name:"cool",value:250},{description:"Neutral temperature (370 mireds / 2700 Kelvin)",name:"neutral",value:370},{description:"Warmest temperature supported",name:"warmest",value:370}],property:"color_temp",type:"numeric",unit:"mired",value_max:370,value_min:153},{access:7,description:"Color temperature after cold power on of this light",label:"Color temp startup",name:"color_temp_startup",presets:[{description:"Coolest temperature supported",name:"coolest",value:153},{description:"Cool temperature (250 mireds / 4000 Kelvin)",name:"cool",value:250},{description:"Neutral temperature (370 mireds / 2700 Kelvin)",name:"neutral",value:370},{description:"Warmest temperature supported",name:"warmest",value:370},{description:"Restore previous color_temp on cold power on",name:"previous",value:65535}],property:"color_temp_startup",type:"numeric",unit:"mired",value_max:370,value_min:153}],type:"light",exposes:[{features:[{access:7,description:"On/off state of this light",label:"State",name:"state",property:"state",type:"binary",value_off:"OFF",value_on:"ON",value_toggle:"TOGGLE"},{access:7,description:"Brightness of this light",label:"Brightness",name:"brightness",property:"brightness",type:"numeric",value_max:254,value_min:0},{access:7,description:"Color temperature of this light",label:"Color temp",name:"color_temp",presets:[{description:"Coolest temperature supported",name:"coolest",value:153},{description:"Cool temperature (250 mireds / 4000 Kelvin)",name:"cool",value:250},{description:"Neutral temperature (370 mireds / 2700 Kelvin)",name:"neutral",value:370},{description:"Warmest temperature supported",name:"warmest",value:370}],property:"color_temp",type:"numeric",unit:"mired",value_max:370,value_min:153},{access:7,description:"Color temperature after cold power on of this light",label:"Color temp startup",name:"color_temp_startup",presets:[{description:"Coolest temperature supported",name:"coolest",value:153},{description:"Cool temperature (250 mireds / 4000 Kelvin)",name:"cool",value:250},{description:"Neutral temperature (370 mireds / 2700 Kelvin)",name:"neutral",value:370},{description:"Warmest temperature supported",name:"warmest",value:370},{description:"Restore previous color_temp on cold power on",name:"previous",value:65535}],property:"color_temp_startup",type:"numeric",unit:"mired",value_max:370,value_min:153}],type:"light"},{access:2,description:"Triggers an effect on the light (e.g. make light blink for a few seconds)",label:"Effect",name:"effect",property:"effect",type:"enum",values:["blink","breathe","okay","channel_change","finish_effect","stop_effect"]},{access:7,category:"config",description:"Controls the behavior when the device is powered on after power loss",label:"Power-on behavior",name:"power_on_behavior",property:"power_on_behavior",type:"enum",values:["off","on","toggle","previous"]},{access:1,category:"diagnostic",description:"Link quality (signal strength)",label:"Linkquality",name:"linkquality",property:"linkquality",type:"numeric",unit:"lqi",value_max:255,value_min:0}]},{friendly_name:"Switch",ieee:"0vSwitch",controls:[{access:7,description:"On/off state of the switch",label:"State",name:"state",property:"state",type:"binary",value_off:"OFF",value_on:"ON",value_toggle:"TOGGLE"}],type:"switch",exposes:[{features:[{access:7,description:"On/off state of the switch",label:"State",name:"state",property:"state",type:"binary",value_off:"OFF",value_on:"ON",value_toggle:"TOGGLE"}],type:"switch"},{access:7,category:"config",description:"Controls the behavior when the device is powered on after power loss",label:"Power-on behavior",name:"power_on_behavior",property:"power_on_behavior",type:"enum",values:["off","on","toggle","previous"]},{access:2,category:"config",description:"Initiate device identification",label:"Identify",name:"identify",property:"identify",type:"enum",values:["identify"]},{access:1,category:"diagnostic",description:"Link quality (signal strength)",label:"Linkquality",name:"linkquality",property:"linkquality",type:"numeric",unit:"lqi",value_max:255,value_min:0}]},{friendly_name:"Contact",ieee:"0vContact",controls:[{access:1,description:"Indicates if the contact is closed (= true) or open (= false)",label:"Contact",name:"contact",property:"contact",type:"binary",value_off:!0,value_on:!1},{access:1,description:"Indicates whether the device is tampered",label:"Tamper",name:"tamper",property:"tamper",type:"binary",value_off:!1,value_on:!0},{access:1,description:"Measured temperature value",label:"Temperature",name:"temperature",property:"temperature",type:"numeric",unit:"\xB0C"}],type:"binary",exposes:[{access:1,category:"diagnostic",description:"Indicates if the battery of this device is almost empty",label:"Battery low",name:"battery_low",property:"battery_low",type:"binary",value_off:!1,value_on:!0},{access:1,category:"diagnostic",description:"Remaining battery in %, can take up to 24 hours before reported",label:"Battery",name:"battery",property:"battery",type:"numeric",unit:"%",value_max:100,value_min:0},{access:1,category:"diagnostic",description:"Link quality (signal strength)",label:"Linkquality",name:"linkquality",property:"linkquality",type:"numeric",unit:"lqi",value_max:255,value_min:0}]},{friendly_name:"Cover",ieee:"0vCover",controls:[{access:3,label:"State",name:"state",property:"state",type:"enum",values:["OPEN","CLOSE","STOP"]},{access:7,description:"Position of this cover",label:"Position",name:"position",property:"position",type:"numeric",unit:"%",value_max:100,value_min:0}],type:"cover",exposes:[{features:[{access:3,label:"State",name:"state",property:"state",type:"enum",values:["OPEN","CLOSE","STOP"]},{access:7,description:"Position of this cover",label:"Position",name:"position",property:"position",type:"numeric",unit:"%",value_max:100,value_min:0}],type:"cover"},{access:2,category:"config",description:"Initiate device identification",label:"Identify",name:"identify",property:"identify",type:"enum",values:["identify"]},{access:5,category:"diagnostic",description:"Remaining battery in %",label:"Battery",name:"battery",property:"battery",type:"numeric",unit:"%",value_max:100,value_min:0},{access:1,category:"diagnostic",description:"Link quality (signal strength)",label:"Linkquality",name:"linkquality",property:"linkquality",type:"numeric",unit:"lqi",value_max:255,value_min:0}]},{friendly_name:"Color",ieee:"0vColorLight",controls:[{access:7,description:"On/off state of this light",label:"State",name:"state",property:"state",type:"binary",value_off:"OFF",value_on:"ON",value_toggle:"TOGGLE"},{access:7,description:"Brightness of this light",label:"Brightness",name:"brightness",property:"brightness",type:"numeric",value_max:254,value_min:0},{type:"composite",name:"color_xy",label:"Color xy",access:2,property:"color",features:[{type:"numeric",name:"x",label:"X",property:"x",access:7},{type:"numeric",name:"y",label:"Y",property:"y",access:7}]},{type:"composite",name:"color_hs",label:"Color HS",access:2,property:"color",features:[{type:"numeric",name:"hue",label:"Hue",property:"hue",access:7},{type:"numeric",name:"saturation",label:"Saturation",property:"saturation",access:7}]}],type:"light"},{friendly_name:"Text",ieee:"0vText",controls:[{access:7,label:"Text",name:"text",property:"text",type:"text"}]}]};var Xg=Object.defineProperty,$R=Object.getOwnPropertyDescriptor,GR=Object.getOwnPropertyNames,WR=Object.prototype.hasOwnProperty,Mn=(e,n)=>()=>(e&&(n=e(e=0)),n),we=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),gs=(e,n)=>{for(var t in n)Xg(e,t,{get:n[t],enumerable:!0})},qR=(e,n,t,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of GR(n))!WR.call(e,r)&&r!==t&&Xg(e,r,{get:()=>n[r],enumerable:!(i=$R(n,r))||i.enumerable});return e},St=e=>qR(Xg({},"__esModule",{value:!0}),e),me=Mn(()=>{}),vt={};gs(vt,{_debugEnd:()=>gg,_debugProcess:()=>pg,_events:()=>Ag,_eventsCount:()=>Og,_exiting:()=>eg,_fatalExceptions:()=>dg,_getActiveHandles:()=>kw,_getActiveRequests:()=>Rw,_kill:()=>ig,_linkedBinding:()=>Ow,_maxListeners:()=>Tg,_preload_modules:()=>Ig,_rawDebug:()=>Z0,_startProfilerIdleNotifier:()=>mg,_stopProfilerIdleNotifier:()=>_g,_tickCallback:()=>hg,abort:()=>wg,addListener:()=>Ng,allowedNodeEnvironmentFlags:()=>cg,arch:()=>L0,argv:()=>H0,argv0:()=>Sg,assert:()=>Fw,binding:()=>q0,chdir:()=>Y0,config:()=>tg,cpuUsage:()=>Ma,cwd:()=>Q0,debugPort:()=>Eg,default:()=>tm,dlopen:()=>Nw,domain:()=>X0,emit:()=>Bg,emitWarning:()=>W0,env:()=>V0,execArgv:()=>U0,execPath:()=>Dg,exit:()=>ag,features:()=>ug,hasUncaughtExceptionCaptureCallback:()=>Pw,hrtime:()=>_u,kill:()=>sg,listeners:()=>Lw,memoryUsage:()=>og,moduleLoadList:()=>J0,nextTick:()=>Tw,off:()=>kg,on:()=>Ki,once:()=>Rg,openStdin:()=>lg,pid:()=>Cg,platform:()=>j0,ppid:()=>xg,prependListener:()=>Lg,prependOnceListener:()=>jg,reallyExit:()=>ng,release:()=>K0,removeAllListeners:()=>Pg,removeListener:()=>Fg,resourceUsage:()=>rg,setSourceMapsEnabled:()=>Mg,setUncaughtExceptionCaptureCallback:()=>fg,stderr:()=>yg,stdin:()=>bg,stdout:()=>vg,title:()=>B0,umask:()=>z0,uptime:()=>Bw,version:()=>$0,versions:()=>G0});function em(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function zR(){!go||!ho||(go=!1,ho.length?Oi=ho.concat(Oi):Oa=-1,Oi.length&&Mw())}function Mw(){if(!go){var e=setTimeout(zR,0);go=!0;for(var n=Oi.length;n;){for(ho=Oi,Oi=[];++Oa<n;)ho&&ho[Oa].run();Oa=-1,n=Oi.length}ho=null,go=!1,clearTimeout(e)}}function Tw(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];Oi.push(new Aw(e,n)),Oi.length===1&&!go&&setTimeout(Mw,0)}function Aw(e,n){this.fun=e,this.array=n}function wn(){}function Ow(e){em("_linkedBinding")}function Nw(e){em("dlopen")}function Rw(){return[]}function kw(){return[]}function Fw(e,n){if(!e)throw new Error(n||"assertion error")}function Pw(){return!1}function Bw(){return er.now()/1e3}function _u(e){var n=Math.floor((Date.now()-er.now())*.001),t=er.now()*.001,i=Math.floor(t)+n,r=Math.floor(t%1*1e9);return e&&(i=i-e[0],r=r-e[1],r<0&&(i--,r+=vu)),[i,r]}function Ki(){return tm}function Lw(e){return[]}var Oi,go,ho,Oa,B0,L0,j0,V0,H0,U0,$0,G0,W0,q0,z0,Q0,Y0,K0,Z0,J0,X0,eg,tg,ng,ig,Ma,rg,og,sg,ag,lg,cg,ug,dg,fg,hg,pg,gg,mg,_g,vg,yg,bg,wg,Cg,xg,Dg,Eg,Sg,Ig,Mg,er,S0,vu,Tg,Ag,Og,Ng,Rg,kg,Fg,Pg,Bg,Lg,jg,tm,QR=Mn(()=>{me(),ve(),_e(),Oi=[],go=!1,Oa=-1,Aw.prototype.run=function(){this.fun.apply(null,this.array)},B0="browser",L0="x64",j0="browser",V0={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},H0=["/usr/bin/node"],U0=[],$0="v16.8.0",G0={},W0=function(e,n){console.warn((n?n+": ":"")+e)},q0=function(e){em("binding")},z0=function(e){return 0},Q0=function(){return"/"},Y0=function(e){},K0={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Z0=wn,J0=[],X0={},eg=!1,tg={},ng=wn,ig=wn,Ma=function(){return{}},rg=Ma,og=Ma,sg=wn,ag=wn,lg=wn,cg={},ug={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},dg=wn,fg=wn,hg=wn,pg=wn,gg=wn,mg=wn,_g=wn,vg=void 0,yg=void 0,bg=void 0,wg=wn,Cg=2,xg=1,Dg="/bin/usr/node",Eg=9229,Sg="node",Ig=[],Mg=wn,er={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},er.now===void 0&&(S0=Date.now(),er.timing&&er.timing.navigationStart&&(S0=er.timing.navigationStart),er.now=()=>Date.now()-S0),vu=1e9,_u.bigint=function(e){var n=_u(e);return typeof BigInt>"u"?n[0]*vu+n[1]:BigInt(n[0]*vu)+BigInt(n[1])},Tg=10,Ag={},Og=0,Ng=Ki,Rg=Ki,kg=Ki,Fg=Ki,Pg=Ki,Bg=wn,Lg=Ki,jg=Ki,tm={version:$0,versions:G0,arch:L0,platform:j0,release:K0,_rawDebug:Z0,moduleLoadList:J0,binding:q0,_linkedBinding:Ow,_events:Ag,_eventsCount:Og,_maxListeners:Tg,on:Ki,addListener:Ng,once:Rg,off:kg,removeListener:Fg,removeAllListeners:Pg,emit:Bg,prependListener:Lg,prependOnceListener:jg,listeners:Lw,domain:X0,_exiting:eg,config:tg,dlopen:Nw,uptime:Bw,_getActiveRequests:Rw,_getActiveHandles:kw,reallyExit:ng,_kill:ig,cpuUsage:Ma,resourceUsage:rg,memoryUsage:og,kill:sg,exit:ag,openStdin:lg,allowedNodeEnvironmentFlags:cg,assert:Fw,features:ug,_fatalExceptions:dg,setUncaughtExceptionCaptureCallback:fg,hasUncaughtExceptionCaptureCallback:Pw,emitWarning:W0,nextTick:Tw,_tickCallback:hg,_debugProcess:pg,_debugEnd:gg,_startProfilerIdleNotifier:mg,_stopProfilerIdleNotifier:_g,stdout:vg,stdin:bg,stderr:yg,abort:wg,umask:z0,chdir:Y0,cwd:Q0,env:V0,title:B0,argv:H0,execArgv:U0,pid:Cg,ppid:xg,execPath:Dg,debugPort:Eg,hrtime:_u,argv0:Sg,_preload_modules:Ig,setSourceMapsEnabled:Mg}}),_e=Mn(()=>{QR()}),an={};gs(an,{Buffer:()=>xu,INSPECT_MAX_BYTES:()=>jw,default:()=>Zi,kMaxLength:()=>Vw});function YR(){if(Vg)return ps;Vg=!0,ps.byteLength=a,ps.toByteArray=c,ps.fromByteArray=f;for(var e=[],n=[],t=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,o=i.length;r<o;++r)e[r]=i[r],n[i.charCodeAt(r)]=r;n[45]=62,n[95]=63;function s(h){var g=h.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=h.indexOf("=");m===-1&&(m=g);var v=m===g?0:4-m%4;return[m,v]}function a(h){var g=s(h),m=g[0],v=g[1];return(m+v)*3/4-v}function l(h,g,m){return(g+m)*3/4-m}function c(h){var g,m=s(h),v=m[0],y=m[1],p=new t(l(h,v,y)),b=0,x=y>0?v-4:v,D;for(D=0;D<x;D+=4)g=n[h.charCodeAt(D)]<<18|n[h.charCodeAt(D+1)]<<12|n[h.charCodeAt(D+2)]<<6|n[h.charCodeAt(D+3)],p[b++]=g>>16&255,p[b++]=g>>8&255,p[b++]=g&255;return y===2&&(g=n[h.charCodeAt(D)]<<2|n[h.charCodeAt(D+1)]>>4,p[b++]=g&255),y===1&&(g=n[h.charCodeAt(D)]<<10|n[h.charCodeAt(D+1)]<<4|n[h.charCodeAt(D+2)]>>2,p[b++]=g>>8&255,p[b++]=g&255),p}function u(h){return e[h>>18&63]+e[h>>12&63]+e[h>>6&63]+e[h&63]}function d(h,g,m){for(var v,y=[],p=g;p<m;p+=3)v=(h[p]<<16&16711680)+(h[p+1]<<8&65280)+(h[p+2]&255),y.push(u(v));return y.join("")}function f(h){for(var g,m=h.length,v=m%3,y=[],p=16383,b=0,x=m-v;b<x;b+=p)y.push(d(h,b,b+p>x?x:b+p));return v===1?(g=h[m-1],y.push(e[g>>2]+e[g<<4&63]+"==")):v===2&&(g=(h[m-2]<<8)+h[m-1],y.push(e[g>>10]+e[g>>4&63]+e[g<<2&63]+"=")),y.join("")}return ps}function KR(){return Hg?Ta:(Hg=!0,Ta.read=function(e,n,t,i,r){var o,s,a=r*8-i-1,l=(1<<a)-1,c=l>>1,u=-7,d=t?r-1:0,f=t?-1:1,h=e[n+d];for(d+=f,o=h&(1<<-u)-1,h>>=-u,u+=a;u>0;o=o*256+e[n+d],d+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=s*256+e[n+d],d+=f,u-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(h?-1:1)*(1/0);s=s+Math.pow(2,i),o=o-c}return(h?-1:1)*s*Math.pow(2,o-i)},Ta.write=function(e,n,t,i,r,o){var s,a,l,c=o*8-r-1,u=(1<<c)-1,d=u>>1,f=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,g=i?1:-1,m=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(a=isNaN(n)?1:0,s=u):(s=Math.floor(Math.log(n)/Math.LN2),n*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?n+=f/l:n+=f*Math.pow(2,1-d),n*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(n*l-1)*Math.pow(2,r),s=s+d):(a=n*Math.pow(2,d-1)*Math.pow(2,r),s=0));r>=8;e[t+h]=a&255,h+=g,a/=256,r-=8);for(s=s<<r|a,c+=r;c>0;e[t+h]=s&255,h+=g,s/=256,c-=8);e[t+h-g]|=m*128},Ta)}function ZR(){if(Ug)return Tr;Ug=!0;let e=YR(),n=KR(),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Tr.Buffer=s,Tr.SlowBuffer=y,Tr.INSPECT_MAX_BYTES=50;let i=2147483647;Tr.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=r(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function r(){try{let _=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(_,w),_.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(_){if(_>i)throw new RangeError('The value "'+_+'" is invalid for option "size"');let w=new Uint8Array(_);return Object.setPrototypeOf(w,s.prototype),w}function s(_,w,E){if(typeof _=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(_)}return a(_,w,E)}s.poolSize=8192;function a(_,w,E){if(typeof _=="string")return d(_,w);if(ArrayBuffer.isView(_))return h(_);if(_==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _);if(U(_,ArrayBuffer)||_&&U(_.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(U(_,SharedArrayBuffer)||_&&U(_.buffer,SharedArrayBuffer)))return g(_,w,E);if(typeof _=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let H=_.valueOf&&_.valueOf();if(H!=null&&H!==_)return s.from(H,w,E);let G=m(_);if(G)return G;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof _[Symbol.toPrimitive]=="function")return s.from(_[Symbol.toPrimitive]("string"),w,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _)}s.from=function(_,w,E){return a(_,w,E)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(_){if(typeof _!="number")throw new TypeError('"size" argument must be of type number');if(_<0)throw new RangeError('The value "'+_+'" is invalid for option "size"')}function c(_,w,E){return l(_),_<=0?o(_):w!==void 0?typeof E=="string"?o(_).fill(w,E):o(_).fill(w):o(_)}s.alloc=function(_,w,E){return c(_,w,E)};function u(_){return l(_),o(_<0?0:v(_)|0)}s.allocUnsafe=function(_){return u(_)},s.allocUnsafeSlow=function(_){return u(_)};function d(_,w){if((typeof w!="string"||w==="")&&(w="utf8"),!s.isEncoding(w))throw new TypeError("Unknown encoding: "+w);let E=p(_,w)|0,H=o(E),G=H.write(_,w);return G!==E&&(H=H.slice(0,G)),H}function f(_){let w=_.length<0?0:v(_.length)|0,E=o(w);for(let H=0;H<w;H+=1)E[H]=_[H]&255;return E}function h(_){if(U(_,Uint8Array)){let w=new Uint8Array(_);return g(w.buffer,w.byteOffset,w.byteLength)}return f(_)}function g(_,w,E){if(w<0||_.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(_.byteLength<w+(E||0))throw new RangeError('"length" is outside of buffer bounds');let H;return w===void 0&&E===void 0?H=new Uint8Array(_):E===void 0?H=new Uint8Array(_,w):H=new Uint8Array(_,w,E),Object.setPrototypeOf(H,s.prototype),H}function m(_){if(s.isBuffer(_)){let w=v(_.length)|0,E=o(w);return E.length===0||_.copy(E,0,0,w),E}if(_.length!==void 0)return typeof _.length!="number"||le(_.length)?o(0):f(_);if(_.type==="Buffer"&&Array.isArray(_.data))return f(_.data)}function v(_){if(_>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return _|0}function y(_){return+_!=_&&(_=0),s.alloc(+_)}s.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==s.prototype},s.compare=function(_,w){if(U(_,Uint8Array)&&(_=s.from(_,_.offset,_.byteLength)),U(w,Uint8Array)&&(w=s.from(w,w.offset,w.byteLength)),!s.isBuffer(_)||!s.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===w)return 0;let E=_.length,H=w.length;for(let G=0,re=Math.min(E,H);G<re;++G)if(_[G]!==w[G]){E=_[G],H=w[G];break}return E<H?-1:H<E?1:0},s.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(_,w){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return s.alloc(0);let E;if(w===void 0)for(w=0,E=0;E<_.length;++E)w+=_[E].length;let H=s.allocUnsafe(w),G=0;for(E=0;E<_.length;++E){let re=_[E];if(U(re,Uint8Array))G+re.length>H.length?(s.isBuffer(re)||(re=s.from(re)),re.copy(H,G)):Uint8Array.prototype.set.call(H,re,G);else if(s.isBuffer(re))re.copy(H,G);else throw new TypeError('"list" argument must be an Array of Buffers');G+=re.length}return H};function p(_,w){if(s.isBuffer(_))return _.length;if(ArrayBuffer.isView(_)||U(_,ArrayBuffer))return _.byteLength;if(typeof _!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof _);let E=_.length,H=arguments.length>2&&arguments[2]===!0;if(!H&&E===0)return 0;let G=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return L(_).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return ce(_).length;default:if(G)return H?-1:L(_).length;w=(""+w).toLowerCase(),G=!0}}s.byteLength=p;function b(_,w,E){let H=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,w>>>=0,E<=w))return"";for(_||(_="utf8");;)switch(_){case"hex":return oe(this,w,E);case"utf8":case"utf-8":return P(this,w,E);case"ascii":return J(this,w,E);case"latin1":case"binary":return ie(this,w,E);case"base64":return T(this,w,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,w,E);default:if(H)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),H=!0}}s.prototype._isBuffer=!0;function x(_,w,E){let H=_[w];_[w]=_[E],_[E]=H}s.prototype.swap16=function(){let _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<_;w+=2)x(this,w,w+1);return this},s.prototype.swap32=function(){let _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<_;w+=4)x(this,w,w+3),x(this,w+1,w+2);return this},s.prototype.swap64=function(){let _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<_;w+=8)x(this,w,w+7),x(this,w+1,w+6),x(this,w+2,w+5),x(this,w+3,w+4);return this},s.prototype.toString=function(){let _=this.length;return _===0?"":arguments.length===0?P(this,0,_):b.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(_){if(!s.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:s.compare(this,_)===0},s.prototype.inspect=function(){let _="",w=Tr.INSPECT_MAX_BYTES;return _=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(_+=" ... "),"<Buffer "+_+">"},t&&(s.prototype[t]=s.prototype.inspect),s.prototype.compare=function(_,w,E,H,G){if(U(_,Uint8Array)&&(_=s.from(_,_.offset,_.byteLength)),!s.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(w===void 0&&(w=0),E===void 0&&(E=_?_.length:0),H===void 0&&(H=0),G===void 0&&(G=this.length),w<0||E>_.length||H<0||G>this.length)throw new RangeError("out of range index");if(H>=G&&w>=E)return 0;if(H>=G)return-1;if(w>=E)return 1;if(w>>>=0,E>>>=0,H>>>=0,G>>>=0,this===_)return 0;let re=G-H,De=E-w,it=Math.min(re,De),ht=this.slice(H,G),Ct=_.slice(w,E);for(let ut=0;ut<it;++ut)if(ht[ut]!==Ct[ut]){re=ht[ut],De=Ct[ut];break}return re<De?-1:De<re?1:0};function D(_,w,E,H,G){if(_.length===0)return-1;if(typeof E=="string"?(H=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,le(E)&&(E=G?0:_.length-1),E<0&&(E=_.length+E),E>=_.length){if(G)return-1;E=_.length-1}else if(E<0)if(G)E=0;else return-1;if(typeof w=="string"&&(w=s.from(w,H)),s.isBuffer(w))return w.length===0?-1:C(_,w,E,H,G);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?G?Uint8Array.prototype.indexOf.call(_,w,E):Uint8Array.prototype.lastIndexOf.call(_,w,E):C(_,[w],E,H,G);throw new TypeError("val must be string, number or Buffer")}function C(_,w,E,H,G){let re=1,De=_.length,it=w.length;if(H!==void 0&&(H=String(H).toLowerCase(),H==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(_.length<2||w.length<2)return-1;re=2,De/=2,it/=2,E/=2}function ht(ut,Ot){return re===1?ut[Ot]:ut.readUInt16BE(Ot*re)}let Ct;if(G){let ut=-1;for(Ct=E;Ct<De;Ct++)if(ht(_,Ct)===ht(w,ut===-1?0:Ct-ut)){if(ut===-1&&(ut=Ct),Ct-ut+1===it)return ut*re}else ut!==-1&&(Ct-=Ct-ut),ut=-1}else for(E+it>De&&(E=De-it),Ct=E;Ct>=0;Ct--){let ut=!0;for(let Ot=0;Ot<it;Ot++)if(ht(_,Ct+Ot)!==ht(w,Ot)){ut=!1;break}if(ut)return Ct}return-1}s.prototype.includes=function(_,w,E){return this.indexOf(_,w,E)!==-1},s.prototype.indexOf=function(_,w,E){return D(this,_,w,E,!0)},s.prototype.lastIndexOf=function(_,w,E){return D(this,_,w,E,!1)};function S(_,w,E,H){E=Number(E)||0;let G=_.length-E;H?(H=Number(H),H>G&&(H=G)):H=G;let re=w.length;H>re/2&&(H=re/2);let De;for(De=0;De<H;++De){let it=parseInt(w.substr(De*2,2),16);if(le(it))return De;_[E+De]=it}return De}function M(_,w,E,H){return fe(L(w,_.length-E),_,E,H)}function R(_,w,E,H){return fe(K(w),_,E,H)}function $(_,w,E,H){return fe(ce(w),_,E,H)}function B(_,w,E,H){return fe(se(w,_.length-E),_,E,H)}s.prototype.write=function(_,w,E,H){if(w===void 0)H="utf8",E=this.length,w=0;else if(E===void 0&&typeof w=="string")H=w,E=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(E)?(E=E>>>0,H===void 0&&(H="utf8")):(H=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let G=this.length-w;if((E===void 0||E>G)&&(E=G),_.length>0&&(E<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");H||(H="utf8");let re=!1;for(;;)switch(H){case"hex":return S(this,_,w,E);case"utf8":case"utf-8":return M(this,_,w,E);case"ascii":case"latin1":case"binary":return R(this,_,w,E);case"base64":return $(this,_,w,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,_,w,E);default:if(re)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),re=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(_,w,E){return w===0&&E===_.length?e.fromByteArray(_):e.fromByteArray(_.slice(w,E))}function P(_,w,E){E=Math.min(_.length,E);let H=[],G=w;for(;G<E;){let re=_[G],De=null,it=re>239?4:re>223?3:re>191?2:1;if(G+it<=E){let ht,Ct,ut,Ot;switch(it){case 1:re<128&&(De=re);break;case 2:ht=_[G+1],(ht&192)===128&&(Ot=(re&31)<<6|ht&63,Ot>127&&(De=Ot));break;case 3:ht=_[G+1],Ct=_[G+2],(ht&192)===128&&(Ct&192)===128&&(Ot=(re&15)<<12|(ht&63)<<6|Ct&63,Ot>2047&&(Ot<55296||Ot>57343)&&(De=Ot));break;case 4:ht=_[G+1],Ct=_[G+2],ut=_[G+3],(ht&192)===128&&(Ct&192)===128&&(ut&192)===128&&(Ot=(re&15)<<18|(ht&63)<<12|(Ct&63)<<6|ut&63,Ot>65535&&Ot<1114112&&(De=Ot))}}De===null?(De=65533,it=1):De>65535&&(De-=65536,H.push(De>>>10&1023|55296),De=56320|De&1023),H.push(De),G+=it}return j(H)}let F=4096;function j(_){let w=_.length;if(w<=F)return String.fromCharCode.apply(String,_);let E="",H=0;for(;H<w;)E+=String.fromCharCode.apply(String,_.slice(H,H+=F));return E}function J(_,w,E){let H="";E=Math.min(_.length,E);for(let G=w;G<E;++G)H+=String.fromCharCode(_[G]&127);return H}function ie(_,w,E){let H="";E=Math.min(_.length,E);for(let G=w;G<E;++G)H+=String.fromCharCode(_[G]);return H}function oe(_,w,E){let H=_.length;(!w||w<0)&&(w=0),(!E||E<0||E>H)&&(E=H);let G="";for(let re=w;re<E;++re)G+=Se[_[re]];return G}function q(_,w,E){let H=_.slice(w,E),G="";for(let re=0;re<H.length-1;re+=2)G+=String.fromCharCode(H[re]+H[re+1]*256);return G}s.prototype.slice=function(_,w){let E=this.length;_=~~_,w=w===void 0?E:~~w,_<0?(_+=E,_<0&&(_=0)):_>E&&(_=E),w<0?(w+=E,w<0&&(w=0)):w>E&&(w=E),w<_&&(w=_);let H=this.subarray(_,w);return Object.setPrototypeOf(H,s.prototype),H};function O(_,w,E){if(_%1!==0||_<0)throw new RangeError("offset is not uint");if(_+w>E)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(_,w,E){_=_>>>0,w=w>>>0,E||O(_,w,this.length);let H=this[_],G=1,re=0;for(;++re<w&&(G*=256);)H+=this[_+re]*G;return H},s.prototype.readUintBE=s.prototype.readUIntBE=function(_,w,E){_=_>>>0,w=w>>>0,E||O(_,w,this.length);let H=this[_+--w],G=1;for(;w>0&&(G*=256);)H+=this[_+--w]*G;return H},s.prototype.readUint8=s.prototype.readUInt8=function(_,w){return _=_>>>0,w||O(_,1,this.length),this[_]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(_,w){return _=_>>>0,w||O(_,2,this.length),this[_]|this[_+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(_,w){return _=_>>>0,w||O(_,2,this.length),this[_]<<8|this[_+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(_,w){return _=_>>>0,w||O(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(_,w){return _=_>>>0,w||O(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},s.prototype.readBigUInt64LE=he(function(_){_=_>>>0,Q(_,"offset");let w=this[_],E=this[_+7];(w===void 0||E===void 0)&&ge(_,this.length-8);let H=w+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,G=this[++_]+this[++_]*2**8+this[++_]*2**16+E*2**24;return BigInt(H)+(BigInt(G)<<BigInt(32))}),s.prototype.readBigUInt64BE=he(function(_){_=_>>>0,Q(_,"offset");let w=this[_],E=this[_+7];(w===void 0||E===void 0)&&ge(_,this.length-8);let H=w*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],G=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+E;return(BigInt(H)<<BigInt(32))+BigInt(G)}),s.prototype.readIntLE=function(_,w,E){_=_>>>0,w=w>>>0,E||O(_,w,this.length);let H=this[_],G=1,re=0;for(;++re<w&&(G*=256);)H+=this[_+re]*G;return G*=128,H>=G&&(H-=Math.pow(2,8*w)),H},s.prototype.readIntBE=function(_,w,E){_=_>>>0,w=w>>>0,E||O(_,w,this.length);let H=w,G=1,re=this[_+--H];for(;H>0&&(G*=256);)re+=this[_+--H]*G;return G*=128,re>=G&&(re-=Math.pow(2,8*w)),re},s.prototype.readInt8=function(_,w){return _=_>>>0,w||O(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},s.prototype.readInt16LE=function(_,w){_=_>>>0,w||O(_,2,this.length);let E=this[_]|this[_+1]<<8;return E&32768?E|4294901760:E},s.prototype.readInt16BE=function(_,w){_=_>>>0,w||O(_,2,this.length);let E=this[_+1]|this[_]<<8;return E&32768?E|4294901760:E},s.prototype.readInt32LE=function(_,w){return _=_>>>0,w||O(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},s.prototype.readInt32BE=function(_,w){return _=_>>>0,w||O(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},s.prototype.readBigInt64LE=he(function(_){_=_>>>0,Q(_,"offset");let w=this[_],E=this[_+7];(w===void 0||E===void 0)&&ge(_,this.length-8);let H=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(E<<24);return(BigInt(H)<<BigInt(32))+BigInt(w+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)}),s.prototype.readBigInt64BE=he(function(_){_=_>>>0,Q(_,"offset");let w=this[_],E=this[_+7];(w===void 0||E===void 0)&&ge(_,this.length-8);let H=(w<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(H)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+E)}),s.prototype.readFloatLE=function(_,w){return _=_>>>0,w||O(_,4,this.length),n.read(this,_,!0,23,4)},s.prototype.readFloatBE=function(_,w){return _=_>>>0,w||O(_,4,this.length),n.read(this,_,!1,23,4)},s.prototype.readDoubleLE=function(_,w){return _=_>>>0,w||O(_,8,this.length),n.read(this,_,!0,52,8)},s.prototype.readDoubleBE=function(_,w){return _=_>>>0,w||O(_,8,this.length),n.read(this,_,!1,52,8)};function W(_,w,E,H,G,re){if(!s.isBuffer(_))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>G||w<re)throw new RangeError('"value" argument is out of bounds');if(E+H>_.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(_,w,E,H){if(_=+_,w=w>>>0,E=E>>>0,!H){let De=Math.pow(2,8*E)-1;W(this,_,w,E,De,0)}let G=1,re=0;for(this[w]=_&255;++re<E&&(G*=256);)this[w+re]=_/G&255;return w+E},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(_,w,E,H){if(_=+_,w=w>>>0,E=E>>>0,!H){let De=Math.pow(2,8*E)-1;W(this,_,w,E,De,0)}let G=E-1,re=1;for(this[w+G]=_&255;--G>=0&&(re*=256);)this[w+G]=_/re&255;return w+E},s.prototype.writeUint8=s.prototype.writeUInt8=function(_,w,E){return _=+_,w=w>>>0,E||W(this,_,w,1,255,0),this[w]=_&255,w+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(_,w,E){return _=+_,w=w>>>0,E||W(this,_,w,2,65535,0),this[w]=_&255,this[w+1]=_>>>8,w+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(_,w,E){return _=+_,w=w>>>0,E||W(this,_,w,2,65535,0),this[w]=_>>>8,this[w+1]=_&255,w+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(_,w,E){return _=+_,w=w>>>0,E||W(this,_,w,4,4294967295,0),this[w+3]=_>>>24,this[w+2]=_>>>16,this[w+1]=_>>>8,this[w]=_&255,w+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(_,w,E){return _=+_,w=w>>>0,E||W(this,_,w,4,4294967295,0),this[w]=_>>>24,this[w+1]=_>>>16,this[w+2]=_>>>8,this[w+3]=_&255,w+4};function I(_,w,E,H,G){Y(w,H,G,_,E,7);let re=Number(w&BigInt(4294967295));_[E++]=re,re=re>>8,_[E++]=re,re=re>>8,_[E++]=re,re=re>>8,_[E++]=re;let De=Number(w>>BigInt(32)&BigInt(4294967295));return _[E++]=De,De=De>>8,_[E++]=De,De=De>>8,_[E++]=De,De=De>>8,_[E++]=De,E}function ue(_,w,E,H,G){Y(w,H,G,_,E,7);let re=Number(w&BigInt(4294967295));_[E+7]=re,re=re>>8,_[E+6]=re,re=re>>8,_[E+5]=re,re=re>>8,_[E+4]=re;let De=Number(w>>BigInt(32)&BigInt(4294967295));return _[E+3]=De,De=De>>8,_[E+2]=De,De=De>>8,_[E+1]=De,De=De>>8,_[E]=De,E+8}s.prototype.writeBigUInt64LE=he(function(_,w=0){return I(this,_,w,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=he(function(_,w=0){return ue(this,_,w,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(_,w,E,H){if(_=+_,w=w>>>0,!H){let it=Math.pow(2,8*E-1);W(this,_,w,E,it-1,-it)}let G=0,re=1,De=0;for(this[w]=_&255;++G<E&&(re*=256);)_<0&&De===0&&this[w+G-1]!==0&&(De=1),this[w+G]=(_/re>>0)-De&255;return w+E},s.prototype.writeIntBE=function(_,w,E,H){if(_=+_,w=w>>>0,!H){let it=Math.pow(2,8*E-1);W(this,_,w,E,it-1,-it)}let G=E-1,re=1,De=0;for(this[w+G]=_&255;--G>=0&&(re*=256);)_<0&&De===0&&this[w+G+1]!==0&&(De=1),this[w+G]=(_/re>>0)-De&255;return w+E},s.prototype.writeInt8=function(_,w,E){return _=+_,w=w>>>0,E||W(this,_,w,1,127,-128),_<0&&(_=255+_+1),this[w]=_&255,w+1},s.prototype.writeInt16LE=function(_,w,E){return _=+_,w=w>>>0,E||W(this,_,w,2,32767,-32768),this[w]=_&255,this[w+1]=_>>>8,w+2},s.prototype.writeInt16BE=function(_,w,E){return _=+_,w=w>>>0,E||W(this,_,w,2,32767,-32768),this[w]=_>>>8,this[w+1]=_&255,w+2},s.prototype.writeInt32LE=function(_,w,E){return _=+_,w=w>>>0,E||W(this,_,w,4,2147483647,-2147483648),this[w]=_&255,this[w+1]=_>>>8,this[w+2]=_>>>16,this[w+3]=_>>>24,w+4},s.prototype.writeInt32BE=function(_,w,E){return _=+_,w=w>>>0,E||W(this,_,w,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[w]=_>>>24,this[w+1]=_>>>16,this[w+2]=_>>>8,this[w+3]=_&255,w+4},s.prototype.writeBigInt64LE=he(function(_,w=0){return I(this,_,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=he(function(_,w=0){return ue(this,_,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ce(_,w,E,H,G,re){if(E+H>_.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function ae(_,w,E,H,G){return w=+w,E=E>>>0,G||Ce(_,w,E,4),n.write(_,w,E,H,23,4),E+4}s.prototype.writeFloatLE=function(_,w,E){return ae(this,_,w,!0,E)},s.prototype.writeFloatBE=function(_,w,E){return ae(this,_,w,!1,E)};function be(_,w,E,H,G){return w=+w,E=E>>>0,G||Ce(_,w,E,8),n.write(_,w,E,H,52,8),E+8}s.prototype.writeDoubleLE=function(_,w,E){return be(this,_,w,!0,E)},s.prototype.writeDoubleBE=function(_,w,E){return be(this,_,w,!1,E)},s.prototype.copy=function(_,w,E,H){if(!s.isBuffer(_))throw new TypeError("argument should be a Buffer");if(E||(E=0),!H&&H!==0&&(H=this.length),w>=_.length&&(w=_.length),w||(w=0),H>0&&H<E&&(H=E),H===E||_.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length),_.length-w<H-E&&(H=_.length-w+E);let G=H-E;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,E,H):Uint8Array.prototype.set.call(_,this.subarray(E,H),w),G},s.prototype.fill=function(_,w,E,H){if(typeof _=="string"){if(typeof w=="string"?(H=w,w=0,E=this.length):typeof E=="string"&&(H=E,E=this.length),H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!s.isEncoding(H))throw new TypeError("Unknown encoding: "+H);if(_.length===1){let re=_.charCodeAt(0);(H==="utf8"&&re<128||H==="latin1")&&(_=re)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(w<0||this.length<w||this.length<E)throw new RangeError("Out of range index");if(E<=w)return this;w=w>>>0,E=E===void 0?this.length:E>>>0,_||(_=0);let G;if(typeof _=="number")for(G=w;G<E;++G)this[G]=_;else{let re=s.isBuffer(_)?_:s.from(_,H),De=re.length;if(De===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(G=0;G<E-w;++G)this[G+w]=re[G%De]}return this};let Z={};function V(_,w,E){Z[_]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${_}]`,this.stack,delete this.name}get code(){return _}set code(H){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:H,writable:!0})}toString(){return`${this.name} [${_}]: ${this.message}`}}}V("ERR_BUFFER_OUT_OF_BOUNDS",function(_){return _?`${_} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),V("ERR_INVALID_ARG_TYPE",function(_,w){return`The "${_}" argument must be of type number. Received type ${typeof w}`},TypeError),V("ERR_OUT_OF_RANGE",function(_,w,E){let H=`The value of "${_}" is out of range.`,G=E;return Number.isInteger(E)&&Math.abs(E)>2**32?G=pe(String(E)):typeof E=="bigint"&&(G=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(G=pe(G)),G+="n"),H+=` It must be ${w}. Received ${G}`,H},RangeError);function pe(_){let w="",E=_.length,H=_[0]==="-"?1:0;for(;E>=H+4;E-=3)w=`_${_.slice(E-3,E)}${w}`;return`${_.slice(0,E)}${w}`}function ee(_,w,E){Q(w,"offset"),(_[w]===void 0||_[w+E]===void 0)&&ge(w,_.length-(E+1))}function Y(_,w,E,H,G,re){if(_>E||_<w){let De=typeof w=="bigint"?"n":"",it;throw re>3?w===0||w===BigInt(0)?it=`>= 0${De} and < 2${De} ** ${(re+1)*8}${De}`:it=`>= -(2${De} ** ${(re+1)*8-1}${De}) and < 2 ** ${(re+1)*8-1}${De}`:it=`>= ${w}${De} and <= ${E}${De}`,new Z.ERR_OUT_OF_RANGE("value",it,_)}ee(H,G,re)}function Q(_,w){if(typeof _!="number")throw new Z.ERR_INVALID_ARG_TYPE(w,"number",_)}function ge(_,w,E){throw Math.floor(_)!==_?(Q(_,E),new Z.ERR_OUT_OF_RANGE(E||"offset","an integer",_)):w<0?new Z.ERR_BUFFER_OUT_OF_BOUNDS:new Z.ERR_OUT_OF_RANGE(E||"offset",`>= ${E?1:0} and <= ${w}`,_)}let ye=/[^+/0-9A-Za-z-_]/g;function k(_){if(_=_.split("=")[0],_=_.trim().replace(ye,""),_.length<2)return"";for(;_.length%4!==0;)_=_+"=";return _}function L(_,w){w=w||1/0;let E,H=_.length,G=null,re=[];for(let De=0;De<H;++De){if(E=_.charCodeAt(De),E>55295&&E<57344){if(!G){if(E>56319){(w-=3)>-1&&re.push(239,191,189);continue}else if(De+1===H){(w-=3)>-1&&re.push(239,191,189);continue}G=E;continue}if(E<56320){(w-=3)>-1&&re.push(239,191,189),G=E;continue}E=(G-55296<<10|E-56320)+65536}else G&&(w-=3)>-1&&re.push(239,191,189);if(G=null,E<128){if((w-=1)<0)break;re.push(E)}else if(E<2048){if((w-=2)<0)break;re.push(E>>6|192,E&63|128)}else if(E<65536){if((w-=3)<0)break;re.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((w-=4)<0)break;re.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return re}function K(_){let w=[];for(let E=0;E<_.length;++E)w.push(_.charCodeAt(E)&255);return w}function se(_,w){let E,H,G,re=[];for(let De=0;De<_.length&&!((w-=2)<0);++De)E=_.charCodeAt(De),H=E>>8,G=E%256,re.push(G),re.push(H);return re}function ce(_){return e.toByteArray(k(_))}function fe(_,w,E,H){let G;for(G=0;G<H&&!(G+E>=w.length||G>=_.length);++G)w[G+E]=_[G];return G}function U(_,w){return _ instanceof w||_!=null&&_.constructor!=null&&_.constructor.name!=null&&_.constructor.name===w.name}function le(_){return _!==_}let Se=function(){let _="0123456789abcdef",w=new Array(256);for(let E=0;E<16;++E){let H=E*16;for(let G=0;G<16;++G)w[H+G]=_[E]+_[G]}return w}();function he(_){return typeof BigInt>"u"?Ne:_}function Ne(){throw new Error("BigInt not supported")}return Tr}var ps,Vg,Ta,Hg,Tr,Ug,Zi,xu,jw,Vw,ln=Mn(()=>{me(),ve(),_e(),ps={},Vg=!1,Ta={},Hg=!1,Tr={},Ug=!1,Zi=ZR(),Zi.Buffer,Zi.SlowBuffer,Zi.INSPECT_MAX_BYTES,Zi.kMaxLength,xu=Zi.Buffer,jw=Zi.INSPECT_MAX_BYTES,Vw=Zi.kMaxLength}),ve=Mn(()=>{ln()}),JR=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"__esModule",{value:!0});var n=class{constructor(t){this.aliasToTopic={},this.max=t}put(t,i){return i===0||i>this.max?!1:(this.aliasToTopic[i]=t,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(t){return this.aliasToTopic[t]}clear(){this.aliasToTopic={}}};e.default=n}),Lt=we((e,n)=>{"use strict";me(),ve(),_e();var t=class extends Error{constructor(i){if(!Array.isArray(i))throw new TypeError(`Expected input to be an Array, got ${typeof i}`);let r="";for(let o=0;o<i.length;o++)r+=`    ${i[o].stack}
`;super(r),this.name="AggregateError",this.errors=i}};n.exports={AggregateError:t,ArrayIsArray(i){return Array.isArray(i)},ArrayPrototypeIncludes(i,r){return i.includes(r)},ArrayPrototypeIndexOf(i,r){return i.indexOf(r)},ArrayPrototypeJoin(i,r){return i.join(r)},ArrayPrototypeMap(i,r){return i.map(r)},ArrayPrototypePop(i,r){return i.pop(r)},ArrayPrototypePush(i,r){return i.push(r)},ArrayPrototypeSlice(i,r,o){return i.slice(r,o)},Error,FunctionPrototypeCall(i,r,...o){return i.call(r,...o)},FunctionPrototypeSymbolHasInstance(i,r){return Function.prototype[Symbol.hasInstance].call(i,r)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(i,r){return Object.defineProperties(i,r)},ObjectDefineProperty(i,r,o){return Object.defineProperty(i,r,o)},ObjectGetOwnPropertyDescriptor(i,r){return Object.getOwnPropertyDescriptor(i,r)},ObjectKeys(i){return Object.keys(i)},ObjectSetPrototypeOf(i,r){return Object.setPrototypeOf(i,r)},Promise,PromisePrototypeCatch(i,r){return i.catch(r)},PromisePrototypeThen(i,r,o){return i.then(r,o)},PromiseReject(i){return Promise.reject(i)},PromiseResolve(i){return Promise.resolve(i)},ReflectApply:Reflect.apply,RegExpPrototypeTest(i,r){return i.test(r)},SafeSet:Set,String,StringPrototypeSlice(i,r,o){return i.slice(r,o)},StringPrototypeToLowerCase(i){return i.toLowerCase()},StringPrototypeToUpperCase(i){return i.toUpperCase()},StringPrototypeTrim(i){return i.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(i,r,o){return i.set(r,o)},Boolean,Uint8Array}}),Hw=we((e,n)=>{"use strict";me(),ve(),_e(),n.exports={format(t,...i){return t.replace(/%([sdifj])/g,function(...[r,o]){let s=i.shift();return o==="f"?s.toFixed(6):o==="j"?JSON.stringify(s):o==="s"&&typeof s=="object"?`${s.constructor!==Object?s.constructor.name:""} {}`.trim():s.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}}),Tn=we((e,n)=>{"use strict";me(),ve(),_e();var{format:t,inspect:i}=Hw(),{AggregateError:r}=Lt(),o=globalThis.AggregateError||r,s=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,c="__node_internal_",u={};function d(p,b){if(!p)throw new u.ERR_INTERNAL_ASSERTION(b)}function f(p){let b="",x=p.length,D=p[0]==="-"?1:0;for(;x>=D+4;x-=3)b=`_${p.slice(x-3,x)}${b}`;return`${p.slice(0,x)}${b}`}function h(p,b,x){if(typeof b=="function")return d(b.length<=x.length,`Code: ${p}; The provided arguments length (${x.length}) does not match the required ones (${b.length}).`),b(...x);let D=(b.match(/%[dfijoOs]/g)||[]).length;return d(D===x.length,`Code: ${p}; The provided arguments length (${x.length}) does not match the required ones (${D}).`),x.length===0?b:t(b,...x)}function g(p,b,x){x||(x=Error);class D extends x{constructor(...S){super(h(p,b,S))}toString(){return`${this.name} [${p}]: ${this.message}`}}Object.defineProperties(D.prototype,{name:{value:x.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${p}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),D.prototype.code=p,D.prototype[s]=!0,u[p]=D}function m(p){let b=c+p.name;return Object.defineProperty(p,"name",{value:b}),p}function v(p,b){if(p&&b&&p!==b){if(Array.isArray(b.errors))return b.errors.push(p),b;let x=new o([b,p],b.message);return x.code=b.code,x}return p||b}var y=class extends Error{constructor(p="The operation was aborted",b=void 0){if(b!==void 0&&typeof b!="object")throw new u.ERR_INVALID_ARG_TYPE("options","Object",b);super(p,b),this.code="ABORT_ERR",this.name="AbortError"}};g("ERR_ASSERTION","%s",Error),g("ERR_INVALID_ARG_TYPE",(p,b,x)=>{d(typeof p=="string","'name' must be a string"),Array.isArray(b)||(b=[b]);let D="The ";p.endsWith(" argument")?D+=`${p} `:D+=`"${p}" ${p.includes(".")?"property":"argument"} `,D+="must be ";let C=[],S=[],M=[];for(let $ of b)d(typeof $=="string","All expected entries have to be of type string"),a.includes($)?C.push($.toLowerCase()):l.test($)?S.push($):(d($!=="object",'The value "object" should be written as "Object"'),M.push($));if(S.length>0){let $=C.indexOf("object");$!==-1&&(C.splice(C,$,1),S.push("Object"))}if(C.length>0){switch(C.length){case 1:D+=`of type ${C[0]}`;break;case 2:D+=`one of type ${C[0]} or ${C[1]}`;break;default:{let $=C.pop();D+=`one of type ${C.join(", ")}, or ${$}`}}(S.length>0||M.length>0)&&(D+=" or ")}if(S.length>0){switch(S.length){case 1:D+=`an instance of ${S[0]}`;break;case 2:D+=`an instance of ${S[0]} or ${S[1]}`;break;default:{let $=S.pop();D+=`an instance of ${S.join(", ")}, or ${$}`}}M.length>0&&(D+=" or ")}switch(M.length){case 0:break;case 1:M[0].toLowerCase()!==M[0]&&(D+="an "),D+=`${M[0]}`;break;case 2:D+=`one of ${M[0]} or ${M[1]}`;break;default:{let $=M.pop();D+=`one of ${M.join(", ")}, or ${$}`}}if(x==null)D+=`. Received ${x}`;else if(typeof x=="function"&&x.name)D+=`. Received function ${x.name}`;else if(typeof x=="object"){var R;if((R=x.constructor)!==null&&R!==void 0&&R.name)D+=`. Received an instance of ${x.constructor.name}`;else{let $=i(x,{depth:-1});D+=`. Received ${$}`}}else{let $=i(x,{colors:!1});$.length>25&&($=`${$.slice(0,25)}...`),D+=`. Received type ${typeof x} (${$})`}return D},TypeError),g("ERR_INVALID_ARG_VALUE",(p,b,x="is invalid")=>{let D=i(b);return D.length>128&&(D=D.slice(0,128)+"..."),`The ${p.includes(".")?"property":"argument"} '${p}' ${x}. Received ${D}`},TypeError),g("ERR_INVALID_RETURN_VALUE",(p,b,x)=>{var D;let C=x!=null&&(D=x.constructor)!==null&&D!==void 0&&D.name?`instance of ${x.constructor.name}`:`type ${typeof x}`;return`Expected ${p} to be returned from the "${b}" function but got ${C}.`},TypeError),g("ERR_MISSING_ARGS",(...p)=>{d(p.length>0,"At least one arg needs to be specified");let b,x=p.length;switch(p=(Array.isArray(p)?p:[p]).map(D=>`"${D}"`).join(" or "),x){case 1:b+=`The ${p[0]} argument`;break;case 2:b+=`The ${p[0]} and ${p[1]} arguments`;break;default:{let D=p.pop();b+=`The ${p.join(", ")}, and ${D} arguments`}break}return`${b} must be specified`},TypeError),g("ERR_OUT_OF_RANGE",(p,b,x)=>{d(b,'Missing "range" argument');let D;if(Number.isInteger(x)&&Math.abs(x)>2**32)D=f(String(x));else if(typeof x=="bigint"){D=String(x);let C=BigInt(2)**BigInt(32);(x>C||x<-C)&&(D=f(D)),D+="n"}else D=i(x);return`The value of "${p}" is out of range. It must be ${b}. Received ${D}`},RangeError),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),g("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),g("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),g("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),g("ERR_STREAM_WRITE_AFTER_END","write after end",Error),g("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),n.exports={AbortError:y,aggregateTwoErrors:m(v),hideStackFrames:m,codes:u}}),Ra=we((e,n)=>{"use strict";me(),ve(),_e();var{AbortController:t,AbortSignal:i}=typeof self<"u"?self:typeof window<"u"?window:void 0;n.exports=t,n.exports.AbortSignal=i,n.exports.default=t});function Et(){Et.init.call(this)}function yu(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function Uw(e){return e._maxListeners===void 0?Et.defaultMaxListeners:e._maxListeners}function Xb(e,n,t,i){var r,o,s,a;if(yu(t),(o=e._events)===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",n,t.listener?t.listener:t),o=e._events),s=o[n]),s===void 0)s=o[n]=t,++e._eventsCount;else if(typeof s=="function"?s=o[n]=i?[t,s]:[s,t]:i?s.unshift(t):s.push(t),(r=Uw(e))>0&&s.length>r&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=n,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return e}function XR(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ew(e,n,t){var i={fired:!1,wrapFn:void 0,target:e,type:n,listener:t},r=XR.bind(i);return r.listener=t,i.wrapFn=r,r}function tw(e,n,t){var i=e._events;if(i===void 0)return[];var r=i[n];return r===void 0?[]:typeof r=="function"?t?[r.listener||r]:[r]:t?function(o){for(var s=new Array(o.length),a=0;a<s.length;++a)s[a]=o[a].listener||o[a];return s}(r):$w(r,r.length)}function nw(e){var n=this._events;if(n!==void 0){var t=n[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}function $w(e,n){for(var t=new Array(n),i=0;i<n;++i)t[i]=e[i];return t}var iw,rw,lo,I0,M0,T0,Gn,ow=Mn(()=>{me(),ve(),_e(),lo=typeof Reflect=="object"?Reflect:null,I0=lo&&typeof lo.apply=="function"?lo.apply:function(e,n,t){return Function.prototype.apply.call(e,n,t)},rw=lo&&typeof lo.ownKeys=="function"?lo.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},M0=Number.isNaN||function(e){return e!=e},iw=Et,Et.EventEmitter=Et,Et.prototype._events=void 0,Et.prototype._eventsCount=0,Et.prototype._maxListeners=void 0,T0=10,Object.defineProperty(Et,"defaultMaxListeners",{enumerable:!0,get:function(){return T0},set:function(e){if(typeof e!="number"||e<0||M0(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");T0=e}}),Et.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Et.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||M0(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Et.prototype.getMaxListeners=function(){return Uw(this)},Et.prototype.emit=function(e){for(var n=[],t=1;t<arguments.length;t++)n.push(arguments[t]);var i=e==="error",r=this._events;if(r!==void 0)i=i&&r.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=r[e];if(a===void 0)return!1;if(typeof a=="function")I0(a,this,n);else{var l=a.length,c=$w(a,l);for(t=0;t<l;++t)I0(c[t],this,n)}return!0},Et.prototype.addListener=function(e,n){return Xb(this,e,n,!1)},Et.prototype.on=Et.prototype.addListener,Et.prototype.prependListener=function(e,n){return Xb(this,e,n,!0)},Et.prototype.once=function(e,n){return yu(n),this.on(e,ew(this,e,n)),this},Et.prototype.prependOnceListener=function(e,n){return yu(n),this.prependListener(e,ew(this,e,n)),this},Et.prototype.removeListener=function(e,n){var t,i,r,o,s;if(yu(n),(i=this._events)===void 0)return this;if((t=i[e])===void 0)return this;if(t===n||t.listener===n)--this._eventsCount==0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,t.listener||n));else if(typeof t!="function"){for(r=-1,o=t.length-1;o>=0;o--)if(t[o]===n||t[o].listener===n){s=t[o].listener,r=o;break}if(r<0)return this;r===0?t.shift():function(a,l){for(;l+1<a.length;l++)a[l]=a[l+1];a.pop()}(t,r),t.length===1&&(i[e]=t[0]),i.removeListener!==void 0&&this.emit("removeListener",e,s||n)}return this},Et.prototype.off=Et.prototype.removeListener,Et.prototype.removeAllListeners=function(e){var n,t,i;if((t=this._events)===void 0)return this;if(t.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):t[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete t[e]),this;if(arguments.length===0){var r,o=Object.keys(t);for(i=0;i<o.length;++i)(r=o[i])!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(n=t[e])=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this},Et.prototype.listeners=function(e){return tw(this,e,!0)},Et.prototype.rawListeners=function(e){return tw(this,e,!1)},Et.listenerCount=function(e,n){return typeof e.listenerCount=="function"?e.listenerCount(n):nw.call(e,n)},Et.prototype.listenerCount=nw,Et.prototype.eventNames=function(){return this._eventsCount>0?rw(this._events):[]},Gn=iw,Gn.EventEmitter,Gn.defaultMaxListeners,Gn.init,Gn.listenerCount,Gn.EventEmitter,Gn.defaultMaxListeners,Gn.init,Gn.listenerCount}),Or={};gs(Or,{EventEmitter:()=>Gw,default:()=>Gn,defaultMaxListeners:()=>Ww,init:()=>qw,listenerCount:()=>zw,on:()=>Qw,once:()=>Yw});var Gw,Ww,qw,zw,Qw,Yw,vo=Mn(()=>{me(),ve(),_e(),ow(),ow(),Gn.once=function(e,n){return new Promise((t,i)=>{function r(...s){o!==void 0&&e.removeListener("error",o),t(s)}let o;n!=="error"&&(o=s=>{e.removeListener(name,r),i(s)},e.once("error",o)),e.once(n,r)})},Gn.on=function(e,n){let t=[],i=[],r=null,o=!1,s={next(){return ct(this,null,function*(){let u=t.shift();if(u)return createIterResult(u,!1);if(r){let d=Promise.reject(r);return r=null,d}return o?createIterResult(void 0,!0):new Promise((d,f)=>i.push({resolve:d,reject:f}))})},return(){return ct(this,null,function*(){e.removeListener(n,a),e.removeListener("error",l),o=!0;for(let u of i)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)})},throw(u){r=u,e.removeListener(n,a),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(n,a),e.on("error",l),s;function a(...u){let d=i.shift();d?d.resolve(createIterResult(u,!1)):t.push(u)}function l(u){o=!0;let d=i.shift();d?d.reject(u):r=u,s.return()}},{EventEmitter:Gw,defaultMaxListeners:Ww,init:qw,listenerCount:zw,on:Qw,once:Yw}=Gn}),Pn=we((e,n)=>{"use strict";me(),ve(),_e();var t=(ln(),St(an)),{format:i,inspect:r}=Hw(),{codes:{ERR_INVALID_ARG_TYPE:o}}=Tn(),{kResistStopPropagation:s,AggregateError:a,SymbolDispose:l}=Lt(),c=globalThis.AbortSignal||Ra().AbortSignal,u=globalThis.AbortController||Ra().AbortController,d=Object.getPrototypeOf(function(){return ct(this,null,function*(){})}).constructor,f=globalThis.Blob||t.Blob,h=typeof f<"u"?function(v){return v instanceof f}:function(v){return!1},g=(v,y)=>{if(v!==void 0&&(v===null||typeof v!="object"||!("aborted"in v)))throw new o(y,"AbortSignal",v)},m=(v,y)=>{if(typeof v!="function")throw new o(y,"Function",v)};n.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(v){let y=!1;return function(...p){y||(y=!0,v.apply(this,p))}},createDeferredPromise:function(){let v,y;return{promise:new Promise((p,b)=>{v=p,y=b}),resolve:v,reject:y}},promisify(v){return new Promise((y,p)=>{v((b,...x)=>b?p(b):y(...x))})},debuglog(){return function(){}},format:i,inspect:r,types:{isAsyncFunction(v){return v instanceof d},isArrayBufferView(v){return ArrayBuffer.isView(v)}},isBlob:h,deprecate(v,y){return v},addAbortListener:(vo(),St(Or)).addAbortListener||function(v,y){if(v===void 0)throw new o("signal","AbortSignal",v);g(v,"signal"),m(y,"listener");let p;return v.aborted?queueMicrotask(()=>y()):(v.addEventListener("abort",y,{__proto__:null,once:!0,[s]:!0}),p=()=>{v.removeEventListener("abort",y)}),{__proto__:null,[l](){var b;(b=p)===null||b===void 0||b()}}},AbortSignalAny:c.any||function(v){if(v.length===1)return v[0];let y=new u,p=()=>y.abort();return v.forEach(b=>{g(b,"signals"),b.addEventListener("abort",p,{once:!0})}),y.signal.addEventListener("abort",()=>{v.forEach(b=>b.removeEventListener("abort",p))},{once:!0}),y.signal}},n.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),ka=we((e,n)=>{"use strict";me(),ve(),_e();var{ArrayIsArray:t,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:r,ArrayPrototypeMap:o,NumberIsInteger:s,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:c,NumberParseInt:u,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:f,String:h,StringPrototypeToUpperCase:g,StringPrototypeTrim:m}=Lt(),{hideStackFrames:v,codes:{ERR_SOCKET_BAD_PORT:y,ERR_INVALID_ARG_TYPE:p,ERR_INVALID_ARG_VALUE:b,ERR_OUT_OF_RANGE:x,ERR_UNKNOWN_SIGNAL:D}}=Tn(),{normalizeEncoding:C}=Pn(),{isAsyncFunction:S,isArrayBufferView:M}=Pn().types,R={};function $(U){return U===(U|0)}function B(U){return U===U>>>0}var T=/^[0-7]+$/,P="must be a 32-bit unsigned integer or an octal string";function F(U,le,Se){if(typeof U>"u"&&(U=Se),typeof U=="string"){if(f(T,U)===null)throw new b(le,U,P);U=u(U,8)}return ie(U,le),U}var j=v((U,le,Se=c,he=l)=>{if(typeof U!="number")throw new p(le,"number",U);if(!s(U))throw new x(le,"an integer",U);if(U<Se||U>he)throw new x(le,`>= ${Se} && <= ${he}`,U)}),J=v((U,le,Se=-2147483648,he=2147483647)=>{if(typeof U!="number")throw new p(le,"number",U);if(!s(U))throw new x(le,"an integer",U);if(U<Se||U>he)throw new x(le,`>= ${Se} && <= ${he}`,U)}),ie=v((U,le,Se=!1)=>{if(typeof U!="number")throw new p(le,"number",U);if(!s(U))throw new x(le,"an integer",U);let he=Se?1:0,Ne=4294967295;if(U<he||U>Ne)throw new x(le,`>= ${he} && <= ${Ne}`,U)});function oe(U,le){if(typeof U!="string")throw new p(le,"string",U)}function q(U,le,Se=void 0,he){if(typeof U!="number")throw new p(le,"number",U);if(Se!=null&&U<Se||he!=null&&U>he||(Se!=null||he!=null)&&a(U))throw new x(le,`${Se!=null?`>= ${Se}`:""}${Se!=null&&he!=null?" && ":""}${he!=null?`<= ${he}`:""}`,U)}var O=v((U,le,Se)=>{if(!i(Se,U)){let he="must be one of: "+r(o(Se,Ne=>typeof Ne=="string"?`'${Ne}'`:h(Ne)),", ");throw new b(le,U,he)}});function W(U,le){if(typeof U!="boolean")throw new p(le,"boolean",U)}function I(U,le,Se){return U==null||!d(U,le)?Se:U[le]}var ue=v((U,le,Se=null)=>{let he=I(Se,"allowArray",!1),Ne=I(Se,"allowFunction",!1);if(!I(Se,"nullable",!1)&&U===null||!he&&t(U)||typeof U!="object"&&(!Ne||typeof U!="function"))throw new p(le,"Object",U)}),Ce=v((U,le)=>{if(U!=null&&typeof U!="object"&&typeof U!="function")throw new p(le,"a dictionary",U)}),ae=v((U,le,Se=0)=>{if(!t(U))throw new p(le,"Array",U);if(U.length<Se){let he=`must be longer than ${Se}`;throw new b(le,U,he)}});function be(U,le){ae(U,le);for(let Se=0;Se<U.length;Se++)oe(U[Se],`${le}[${Se}]`)}function Z(U,le){ae(U,le);for(let Se=0;Se<U.length;Se++)W(U[Se],`${le}[${Se}]`)}function V(U,le){ae(U,le);for(let Se=0;Se<U.length;Se++){let he=U[Se],Ne=`${le}[${Se}]`;if(he==null)throw new p(Ne,"AbortSignal",he);ge(he,Ne)}}function pe(U,le="signal"){if(oe(U,le),R[U]===void 0)throw R[g(U)]!==void 0?new D(U+" (signals must use all capital letters)"):new D(U)}var ee=v((U,le="buffer")=>{if(!M(U))throw new p(le,["Buffer","TypedArray","DataView"],U)});function Y(U,le){let Se=C(le),he=U.length;if(Se==="hex"&&he%2!==0)throw new b("encoding",le,`is invalid for data of length ${he}`)}function Q(U,le="Port",Se=!0){if(typeof U!="number"&&typeof U!="string"||typeof U=="string"&&m(U).length===0||+U!==+U>>>0||U>65535||U===0&&!Se)throw new y(le,U,Se);return U|0}var ge=v((U,le)=>{if(U!==void 0&&(U===null||typeof U!="object"||!("aborted"in U)))throw new p(le,"AbortSignal",U)}),ye=v((U,le)=>{if(typeof U!="function")throw new p(le,"Function",U)}),k=v((U,le)=>{if(typeof U!="function"||S(U))throw new p(le,"Function",U)}),L=v((U,le)=>{if(U!==void 0)throw new p(le,"undefined",U)});function K(U,le,Se){if(!i(Se,U))throw new p(le,`('${r(Se,"|")}')`,U)}var se=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ce(U,le){if(typeof U>"u"||!f(se,U))throw new b(le,U,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function fe(U){if(typeof U=="string")return ce(U,"hints"),U;if(t(U)){let le=U.length,Se="";if(le===0)return Se;for(let he=0;he<le;he++){let Ne=U[he];ce(Ne,"hints"),Se+=Ne,he!==le-1&&(Se+=", ")}return Se}throw new b("hints",U,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}n.exports={isInt32:$,isUint32:B,parseFileMode:F,validateArray:ae,validateStringArray:be,validateBooleanArray:Z,validateAbortSignalArray:V,validateBoolean:W,validateBuffer:ee,validateDictionary:Ce,validateEncoding:Y,validateFunction:ye,validateInt32:J,validateInteger:j,validateNumber:q,validateObject:ue,validateOneOf:O,validatePlainFunction:k,validatePort:Q,validateSignalName:pe,validateString:oe,validateUint32:ie,validateUndefined:L,validateUnion:K,validateAbortSignal:ge,validateLinkHeaderValue:fe}}),yo=we((e,n)=>{me(),ve(),_e();var t=n.exports={},i,r;function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?i=setTimeout:i=o}catch{i=o}try{typeof clearTimeout=="function"?r=clearTimeout:r=s}catch{r=s}})();function a(y){if(i===setTimeout)return setTimeout(y,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(y,0);try{return i(y,0)}catch{try{return i.call(null,y,0)}catch{return i.call(this,y,0)}}}function l(y){if(r===clearTimeout)return clearTimeout(y);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(y);try{return r(y)}catch{try{return r.call(null,y)}catch{return r.call(this,y)}}}var c=[],u=!1,d,f=-1;function h(){!u||!d||(u=!1,d.length?c=d.concat(c):f=-1,c.length&&g())}function g(){if(!u){var y=a(h);u=!0;for(var p=c.length;p;){for(d=c,c=[];++f<p;)d&&d[f].run();f=-1,p=c.length}d=null,u=!1,l(y)}}t.nextTick=function(y){var p=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)p[b-1]=arguments[b];c.push(new m(y,p)),c.length===1&&!u&&a(g)};function m(y,p){this.fun=y,this.array=p}m.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function v(){}t.on=v,t.addListener=v,t.once=v,t.off=v,t.removeListener=v,t.removeAllListeners=v,t.emit=v,t.prependListener=v,t.prependOnceListener=v,t.listeners=function(y){return[]},t.binding=function(y){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(y){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}}),ir=we((e,n)=>{"use strict";me(),ve(),_e();var{SymbolAsyncIterator:t,SymbolIterator:i,SymbolFor:r}=Lt(),o=r("nodejs.stream.destroyed"),s=r("nodejs.stream.errored"),a=r("nodejs.stream.readable"),l=r("nodejs.stream.writable"),c=r("nodejs.stream.disturbed"),u=r("nodejs.webstream.isClosedPromise"),d=r("nodejs.webstream.controllerErrorFunction");function f(I,ue=!1){var Ce;return!!(I&&typeof I.pipe=="function"&&typeof I.on=="function"&&(!ue||typeof I.pause=="function"&&typeof I.resume=="function")&&(!I._writableState||((Ce=I._readableState)===null||Ce===void 0?void 0:Ce.readable)!==!1)&&(!I._writableState||I._readableState))}function h(I){var ue;return!!(I&&typeof I.write=="function"&&typeof I.on=="function"&&(!I._readableState||((ue=I._writableState)===null||ue===void 0?void 0:ue.writable)!==!1))}function g(I){return!!(I&&typeof I.pipe=="function"&&I._readableState&&typeof I.on=="function"&&typeof I.write=="function")}function m(I){return I&&(I._readableState||I._writableState||typeof I.write=="function"&&typeof I.on=="function"||typeof I.pipe=="function"&&typeof I.on=="function")}function v(I){return!!(I&&!m(I)&&typeof I.pipeThrough=="function"&&typeof I.getReader=="function"&&typeof I.cancel=="function")}function y(I){return!!(I&&!m(I)&&typeof I.getWriter=="function"&&typeof I.abort=="function")}function p(I){return!!(I&&!m(I)&&typeof I.readable=="object"&&typeof I.writable=="object")}function b(I){return v(I)||y(I)||p(I)}function x(I,ue){return I==null?!1:ue===!0?typeof I[t]=="function":ue===!1?typeof I[i]=="function":typeof I[t]=="function"||typeof I[i]=="function"}function D(I){if(!m(I))return null;let ue=I._writableState,Ce=I._readableState,ae=ue||Ce;return!!(I.destroyed||I[o]||ae!=null&&ae.destroyed)}function C(I){if(!h(I))return null;if(I.writableEnded===!0)return!0;let ue=I._writableState;return ue!=null&&ue.errored?!1:typeof ue?.ended!="boolean"?null:ue.ended}function S(I,ue){if(!h(I))return null;if(I.writableFinished===!0)return!0;let Ce=I._writableState;return Ce!=null&&Ce.errored?!1:typeof Ce?.finished!="boolean"?null:!!(Ce.finished||ue===!1&&Ce.ended===!0&&Ce.length===0)}function M(I){if(!f(I))return null;if(I.readableEnded===!0)return!0;let ue=I._readableState;return!ue||ue.errored?!1:typeof ue?.ended!="boolean"?null:ue.ended}function R(I,ue){if(!f(I))return null;let Ce=I._readableState;return Ce!=null&&Ce.errored?!1:typeof Ce?.endEmitted!="boolean"?null:!!(Ce.endEmitted||ue===!1&&Ce.ended===!0&&Ce.length===0)}function $(I){return I&&I[a]!=null?I[a]:typeof I?.readable!="boolean"?null:D(I)?!1:f(I)&&I.readable&&!R(I)}function B(I){return I&&I[l]!=null?I[l]:typeof I?.writable!="boolean"?null:D(I)?!1:h(I)&&I.writable&&!C(I)}function T(I,ue){return m(I)?D(I)?!0:!(ue?.readable!==!1&&$(I)||ue?.writable!==!1&&B(I)):null}function P(I){var ue,Ce;return m(I)?I.writableErrored?I.writableErrored:(ue=(Ce=I._writableState)===null||Ce===void 0?void 0:Ce.errored)!==null&&ue!==void 0?ue:null:null}function F(I){var ue,Ce;return m(I)?I.readableErrored?I.readableErrored:(ue=(Ce=I._readableState)===null||Ce===void 0?void 0:Ce.errored)!==null&&ue!==void 0?ue:null:null}function j(I){if(!m(I))return null;if(typeof I.closed=="boolean")return I.closed;let ue=I._writableState,Ce=I._readableState;return typeof ue?.closed=="boolean"||typeof Ce?.closed=="boolean"?ue?.closed||Ce?.closed:typeof I._closed=="boolean"&&J(I)?I._closed:null}function J(I){return typeof I._closed=="boolean"&&typeof I._defaultKeepAlive=="boolean"&&typeof I._removedConnection=="boolean"&&typeof I._removedContLen=="boolean"}function ie(I){return typeof I._sent100=="boolean"&&J(I)}function oe(I){var ue;return typeof I._consuming=="boolean"&&typeof I._dumped=="boolean"&&((ue=I.req)===null||ue===void 0?void 0:ue.upgradeOrConnect)===void 0}function q(I){if(!m(I))return null;let ue=I._writableState,Ce=I._readableState,ae=ue||Ce;return!ae&&ie(I)||!!(ae&&ae.autoDestroy&&ae.emitClose&&ae.closed===!1)}function O(I){var ue;return!!(I&&((ue=I[c])!==null&&ue!==void 0?ue:I.readableDidRead||I.readableAborted))}function W(I){var ue,Ce,ae,be,Z,V,pe,ee,Y,Q;return!!(I&&((ue=(Ce=(ae=(be=(Z=(V=I[s])!==null&&V!==void 0?V:I.readableErrored)!==null&&Z!==void 0?Z:I.writableErrored)!==null&&be!==void 0?be:(pe=I._readableState)===null||pe===void 0?void 0:pe.errorEmitted)!==null&&ae!==void 0?ae:(ee=I._writableState)===null||ee===void 0?void 0:ee.errorEmitted)!==null&&Ce!==void 0?Ce:(Y=I._readableState)===null||Y===void 0?void 0:Y.errored)!==null&&ue!==void 0?ue:!((Q=I._writableState)===null||Q===void 0)&&Q.errored))}n.exports={isDestroyed:D,kIsDestroyed:o,isDisturbed:O,kIsDisturbed:c,isErrored:W,kIsErrored:s,isReadable:$,kIsReadable:a,kIsClosedPromise:u,kControllerErrorFunction:d,kIsWritable:l,isClosed:j,isDuplexNodeStream:g,isFinished:T,isIterable:x,isReadableNodeStream:f,isReadableStream:v,isReadableEnded:M,isReadableFinished:R,isReadableErrored:F,isNodeStream:m,isWebStream:b,isWritable:B,isWritableNodeStream:h,isWritableStream:y,isWritableEnded:C,isWritableFinished:S,isWritableErrored:P,isServerRequest:oe,isServerResponse:ie,willEmitClose:q,isTransformStream:p}}),Nr=we((e,n)=>{"use strict";me(),ve(),_e();var t=yo(),{AbortError:i,codes:r}=Tn(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_PREMATURE_CLOSE:s}=r,{kEmptyObject:a,once:l}=Pn(),{validateAbortSignal:c,validateFunction:u,validateObject:d,validateBoolean:f}=ka(),{Promise:h,PromisePrototypeThen:g,SymbolDispose:m}=Lt(),{isClosed:v,isReadable:y,isReadableNodeStream:p,isReadableStream:b,isReadableFinished:x,isReadableErrored:D,isWritable:C,isWritableNodeStream:S,isWritableStream:M,isWritableFinished:R,isWritableErrored:$,isNodeStream:B,willEmitClose:T,kIsClosedPromise:P}=ir(),F;function j(O){return O.setHeader&&typeof O.abort=="function"}var J=()=>{};function ie(O,W,I){var ue,Ce;if(arguments.length===2?(I=W,W=a):W==null?W=a:d(W,"options"),u(I,"callback"),c(W.signal,"options.signal"),I=l(I),b(O)||M(O))return oe(O,W,I);if(!B(O))throw new o("stream",["ReadableStream","WritableStream","Stream"],O);let ae=(ue=W.readable)!==null&&ue!==void 0?ue:p(O),be=(Ce=W.writable)!==null&&Ce!==void 0?Ce:S(O),Z=O._writableState,V=O._readableState,pe=()=>{O.writable||Q()},ee=T(O)&&p(O)===ae&&S(O)===be,Y=R(O,!1),Q=()=>{Y=!0,O.destroyed&&(ee=!1),!(ee&&(!O.readable||ae))&&(!ae||ge)&&I.call(O)},ge=x(O,!1),ye=()=>{ge=!0,O.destroyed&&(ee=!1),!(ee&&(!O.writable||be))&&(!be||Y)&&I.call(O)},k=U=>{I.call(O,U)},L=v(O),K=()=>{L=!0;let U=$(O)||D(O);if(U&&typeof U!="boolean")return I.call(O,U);if(ae&&!ge&&p(O,!0)&&!x(O,!1))return I.call(O,new s);if(be&&!Y&&!R(O,!1))return I.call(O,new s);I.call(O)},se=()=>{L=!0;let U=$(O)||D(O);if(U&&typeof U!="boolean")return I.call(O,U);I.call(O)},ce=()=>{O.req.on("finish",Q)};j(O)?(O.on("complete",Q),ee||O.on("abort",K),O.req?ce():O.on("request",ce)):be&&!Z&&(O.on("end",pe),O.on("close",pe)),!ee&&typeof O.aborted=="boolean"&&O.on("aborted",K),O.on("end",ye),O.on("finish",Q),W.error!==!1&&O.on("error",k),O.on("close",K),L?t.nextTick(K):Z!=null&&Z.errorEmitted||V!=null&&V.errorEmitted?ee||t.nextTick(se):(!ae&&(!ee||y(O))&&(Y||C(O)===!1)||!be&&(!ee||C(O))&&(ge||y(O)===!1)||V&&O.req&&O.aborted)&&t.nextTick(se);let fe=()=>{I=J,O.removeListener("aborted",K),O.removeListener("complete",Q),O.removeListener("abort",K),O.removeListener("request",ce),O.req&&O.req.removeListener("finish",Q),O.removeListener("end",pe),O.removeListener("close",pe),O.removeListener("finish",Q),O.removeListener("end",ye),O.removeListener("error",k),O.removeListener("close",K)};if(W.signal&&!L){let U=()=>{let le=I;fe(),le.call(O,new i(void 0,{cause:W.signal.reason}))};if(W.signal.aborted)t.nextTick(U);else{F=F||Pn().addAbortListener;let le=F(W.signal,U),Se=I;I=l((...he)=>{le[m](),Se.apply(O,he)})}}return fe}function oe(O,W,I){let ue=!1,Ce=J;if(W.signal)if(Ce=()=>{ue=!0,I.call(O,new i(void 0,{cause:W.signal.reason}))},W.signal.aborted)t.nextTick(Ce);else{F=F||Pn().addAbortListener;let be=F(W.signal,Ce),Z=I;I=l((...V)=>{be[m](),Z.apply(O,V)})}let ae=(...be)=>{ue||t.nextTick(()=>I.apply(O,be))};return g(O[P].promise,ae,ae),J}function q(O,W){var I;let ue=!1;return W===null&&(W=a),(I=W)!==null&&I!==void 0&&I.cleanup&&(f(W.cleanup,"cleanup"),ue=W.cleanup),new h((Ce,ae)=>{let be=ie(O,W,Z=>{ue&&be(),Z?ae(Z):Ce()})})}n.exports=ie,n.exports.finished=q}),ms=we((e,n)=>{"use strict";me(),ve(),_e();var t=yo(),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:o}=Tn(),{Symbol:s}=Lt(),{kIsDestroyed:a,isDestroyed:l,isFinished:c,isServerRequest:u}=ir(),d=s("kDestroy"),f=s("kConstruct");function h(T,P,F){T&&(T.stack,P&&!P.errored&&(P.errored=T),F&&!F.errored&&(F.errored=T))}function g(T,P){let F=this._readableState,j=this._writableState,J=j||F;return j!=null&&j.destroyed||F!=null&&F.destroyed?(typeof P=="function"&&P(),this):(h(T,j,F),j&&(j.destroyed=!0),F&&(F.destroyed=!0),J.constructed?m(this,T,P):this.once(d,function(ie){m(this,i(ie,T),P)}),this)}function m(T,P,F){let j=!1;function J(ie){if(j)return;j=!0;let oe=T._readableState,q=T._writableState;h(ie,q,oe),q&&(q.closed=!0),oe&&(oe.closed=!0),typeof F=="function"&&F(ie),ie?t.nextTick(v,T,ie):t.nextTick(y,T)}try{T._destroy(P||null,J)}catch(ie){J(ie)}}function v(T,P){p(T,P),y(T)}function y(T){let P=T._readableState,F=T._writableState;F&&(F.closeEmitted=!0),P&&(P.closeEmitted=!0),(F!=null&&F.emitClose||P!=null&&P.emitClose)&&T.emit("close")}function p(T,P){let F=T._readableState,j=T._writableState;j!=null&&j.errorEmitted||F!=null&&F.errorEmitted||(j&&(j.errorEmitted=!0),F&&(F.errorEmitted=!0),T.emit("error",P))}function b(){let T=this._readableState,P=this._writableState;T&&(T.constructed=!0,T.closed=!1,T.closeEmitted=!1,T.destroyed=!1,T.errored=null,T.errorEmitted=!1,T.reading=!1,T.ended=T.readable===!1,T.endEmitted=T.readable===!1),P&&(P.constructed=!0,P.destroyed=!1,P.closed=!1,P.closeEmitted=!1,P.errored=null,P.errorEmitted=!1,P.finalCalled=!1,P.prefinished=!1,P.ended=P.writable===!1,P.ending=P.writable===!1,P.finished=P.writable===!1)}function x(T,P,F){let j=T._readableState,J=T._writableState;if(J!=null&&J.destroyed||j!=null&&j.destroyed)return this;j!=null&&j.autoDestroy||J!=null&&J.autoDestroy?T.destroy(P):P&&(P.stack,J&&!J.errored&&(J.errored=P),j&&!j.errored&&(j.errored=P),F?t.nextTick(p,T,P):p(T,P))}function D(T,P){if(typeof T._construct!="function")return;let F=T._readableState,j=T._writableState;F&&(F.constructed=!1),j&&(j.constructed=!1),T.once(f,P),!(T.listenerCount(f)>1)&&t.nextTick(C,T)}function C(T){let P=!1;function F(j){if(P){x(T,j??new r);return}P=!0;let J=T._readableState,ie=T._writableState,oe=ie||J;J&&(J.constructed=!0),ie&&(ie.constructed=!0),oe.destroyed?T.emit(d,j):j?x(T,j,!0):t.nextTick(S,T)}try{T._construct(j=>{t.nextTick(F,j)})}catch(j){t.nextTick(F,j)}}function S(T){T.emit(f)}function M(T){return T?.setHeader&&typeof T.abort=="function"}function R(T){T.emit("close")}function $(T,P){T.emit("error",P),t.nextTick(R,T)}function B(T,P){!T||l(T)||(!P&&!c(T)&&(P=new o),u(T)?(T.socket=null,T.destroy(P)):M(T)?T.abort():M(T.req)?T.req.abort():typeof T.destroy=="function"?T.destroy(P):typeof T.close=="function"?T.close():P?t.nextTick($,T,P):t.nextTick(R,T),T.destroyed||(T[a]=!0))}n.exports={construct:D,destroyer:B,destroy:g,undestroy:b,errorOrDestroy:x}}),nm=we((e,n)=>{"use strict";me(),ve(),_e();var{ArrayIsArray:t,ObjectSetPrototypeOf:i}=Lt(),{EventEmitter:r}=(vo(),St(Or));function o(a){r.call(this,a)}i(o.prototype,r.prototype),i(o,r),o.prototype.pipe=function(a,l){let c=this;function u(y){a.writable&&a.write(y)===!1&&c.pause&&c.pause()}c.on("data",u);function d(){c.readable&&c.resume&&c.resume()}a.on("drain",d),!a._isStdio&&(!l||l.end!==!1)&&(c.on("end",h),c.on("close",g));let f=!1;function h(){f||(f=!0,a.end())}function g(){f||(f=!0,typeof a.destroy=="function"&&a.destroy())}function m(y){v(),r.listenerCount(this,"error")===0&&this.emit("error",y)}s(c,"error",m),s(a,"error",m);function v(){c.removeListener("data",u),a.removeListener("drain",d),c.removeListener("end",h),c.removeListener("close",g),c.removeListener("error",m),a.removeListener("error",m),c.removeListener("end",v),c.removeListener("close",v),a.removeListener("close",v)}return c.on("end",v),c.on("close",v),a.on("close",v),a.emit("pipe",c),a};function s(a,l,c){if(typeof a.prependListener=="function")return a.prependListener(l,c);!a._events||!a._events[l]?a.on(l,c):t(a._events[l])?a._events[l].unshift(c):a._events[l]=[c,a._events[l]]}n.exports={Stream:o,prependListener:s}}),Su=we((e,n)=>{"use strict";me(),ve(),_e();var{SymbolDispose:t}=Lt(),{AbortError:i,codes:r}=Tn(),{isNodeStream:o,isWebStream:s,kControllerErrorFunction:a}=ir(),l=Nr(),{ERR_INVALID_ARG_TYPE:c}=r,u,d=(f,h)=>{if(typeof f!="object"||!("aborted"in f))throw new c(h,"AbortSignal",f)};n.exports.addAbortSignal=function(f,h){if(d(f,"signal"),!o(h)&&!s(h))throw new c("stream",["ReadableStream","WritableStream","Stream"],h);return n.exports.addAbortSignalNoValidate(f,h)},n.exports.addAbortSignalNoValidate=function(f,h){if(typeof f!="object"||!("aborted"in f))return h;let g=o(h)?()=>{h.destroy(new i(void 0,{cause:f.reason}))}:()=>{h[a](new i(void 0,{cause:f.reason}))};if(f.aborted)g();else{u=u||Pn().addAbortListener;let m=u(f,g);l(h,m[t])}return h}}),ek=we((e,n)=>{"use strict";me(),ve(),_e();var{StringPrototypeSlice:t,SymbolIterator:i,TypedArrayPrototypeSet:r,Uint8Array:o}=Lt(),{Buffer:s}=(ln(),St(an)),{inspect:a}=Pn();n.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(l){let c={data:l,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}unshift(l){let c={data:l,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}shift(){if(this.length===0)return;let l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}clear(){this.head=this.tail=null,this.length=0}join(l){if(this.length===0)return"";let c=this.head,u=""+c.data;for(;(c=c.next)!==null;)u+=l+c.data;return u}concat(l){if(this.length===0)return s.alloc(0);let c=s.allocUnsafe(l>>>0),u=this.head,d=0;for(;u;)r(c,u.data,d),d+=u.data.length,u=u.next;return c}consume(l,c){let u=this.head.data;if(l<u.length){let d=u.slice(0,l);return this.head.data=u.slice(l),d}return l===u.length?this.shift():c?this._getString(l):this._getBuffer(l)}first(){return this.head.data}*[i](){for(let l=this.head;l;l=l.next)yield l.data}_getString(l){let c="",u=this.head,d=0;do{let f=u.data;if(l>f.length)c+=f,l-=f.length;else{l===f.length?(c+=f,++d,u.next?this.head=u.next:this.head=this.tail=null):(c+=t(f,0,l),this.head=u,u.data=t(f,l));break}++d}while((u=u.next)!==null);return this.length-=d,c}_getBuffer(l){let c=s.allocUnsafe(l),u=l,d=this.head,f=0;do{let h=d.data;if(l>h.length)r(c,h,u-l),l-=h.length;else{l===h.length?(r(c,h,u-l),++f,d.next?this.head=d.next:this.head=this.tail=null):(r(c,new o(h.buffer,h.byteOffset,l),u-l),this.head=d,d.data=h.slice(l));break}++f}while((d=d.next)!==null);return this.length-=f,c}[Symbol.for("nodejs.util.inspect.custom")](l,c){return a(this,st(Te({},c),{depth:0,customInspect:!1}))}}}),Iu=we((e,n)=>{"use strict";me(),ve(),_e();var{MathFloor:t,NumberIsInteger:i}=Lt(),{validateInteger:r}=ka(),{ERR_INVALID_ARG_VALUE:o}=Tn().codes,s=16*1024,a=16;function l(f,h,g){return f.highWaterMark!=null?f.highWaterMark:h?f[g]:null}function c(f){return f?a:s}function u(f,h){r(h,"value",0),f?a=h:s=h}function d(f,h,g,m){let v=l(h,m,g);if(v!=null){if(!i(v)||v<0){let y=m?`options.${g}`:"options.highWaterMark";throw new o(y,v)}return t(v)}return c(f.objectMode)}n.exports={getHighWaterMark:d,getDefaultHighWaterMark:c,setDefaultHighWaterMark:u}}),tk=we((e,n)=>{me(),ve(),_e();var t=(ln(),St(an)),i=t.Buffer;function r(s,a){for(var l in s)a[l]=s[l]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?n.exports=t:(r(t,e),e.Buffer=o);function o(s,a,l){return i(s,a,l)}o.prototype=Object.create(i.prototype),r(i,o),o.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return i(s,a,l)},o.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=i(s);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return i(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(s)}}),nk=we(e=>{"use strict";me(),ve(),_e();var n=tk().Buffer,t=n.isEncoding||function(p){switch(p=""+p,p&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(p){if(!p)return"utf8";for(var b;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(b)return;p=(""+p).toLowerCase(),b=!0}}function r(p){var b=i(p);if(typeof b!="string"&&(n.isEncoding===t||!t(p)))throw new Error("Unknown encoding: "+p);return b||p}e.StringDecoder=o;function o(p){this.encoding=r(p);var b;switch(this.encoding){case"utf16le":this.text=f,this.end=h,b=4;break;case"utf8":this.fillLast=c,b=4;break;case"base64":this.text=g,this.end=m,b=3;break;default:this.write=v,this.end=y;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(b)}o.prototype.write=function(p){if(p.length===0)return"";var b,x;if(this.lastNeed){if(b=this.fillLast(p),b===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<p.length?b?b+this.text(p,x):this.text(p,x):b||""},o.prototype.end=d,o.prototype.text=u,o.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length};function s(p){return p<=127?0:p>>5===6?2:p>>4===14?3:p>>3===30?4:p>>6===2?-1:-2}function a(p,b,x){var D=b.length-1;if(D<x)return 0;var C=s(b[D]);return C>=0?(C>0&&(p.lastNeed=C-1),C):--D<x||C===-2?0:(C=s(b[D]),C>=0?(C>0&&(p.lastNeed=C-2),C):--D<x||C===-2?0:(C=s(b[D]),C>=0?(C>0&&(C===2?C=0:p.lastNeed=C-3),C):0))}function l(p,b,x){if((b[0]&192)!==128)return p.lastNeed=0,"\uFFFD";if(p.lastNeed>1&&b.length>1){if((b[1]&192)!==128)return p.lastNeed=1,"\uFFFD";if(p.lastNeed>2&&b.length>2&&(b[2]&192)!==128)return p.lastNeed=2,"\uFFFD"}}function c(p){var b=this.lastTotal-this.lastNeed,x=l(this,p,b);if(x!==void 0)return x;if(this.lastNeed<=p.length)return p.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,b,0,p.length),this.lastNeed-=p.length}function u(p,b){var x=a(this,p,b);if(!this.lastNeed)return p.toString("utf8",b);this.lastTotal=x;var D=p.length-(x-this.lastNeed);return p.copy(this.lastChar,0,D),p.toString("utf8",b,D)}function d(p){var b=p&&p.length?this.write(p):"";return this.lastNeed?b+"\uFFFD":b}function f(p,b){if((p.length-b)%2===0){var x=p.toString("utf16le",b);if(x){var D=x.charCodeAt(x.length-1);if(D>=55296&&D<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",b,p.length-1)}function h(p){var b=p&&p.length?this.write(p):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,x)}return b}function g(p,b){var x=(p.length-b)%3;return x===0?p.toString("base64",b):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",b,p.length-x))}function m(p){var b=p&&p.length?this.write(p):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function v(p){return p.toString(this.encoding)}function y(p){return p&&p.length?this.write(p):""}}),Kw=we((e,n)=>{"use strict";me(),ve(),_e();var t=yo(),{PromisePrototypeThen:i,SymbolAsyncIterator:r,SymbolIterator:o}=Lt(),{Buffer:s}=(ln(),St(an)),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:l}=Tn().codes;function c(u,d,f){let h;if(typeof d=="string"||d instanceof s)return new u(st(Te({objectMode:!0},f),{read(){this.push(d),this.push(null)}}));let g;if(d&&d[r])g=!0,h=d[r]();else if(d&&d[o])g=!1,h=d[o]();else throw new a("iterable",["Iterable"],d);let m=new u(Te({objectMode:!0,highWaterMark:1},f)),v=!1;m._read=function(){v||(v=!0,p())},m._destroy=function(b,x){i(y(b),()=>t.nextTick(x,b),D=>t.nextTick(x,D||b))};function y(b){return ct(this,null,function*(){let x=b!=null,D=typeof h.throw=="function";if(x&&D){let{value:C,done:S}=yield h.throw(b);if(yield C,S)return}if(typeof h.return=="function"){let{value:C}=yield h.return();yield C}})}function p(){return ct(this,null,function*(){for(;;){try{let{value:b,done:x}=g?yield h.next():h.next();if(x)m.push(null);else{let D=b&&typeof b.then=="function"?yield b:b;if(D===null)throw v=!1,new l;if(m.push(D))continue;v=!1}}catch(b){m.destroy(b)}break}})}return m}n.exports=c}),Mu=we((e,n)=>{"use strict";me(),ve(),_e();var t=yo(),{ArrayPrototypeIndexOf:i,NumberIsInteger:r,NumberIsNaN:o,NumberParseInt:s,ObjectDefineProperties:a,ObjectKeys:l,ObjectSetPrototypeOf:c,Promise:u,SafeSet:d,SymbolAsyncDispose:f,SymbolAsyncIterator:h,Symbol:g}=Lt();n.exports=he,he.ReadableState=Se;var{EventEmitter:m}=(vo(),St(Or)),{Stream:v,prependListener:y}=nm(),{Buffer:p}=(ln(),St(an)),{addAbortSignal:b}=Su(),x=Nr(),D=Pn().debuglog("stream",A=>{D=A}),C=ek(),S=ms(),{getHighWaterMark:M,getDefaultHighWaterMark:R}=Iu(),{aggregateTwoErrors:$,codes:{ERR_INVALID_ARG_TYPE:B,ERR_METHOD_NOT_IMPLEMENTED:T,ERR_OUT_OF_RANGE:P,ERR_STREAM_PUSH_AFTER_EOF:F,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:j},AbortError:J}=Tn(),{validateObject:ie}=ka(),oe=g("kPaused"),{StringDecoder:q}=nk(),O=Kw();c(he.prototype,v.prototype),c(he,v);var W=()=>{},{errorOrDestroy:I}=S,ue=1,Ce=2,ae=4,be=8,Z=16,V=32,pe=64,ee=128,Y=256,Q=512,ge=1024,ye=2048,k=4096,L=8192,K=16384,se=32768,ce=65536,fe=1<<17,U=1<<18;function le(A){return{enumerable:!1,get(){return(this.state&A)!==0},set(N){N?this.state|=A:this.state&=~A}}}a(Se.prototype,{objectMode:le(ue),ended:le(Ce),endEmitted:le(ae),reading:le(be),constructed:le(Z),sync:le(V),needReadable:le(pe),emittedReadable:le(ee),readableListening:le(Y),resumeScheduled:le(Q),errorEmitted:le(ge),emitClose:le(ye),autoDestroy:le(k),destroyed:le(L),closed:le(K),closeEmitted:le(se),multiAwaitDrain:le(ce),readingMore:le(fe),dataEmitted:le(U)});function Se(A,N,xe){typeof xe!="boolean"&&(xe=N instanceof tr()),this.state=ye|k|Z|V,A&&A.objectMode&&(this.state|=ue),xe&&A&&A.readableObjectMode&&(this.state|=ue),this.highWaterMark=A?M(this,A,"readableHighWaterMark",xe):R(!1),this.buffer=new C,this.length=0,this.pipes=[],this.flowing=null,this[oe]=null,A&&A.emitClose===!1&&(this.state&=~ye),A&&A.autoDestroy===!1&&(this.state&=~k),this.errored=null,this.defaultEncoding=A&&A.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,A&&A.encoding&&(this.decoder=new q(A.encoding),this.encoding=A.encoding)}function he(A){if(!(this instanceof he))return new he(A);let N=this instanceof tr();this._readableState=new Se(A,this,N),A&&(typeof A.read=="function"&&(this._read=A.read),typeof A.destroy=="function"&&(this._destroy=A.destroy),typeof A.construct=="function"&&(this._construct=A.construct),A.signal&&!N&&b(A.signal,this)),v.call(this,A),S.construct(this,()=>{this._readableState.needReadable&&it(this,this._readableState)})}he.prototype.destroy=S.destroy,he.prototype._undestroy=S.undestroy,he.prototype._destroy=function(A,N){N(A)},he.prototype[m.captureRejectionSymbol]=function(A){this.destroy(A)},he.prototype[f]=function(){let A;return this.destroyed||(A=this.readableEnded?null:new J,this.destroy(A)),new u((N,xe)=>x(this,Ae=>Ae&&Ae!==A?xe(Ae):N(null)))},he.prototype.push=function(A,N){return Ne(this,A,N,!1)},he.prototype.unshift=function(A,N){return Ne(this,A,N,!0)};function Ne(A,N,xe,Ae){D("readableAddChunk",N);let Re=A._readableState,gn;if(Re.state&ue||(typeof N=="string"?(xe=xe||Re.defaultEncoding,Re.encoding!==xe&&(Ae&&Re.encoding?N=p.from(N,xe).toString(Re.encoding):(N=p.from(N,xe),xe=""))):N instanceof p?xe="":v._isUint8Array(N)?(N=v._uint8ArrayToBuffer(N),xe=""):N!=null&&(gn=new B("chunk",["string","Buffer","Uint8Array"],N))),gn)I(A,gn);else if(N===null)Re.state&=~be,G(A,Re);else if(Re.state&ue||N&&N.length>0)if(Ae)if(Re.state&ae)I(A,new j);else{if(Re.destroyed||Re.errored)return!1;_(A,Re,N,!0)}else if(Re.ended)I(A,new F);else{if(Re.destroyed||Re.errored)return!1;Re.state&=~be,Re.decoder&&!xe?(N=Re.decoder.write(N),Re.objectMode||N.length!==0?_(A,Re,N,!1):it(A,Re)):_(A,Re,N,!1)}else Ae||(Re.state&=~be,it(A,Re));return!Re.ended&&(Re.length<Re.highWaterMark||Re.length===0)}function _(A,N,xe,Ae){N.flowing&&N.length===0&&!N.sync&&A.listenerCount("data")>0?(N.state&ce?N.awaitDrainWriters.clear():N.awaitDrainWriters=null,N.dataEmitted=!0,A.emit("data",xe)):(N.length+=N.objectMode?1:xe.length,Ae?N.buffer.unshift(xe):N.buffer.push(xe),N.state&pe&&re(A)),it(A,N)}he.prototype.isPaused=function(){let A=this._readableState;return A[oe]===!0||A.flowing===!1},he.prototype.setEncoding=function(A){let N=new q(A);this._readableState.decoder=N,this._readableState.encoding=this._readableState.decoder.encoding;let xe=this._readableState.buffer,Ae="";for(let Re of xe)Ae+=N.write(Re);return xe.clear(),Ae!==""&&xe.push(Ae),this._readableState.length=Ae.length,this};var w=1073741824;function E(A){if(A>w)throw new P("size","<= 1GiB",A);return A--,A|=A>>>1,A|=A>>>2,A|=A>>>4,A|=A>>>8,A|=A>>>16,A++,A}function H(A,N){return A<=0||N.length===0&&N.ended?0:N.state&ue?1:o(A)?N.flowing&&N.length?N.buffer.first().length:N.length:A<=N.length?A:N.ended?N.length:0}he.prototype.read=function(A){D("read",A),A===void 0?A=NaN:r(A)||(A=s(A,10));let N=this._readableState,xe=A;if(A>N.highWaterMark&&(N.highWaterMark=E(A)),A!==0&&(N.state&=~ee),A===0&&N.needReadable&&((N.highWaterMark!==0?N.length>=N.highWaterMark:N.length>0)||N.ended))return D("read: emitReadable",N.length,N.ended),N.length===0&&N.ended?xo(this):re(this),null;if(A=H(A,N),A===0&&N.ended)return N.length===0&&xo(this),null;let Ae=(N.state&pe)!==0;if(D("need readable",Ae),(N.length===0||N.length-A<N.highWaterMark)&&(Ae=!0,D("length less than watermark",Ae)),N.ended||N.reading||N.destroyed||N.errored||!N.constructed)Ae=!1,D("reading, ended or constructing",Ae);else if(Ae){D("do read"),N.state|=be|V,N.length===0&&(N.state|=pe);try{this._read(N.highWaterMark)}catch(gn){I(this,gn)}N.state&=~V,N.reading||(A=H(xe,N))}let Re;return A>0?Re=za(A,N):Re=null,Re===null?(N.needReadable=N.length<=N.highWaterMark,A=0):(N.length-=A,N.multiAwaitDrain?N.awaitDrainWriters.clear():N.awaitDrainWriters=null),N.length===0&&(N.ended||(N.needReadable=!0),xe!==A&&N.ended&&xo(this)),Re!==null&&!N.errorEmitted&&!N.closeEmitted&&(N.dataEmitted=!0,this.emit("data",Re)),Re};function G(A,N){if(D("onEofChunk"),!N.ended){if(N.decoder){let xe=N.decoder.end();xe&&xe.length&&(N.buffer.push(xe),N.length+=N.objectMode?1:xe.length)}N.ended=!0,N.sync?re(A):(N.needReadable=!1,N.emittedReadable=!0,De(A))}}function re(A){let N=A._readableState;D("emitReadable",N.needReadable,N.emittedReadable),N.needReadable=!1,N.emittedReadable||(D("emitReadable",N.flowing),N.emittedReadable=!0,t.nextTick(De,A))}function De(A){let N=A._readableState;D("emitReadable_",N.destroyed,N.length,N.ended),!N.destroyed&&!N.errored&&(N.length||N.ended)&&(A.emit("readable"),N.emittedReadable=!1),N.needReadable=!N.flowing&&!N.ended&&N.length<=N.highWaterMark,Ts(A)}function it(A,N){!N.readingMore&&N.constructed&&(N.readingMore=!0,t.nextTick(ht,A,N))}function ht(A,N){for(;!N.reading&&!N.ended&&(N.length<N.highWaterMark||N.flowing&&N.length===0);){let xe=N.length;if(D("maybeReadMore read 0"),A.read(0),xe===N.length)break}N.readingMore=!1}he.prototype._read=function(A){throw new T("_read()")},he.prototype.pipe=function(A,N){let xe=this,Ae=this._readableState;Ae.pipes.length===1&&(Ae.multiAwaitDrain||(Ae.multiAwaitDrain=!0,Ae.awaitDrainWriters=new d(Ae.awaitDrainWriters?[Ae.awaitDrainWriters]:[]))),Ae.pipes.push(A),D("pipe count=%d opts=%j",Ae.pipes.length,N);let Re=(!N||N.end!==!1)&&A!==t.stdout&&A!==t.stderr?Wn:As;Ae.endEmitted?t.nextTick(Re):xe.once("end",Re),A.on("unpipe",gn);function gn(Br,Fi){D("onunpipe"),Br===xe&&Fi&&Fi.hasUnpiped===!1&&(Fi.hasUnpiped=!0,TE())}function Wn(){D("onend"),A.end()}let Pr,Rm=!1;function TE(){D("cleanup"),A.removeListener("close",Ld),A.removeListener("finish",jd),Pr&&A.removeListener("drain",Pr),A.removeListener("error",Bd),A.removeListener("unpipe",gn),xe.removeListener("end",Wn),xe.removeListener("end",As),xe.removeListener("data",Fm),Rm=!0,Pr&&Ae.awaitDrainWriters&&(!A._writableState||A._writableState.needDrain)&&Pr()}function km(){Rm||(Ae.pipes.length===1&&Ae.pipes[0]===A?(D("false write response, pause",0),Ae.awaitDrainWriters=A,Ae.multiAwaitDrain=!1):Ae.pipes.length>1&&Ae.pipes.includes(A)&&(D("false write response, pause",Ae.awaitDrainWriters.size),Ae.awaitDrainWriters.add(A)),xe.pause()),Pr||(Pr=Ct(xe,A),A.on("drain",Pr))}xe.on("data",Fm);function Fm(Br){D("ondata");let Fi=A.write(Br);D("dest.write",Fi),Fi===!1&&km()}function Bd(Br){if(D("onerror",Br),As(),A.removeListener("error",Bd),A.listenerCount("error")===0){let Fi=A._writableState||A._readableState;Fi&&!Fi.errorEmitted?I(A,Br):A.emit("error",Br)}}y(A,"error",Bd);function Ld(){A.removeListener("finish",jd),As()}A.once("close",Ld);function jd(){D("onfinish"),A.removeListener("close",Ld),As()}A.once("finish",jd);function As(){D("unpipe"),xe.unpipe(A)}return A.emit("pipe",xe),A.writableNeedDrain===!0?km():Ae.flowing||(D("pipe resume"),xe.resume()),A};function Ct(A,N){return function(){let xe=A._readableState;xe.awaitDrainWriters===N?(D("pipeOnDrain",1),xe.awaitDrainWriters=null):xe.multiAwaitDrain&&(D("pipeOnDrain",xe.awaitDrainWriters.size),xe.awaitDrainWriters.delete(N)),(!xe.awaitDrainWriters||xe.awaitDrainWriters.size===0)&&A.listenerCount("data")&&A.resume()}}he.prototype.unpipe=function(A){let N=this._readableState,xe={hasUnpiped:!1};if(N.pipes.length===0)return this;if(!A){let Re=N.pipes;N.pipes=[],this.pause();for(let gn=0;gn<Re.length;gn++)Re[gn].emit("unpipe",this,{hasUnpiped:!1});return this}let Ae=i(N.pipes,A);return Ae===-1?this:(N.pipes.splice(Ae,1),N.pipes.length===0&&this.pause(),A.emit("unpipe",this,xe),this)},he.prototype.on=function(A,N){let xe=v.prototype.on.call(this,A,N),Ae=this._readableState;return A==="data"?(Ae.readableListening=this.listenerCount("readable")>0,Ae.flowing!==!1&&this.resume()):A==="readable"&&!Ae.endEmitted&&!Ae.readableListening&&(Ae.readableListening=Ae.needReadable=!0,Ae.flowing=!1,Ae.emittedReadable=!1,D("on readable",Ae.length,Ae.reading),Ae.length?re(this):Ae.reading||t.nextTick(Ot,this)),xe},he.prototype.addListener=he.prototype.on,he.prototype.removeListener=function(A,N){let xe=v.prototype.removeListener.call(this,A,N);return A==="readable"&&t.nextTick(ut,this),xe},he.prototype.off=he.prototype.removeListener,he.prototype.removeAllListeners=function(A){let N=v.prototype.removeAllListeners.apply(this,arguments);return(A==="readable"||A===void 0)&&t.nextTick(ut,this),N};function ut(A){let N=A._readableState;N.readableListening=A.listenerCount("readable")>0,N.resumeScheduled&&N[oe]===!1?N.flowing=!0:A.listenerCount("data")>0?A.resume():N.readableListening||(N.flowing=null)}function Ot(A){D("readable nexttick read 0"),A.read(0)}he.prototype.resume=function(){let A=this._readableState;return A.flowing||(D("resume"),A.flowing=!A.readableListening,Wa(this,A)),A[oe]=!1,this};function Wa(A,N){N.resumeScheduled||(N.resumeScheduled=!0,t.nextTick(Rd,A,N))}function Rd(A,N){D("resume",N.reading),N.reading||A.read(0),N.resumeScheduled=!1,A.emit("resume"),Ts(A),N.flowing&&!N.reading&&A.read(0)}he.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[oe]=!0,this};function Ts(A){let N=A._readableState;for(D("flow",N.flowing);N.flowing&&A.read()!==null;);}he.prototype.wrap=function(A){let N=!1;A.on("data",Ae=>{!this.push(Ae)&&A.pause&&(N=!0,A.pause())}),A.on("end",()=>{this.push(null)}),A.on("error",Ae=>{I(this,Ae)}),A.on("close",()=>{this.destroy()}),A.on("destroy",()=>{this.destroy()}),this._read=()=>{N&&A.resume&&(N=!1,A.resume())};let xe=l(A);for(let Ae=1;Ae<xe.length;Ae++){let Re=xe[Ae];this[Re]===void 0&&typeof A[Re]=="function"&&(this[Re]=A[Re].bind(A))}return this},he.prototype[h]=function(){return qa(this)},he.prototype.iterator=function(A){return A!==void 0&&ie(A,"options"),qa(this,A)};function qa(A,N){typeof A.read!="function"&&(A=he.wrap(A,{objectMode:!0}));let xe=kd(A,N);return xe.stream=A,xe}function kd(A,N){return Pi(this,null,function*(){let xe=W;function Ae(Wn){this===A?(xe(),xe=W):xe=Wn}A.on("readable",Ae);let Re,gn=x(A,{writable:!1},Wn=>{Re=Wn?$(Re,Wn):null,xe(),xe=W});try{for(;;){let Wn=A.destroyed?null:A.read();if(Wn!==null)yield Wn;else{if(Re)throw Re;if(Re===null)return;yield new xn(new u(Ae))}}}catch(Wn){throw Re=$(Re,Wn),Re}finally{(Re||N?.destroyOnReturn!==!1)&&(Re===void 0||A._readableState.autoDestroy)?S.destroyer(A,null):(A.off("readable",Ae),gn())}})}a(he.prototype,{readable:{__proto__:null,get(){let A=this._readableState;return!!A&&A.readable!==!1&&!A.destroyed&&!A.errorEmitted&&!A.endEmitted},set(A){this._readableState&&(this._readableState.readable=!!A)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(A){this._readableState&&(this._readableState.flowing=A)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(A){this._readableState&&(this._readableState.destroyed=A)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(Se.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[oe]!==!1},set(A){this[oe]=!!A}}}),he._fromList=za;function za(A,N){if(N.length===0)return null;let xe;return N.objectMode?xe=N.buffer.shift():!A||A>=N.length?(N.decoder?xe=N.buffer.join(""):N.buffer.length===1?xe=N.buffer.first():xe=N.buffer.concat(N.length),N.buffer.clear()):xe=N.buffer.consume(A,N.decoder),xe}function xo(A){let N=A._readableState;D("endReadable",N.endEmitted),N.endEmitted||(N.ended=!0,t.nextTick(Fd,N,A))}function Fd(A,N){if(D("endReadableNT",A.endEmitted,A.length),!A.errored&&!A.closeEmitted&&!A.endEmitted&&A.length===0){if(A.endEmitted=!0,N.emit("end"),N.writable&&N.allowHalfOpen===!1)t.nextTick(Pd,N);else if(A.autoDestroy){let xe=N._writableState;(!xe||xe.autoDestroy&&(xe.finished||xe.writable===!1))&&N.destroy()}}}function Pd(A){A.writable&&!A.writableEnded&&!A.destroyed&&A.end()}he.from=function(A,N){return O(he,A,N)};var Do;function Qa(){return Do===void 0&&(Do={}),Do}he.fromWeb=function(A,N){return Qa().newStreamReadableFromReadableStream(A,N)},he.toWeb=function(A,N){return Qa().newReadableStreamFromStreamReadable(A,N)},he.wrap=function(A,N){var xe,Ae;return new he(st(Te({objectMode:(xe=(Ae=A.readableObjectMode)!==null&&Ae!==void 0?Ae:A.objectMode)!==null&&xe!==void 0?xe:!0},N),{destroy(Re,gn){S.destroyer(A,Re),gn(Re)}})).wrap(A)}}),im=we((e,n)=>{"use strict";me(),ve(),_e();var t=yo(),{ArrayPrototypeSlice:i,Error:r,FunctionPrototypeSymbolHasInstance:o,ObjectDefineProperty:s,ObjectDefineProperties:a,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:c,Symbol:u,SymbolHasInstance:d}=Lt();n.exports=ie,ie.WritableState=j;var{EventEmitter:f}=(vo(),St(Or)),h=nm().Stream,{Buffer:g}=(ln(),St(an)),m=ms(),{addAbortSignal:v}=Su(),{getHighWaterMark:y,getDefaultHighWaterMark:p}=Iu(),{ERR_INVALID_ARG_TYPE:b,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:D,ERR_STREAM_CANNOT_PIPE:C,ERR_STREAM_DESTROYED:S,ERR_STREAM_ALREADY_FINISHED:M,ERR_STREAM_NULL_VALUES:R,ERR_STREAM_WRITE_AFTER_END:$,ERR_UNKNOWN_ENCODING:B}=Tn().codes,{errorOrDestroy:T}=m;l(ie.prototype,h.prototype),l(ie,h);function P(){}var F=u("kOnFinished");function j(k,L,K){typeof K!="boolean"&&(K=L instanceof tr()),this.objectMode=!!(k&&k.objectMode),K&&(this.objectMode=this.objectMode||!!(k&&k.writableObjectMode)),this.highWaterMark=k?y(this,k,"writableHighWaterMark",K):p(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let se=!!(k&&k.decodeStrings===!1);this.decodeStrings=!se,this.defaultEncoding=k&&k.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=I.bind(void 0,L),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,J(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!k||k.emitClose!==!1,this.autoDestroy=!k||k.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[F]=[]}function J(k){k.buffered=[],k.bufferedIndex=0,k.allBuffers=!0,k.allNoop=!0}j.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},s(j.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ie(k){let L=this instanceof tr();if(!L&&!o(ie,this))return new ie(k);this._writableState=new j(k,this,L),k&&(typeof k.write=="function"&&(this._write=k.write),typeof k.writev=="function"&&(this._writev=k.writev),typeof k.destroy=="function"&&(this._destroy=k.destroy),typeof k.final=="function"&&(this._final=k.final),typeof k.construct=="function"&&(this._construct=k.construct),k.signal&&v(k.signal,this)),h.call(this,k),m.construct(this,()=>{let K=this._writableState;K.writing||be(this,K),ee(this,K)})}s(ie,d,{__proto__:null,value:function(k){return o(this,k)?!0:this!==ie?!1:k&&k._writableState instanceof j}}),ie.prototype.pipe=function(){T(this,new C)};function oe(k,L,K,se){let ce=k._writableState;if(typeof K=="function")se=K,K=ce.defaultEncoding;else{if(!K)K=ce.defaultEncoding;else if(K!=="buffer"&&!g.isEncoding(K))throw new B(K);typeof se!="function"&&(se=P)}if(L===null)throw new R;if(!ce.objectMode)if(typeof L=="string")ce.decodeStrings!==!1&&(L=g.from(L,K),K="buffer");else if(L instanceof g)K="buffer";else if(h._isUint8Array(L))L=h._uint8ArrayToBuffer(L),K="buffer";else throw new b("chunk",["string","Buffer","Uint8Array"],L);let fe;return ce.ending?fe=new $:ce.destroyed&&(fe=new S("write")),fe?(t.nextTick(se,fe),T(k,fe,!0),fe):(ce.pendingcb++,q(k,ce,L,K,se))}ie.prototype.write=function(k,L,K){return oe(this,k,L,K)===!0},ie.prototype.cork=function(){this._writableState.corked++},ie.prototype.uncork=function(){let k=this._writableState;k.corked&&(k.corked--,k.writing||be(this,k))},ie.prototype.setDefaultEncoding=function(k){if(typeof k=="string"&&(k=c(k)),!g.isEncoding(k))throw new B(k);return this._writableState.defaultEncoding=k,this};function q(k,L,K,se,ce){let fe=L.objectMode?1:K.length;L.length+=fe;let U=L.length<L.highWaterMark;return U||(L.needDrain=!0),L.writing||L.corked||L.errored||!L.constructed?(L.buffered.push({chunk:K,encoding:se,callback:ce}),L.allBuffers&&se!=="buffer"&&(L.allBuffers=!1),L.allNoop&&ce!==P&&(L.allNoop=!1)):(L.writelen=fe,L.writecb=ce,L.writing=!0,L.sync=!0,k._write(K,se,L.onwrite),L.sync=!1),U&&!L.errored&&!L.destroyed}function O(k,L,K,se,ce,fe,U){L.writelen=se,L.writecb=U,L.writing=!0,L.sync=!0,L.destroyed?L.onwrite(new S("write")):K?k._writev(ce,L.onwrite):k._write(ce,fe,L.onwrite),L.sync=!1}function W(k,L,K,se){--L.pendingcb,se(K),ae(L),T(k,K)}function I(k,L){let K=k._writableState,se=K.sync,ce=K.writecb;if(typeof ce!="function"){T(k,new D);return}K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0,L?(L.stack,K.errored||(K.errored=L),k._readableState&&!k._readableState.errored&&(k._readableState.errored=L),se?t.nextTick(W,k,K,L,ce):W(k,K,L,ce)):(K.buffered.length>K.bufferedIndex&&be(k,K),se?K.afterWriteTickInfo!==null&&K.afterWriteTickInfo.cb===ce?K.afterWriteTickInfo.count++:(K.afterWriteTickInfo={count:1,cb:ce,stream:k,state:K},t.nextTick(ue,K.afterWriteTickInfo)):Ce(k,K,1,ce))}function ue({stream:k,state:L,count:K,cb:se}){return L.afterWriteTickInfo=null,Ce(k,L,K,se)}function Ce(k,L,K,se){for(!L.ending&&!k.destroyed&&L.length===0&&L.needDrain&&(L.needDrain=!1,k.emit("drain"));K-- >0;)L.pendingcb--,se();L.destroyed&&ae(L),ee(k,L)}function ae(k){if(k.writing)return;for(let ce=k.bufferedIndex;ce<k.buffered.length;++ce){var L;let{chunk:fe,callback:U}=k.buffered[ce],le=k.objectMode?1:fe.length;k.length-=le,U((L=k.errored)!==null&&L!==void 0?L:new S("write"))}let K=k[F].splice(0);for(let ce=0;ce<K.length;ce++){var se;K[ce]((se=k.errored)!==null&&se!==void 0?se:new S("end"))}J(k)}function be(k,L){if(L.corked||L.bufferProcessing||L.destroyed||!L.constructed)return;let{buffered:K,bufferedIndex:se,objectMode:ce}=L,fe=K.length-se;if(!fe)return;let U=se;if(L.bufferProcessing=!0,fe>1&&k._writev){L.pendingcb-=fe-1;let le=L.allNoop?P:he=>{for(let Ne=U;Ne<K.length;++Ne)K[Ne].callback(he)},Se=L.allNoop&&U===0?K:i(K,U);Se.allBuffers=L.allBuffers,O(k,L,!0,L.length,Se,"",le),J(L)}else{do{let{chunk:le,encoding:Se,callback:he}=K[U];K[U++]=null;let Ne=ce?1:le.length;O(k,L,!1,Ne,le,Se,he)}while(U<K.length&&!L.writing);U===K.length?J(L):U>256?(K.splice(0,U),L.bufferedIndex=0):L.bufferedIndex=U}L.bufferProcessing=!1}ie.prototype._write=function(k,L,K){if(this._writev)this._writev([{chunk:k,encoding:L}],K);else throw new x("_write()")},ie.prototype._writev=null,ie.prototype.end=function(k,L,K){let se=this._writableState;typeof k=="function"?(K=k,k=null,L=null):typeof L=="function"&&(K=L,L=null);let ce;if(k!=null){let fe=oe(this,k,L);fe instanceof r&&(ce=fe)}return se.corked&&(se.corked=1,this.uncork()),ce||(!se.errored&&!se.ending?(se.ending=!0,ee(this,se,!0),se.ended=!0):se.finished?ce=new M("end"):se.destroyed&&(ce=new S("end"))),typeof K=="function"&&(ce||se.finished?t.nextTick(K,ce):se[F].push(K)),this};function Z(k){return k.ending&&!k.destroyed&&k.constructed&&k.length===0&&!k.errored&&k.buffered.length===0&&!k.finished&&!k.writing&&!k.errorEmitted&&!k.closeEmitted}function V(k,L){let K=!1;function se(ce){if(K){T(k,ce??D());return}if(K=!0,L.pendingcb--,ce){let fe=L[F].splice(0);for(let U=0;U<fe.length;U++)fe[U](ce);T(k,ce,L.sync)}else Z(L)&&(L.prefinished=!0,k.emit("prefinish"),L.pendingcb++,t.nextTick(Y,k,L))}L.sync=!0,L.pendingcb++;try{k._final(se)}catch(ce){se(ce)}L.sync=!1}function pe(k,L){!L.prefinished&&!L.finalCalled&&(typeof k._final=="function"&&!L.destroyed?(L.finalCalled=!0,V(k,L)):(L.prefinished=!0,k.emit("prefinish")))}function ee(k,L,K){Z(L)&&(pe(k,L),L.pendingcb===0&&(K?(L.pendingcb++,t.nextTick((se,ce)=>{Z(ce)?Y(se,ce):ce.pendingcb--},k,L)):Z(L)&&(L.pendingcb++,Y(k,L))))}function Y(k,L){L.pendingcb--,L.finished=!0;let K=L[F].splice(0);for(let se=0;se<K.length;se++)K[se]();if(k.emit("finish"),L.autoDestroy){let se=k._readableState;(!se||se.autoDestroy&&(se.endEmitted||se.readable===!1))&&k.destroy()}}a(ie.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(k){this._writableState&&(this._writableState.destroyed=k)}},writable:{__proto__:null,get(){let k=this._writableState;return!!k&&k.writable!==!1&&!k.destroyed&&!k.errored&&!k.ending&&!k.ended},set(k){this._writableState&&(this._writableState.writable=!!k)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let k=this._writableState;return k?!k.destroyed&&!k.ending&&k.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Q=m.destroy;ie.prototype.destroy=function(k,L){let K=this._writableState;return!K.destroyed&&(K.bufferedIndex<K.buffered.length||K[F].length)&&t.nextTick(ae,K),Q.call(this,k,L),this},ie.prototype._undestroy=m.undestroy,ie.prototype._destroy=function(k,L){L(k)},ie.prototype[f.captureRejectionSymbol]=function(k){this.destroy(k)};var ge;function ye(){return ge===void 0&&(ge={}),ge}ie.fromWeb=function(k,L){return ye().newStreamWritableFromWritableStream(k,L)},ie.toWeb=function(k){return ye().newWritableStreamFromStreamWritable(k)}}),ik=we((e,n)=>{me(),ve(),_e();var t=yo(),i=(ln(),St(an)),{isReadable:r,isWritable:o,isIterable:s,isNodeStream:a,isReadableNodeStream:l,isWritableNodeStream:c,isDuplexNodeStream:u,isReadableStream:d,isWritableStream:f}=ir(),h=Nr(),{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:v}}=Tn(),{destroyer:y}=ms(),p=tr(),b=Mu(),x=im(),{createDeferredPromise:D}=Pn(),C=Kw(),S=globalThis.Blob||i.Blob,M=typeof S<"u"?function(F){return F instanceof S}:function(F){return!1},R=globalThis.AbortController||Ra().AbortController,{FunctionPrototypeCall:$}=Lt(),B=class extends p{constructor(F){super(F),F?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),F?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};n.exports=function F(j,J){if(u(j))return j;if(l(j))return P({readable:j});if(c(j))return P({writable:j});if(a(j))return P({writable:!1,readable:!1});if(d(j))return P({readable:b.fromWeb(j)});if(f(j))return P({writable:x.fromWeb(j)});if(typeof j=="function"){let{value:oe,write:q,final:O,destroy:W}=T(j);if(s(oe))return C(B,oe,{objectMode:!0,write:q,final:O,destroy:W});let I=oe?.then;if(typeof I=="function"){let ue,Ce=$(I,oe,ae=>{if(ae!=null)throw new v("nully","body",ae)},ae=>{y(ue,ae)});return ue=new B({objectMode:!0,readable:!1,write:q,final(ae){O(()=>ct(this,null,function*(){try{yield Ce,t.nextTick(ae,null)}catch(be){t.nextTick(ae,be)}}))},destroy:W})}throw new v("Iterable, AsyncIterable or AsyncFunction",J,oe)}if(M(j))return F(j.arrayBuffer());if(s(j))return C(B,j,{objectMode:!0,writable:!1});if(d(j?.readable)&&f(j?.writable))return B.fromWeb(j);if(typeof j?.writable=="object"||typeof j?.readable=="object"){let oe=j!=null&&j.readable?l(j?.readable)?j?.readable:F(j.readable):void 0,q=j!=null&&j.writable?c(j?.writable)?j?.writable:F(j.writable):void 0;return P({readable:oe,writable:q})}let ie=j?.then;if(typeof ie=="function"){let oe;return $(ie,j,q=>{q!=null&&oe.push(q),oe.push(null)},q=>{y(oe,q)}),oe=new B({objectMode:!0,writable:!1,read(){}})}throw new m(J,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],j)};function T(F){let{promise:j,resolve:J}=D(),ie=new R,oe=ie.signal;return{value:F(function(){return Pi(this,null,function*(){for(;;){let q=j;j=null;let{chunk:O,done:W,cb:I}=yield new xn(q);if(t.nextTick(I),W)return;if(oe.aborted)throw new g(void 0,{cause:oe.reason});({promise:j,resolve:J}=D()),yield O}})}(),{signal:oe}),write(q,O,W){let I=J;J=null,I({chunk:q,done:!1,cb:W})},final(q){let O=J;J=null,O({done:!0,cb:q})},destroy(q,O){ie.abort(),O(q)}}}function P(F){let j=F.readable&&typeof F.readable.read!="function"?b.wrap(F.readable):F.readable,J=F.writable,ie=!!r(j),oe=!!o(J),q,O,W,I,ue;function Ce(ae){let be=I;I=null,be?be(ae):ae&&ue.destroy(ae)}return ue=new B({readableObjectMode:!!(j!=null&&j.readableObjectMode),writableObjectMode:!!(J!=null&&J.writableObjectMode),readable:ie,writable:oe}),oe&&(h(J,ae=>{oe=!1,ae&&y(j,ae),Ce(ae)}),ue._write=function(ae,be,Z){J.write(ae,be)?Z():q=Z},ue._final=function(ae){J.end(),O=ae},J.on("drain",function(){if(q){let ae=q;q=null,ae()}}),J.on("finish",function(){if(O){let ae=O;O=null,ae()}})),ie&&(h(j,ae=>{ie=!1,ae&&y(j,ae),Ce(ae)}),j.on("readable",function(){if(W){let ae=W;W=null,ae()}}),j.on("end",function(){ue.push(null)}),ue._read=function(){for(;;){let ae=j.read();if(ae===null){W=ue._read;return}if(!ue.push(ae))return}}),ue._destroy=function(ae,be){!ae&&I!==null&&(ae=new g),W=null,q=null,O=null,I===null?be(ae):(I=be,y(J,ae),y(j,ae))},ue}}),tr=we((e,n)=>{"use strict";me(),ve(),_e();var{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:r,ObjectSetPrototypeOf:o}=Lt();n.exports=l;var s=Mu(),a=im();o(l.prototype,s.prototype),o(l,s);{let f=r(a.prototype);for(let h=0;h<f.length;h++){let g=f[h];l.prototype[g]||(l.prototype[g]=a.prototype[g])}}function l(f){if(!(this instanceof l))return new l(f);s.call(this,f),a.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(l.prototype,{writable:Te({__proto__:null},i(a.prototype,"writable")),writableHighWaterMark:Te({__proto__:null},i(a.prototype,"writableHighWaterMark")),writableObjectMode:Te({__proto__:null},i(a.prototype,"writableObjectMode")),writableBuffer:Te({__proto__:null},i(a.prototype,"writableBuffer")),writableLength:Te({__proto__:null},i(a.prototype,"writableLength")),writableFinished:Te({__proto__:null},i(a.prototype,"writableFinished")),writableCorked:Te({__proto__:null},i(a.prototype,"writableCorked")),writableEnded:Te({__proto__:null},i(a.prototype,"writableEnded")),writableNeedDrain:Te({__proto__:null},i(a.prototype,"writableNeedDrain")),destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});var c;function u(){return c===void 0&&(c={}),c}l.fromWeb=function(f,h){return u().newStreamDuplexFromReadableWritablePair(f,h)},l.toWeb=function(f){return u().newReadableWritablePairFromDuplex(f)};var d;l.from=function(f){return d||(d=ik()),d(f,"body")}}),Zw=we((e,n)=>{"use strict";me(),ve(),_e();var{ObjectSetPrototypeOf:t,Symbol:i}=Lt();n.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:r}=Tn().codes,o=tr(),{getHighWaterMark:s}=Iu();t(l.prototype,o.prototype),t(l,o);var a=i("kCallback");function l(d){if(!(this instanceof l))return new l(d);let f=d?s(this,d,"readableHighWaterMark",!0):null;f===0&&(d=st(Te({},d),{highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:d.writableHighWaterMark||0})),o.call(this,d),this._readableState.sync=!1,this[a]=null,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",u)}function c(d){typeof this._flush=="function"&&!this.destroyed?this._flush((f,h)=>{if(f){d?d(f):this.destroy(f);return}h!=null&&this.push(h),this.push(null),d&&d()}):(this.push(null),d&&d())}function u(){this._final!==c&&c.call(this)}l.prototype._final=c,l.prototype._transform=function(d,f,h){throw new r("_transform()")},l.prototype._write=function(d,f,h){let g=this._readableState,m=this._writableState,v=g.length;this._transform(d,f,(y,p)=>{if(y){h(y);return}p!=null&&this.push(p),m.ended||v===g.length||g.length<g.highWaterMark?h():this[a]=h})},l.prototype._read=function(){if(this[a]){let d=this[a];this[a]=null,d()}}}),Jw=we((e,n)=>{"use strict";me(),ve(),_e();var{ObjectSetPrototypeOf:t}=Lt();n.exports=r;var i=Zw();t(r.prototype,i.prototype),t(r,i);function r(o){if(!(this instanceof r))return new r(o);i.call(this,o)}r.prototype._transform=function(o,s,a){a(null,o)}}),rm=we((e,n)=>{me(),ve(),_e();var t=yo(),{ArrayIsArray:i,Promise:r,SymbolAsyncIterator:o,SymbolDispose:s}=Lt(),a=Nr(),{once:l}=Pn(),c=ms(),u=tr(),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:m,ERR_STREAM_PREMATURE_CLOSE:v},AbortError:y}=Tn(),{validateFunction:p,validateAbortSignal:b}=ka(),{isIterable:x,isReadable:D,isReadableNodeStream:C,isNodeStream:S,isTransformStream:M,isWebStream:R,isReadableStream:$,isReadableFinished:B}=ir(),T=globalThis.AbortController||Ra().AbortController,P,F,j;function J(ae,be,Z){let V=!1;ae.on("close",()=>{V=!0});let pe=a(ae,{readable:be,writable:Z},ee=>{V=!ee});return{destroy:ee=>{V||(V=!0,c.destroyer(ae,ee||new m("pipe")))},cleanup:pe}}function ie(ae){return p(ae[ae.length-1],"streams[stream.length - 1]"),ae.pop()}function oe(ae){if(x(ae))return ae;if(C(ae))return q(ae);throw new f("val",["Readable","Iterable","AsyncIterable"],ae)}function q(ae){return Pi(this,null,function*(){F||(F=Mu()),yield*ar(F.prototype[o].call(ae))})}function O(pe,ee,Y,Q){return ct(this,arguments,function*(ae,be,Z,{end:V}){let ge,ye=null,k=le=>{if(le&&(ge=le),ye){let Se=ye;ye=null,Se()}},L=()=>new r((le,Se)=>{ge?Se(ge):ye=()=>{ge?Se(ge):le()}});be.on("drain",k);let K=a(be,{readable:!1},k);try{be.writableNeedDrain&&(yield L());try{for(var se=Bn(ae),ce,fe,U;ce=!(fe=yield se.next()).done;ce=!1){let le=fe.value;be.write(le)||(yield L())}}catch{U=[fe]}finally{try{ce&&(fe=se.return)&&(yield fe.call(se))}finally{if(U)throw U[0]}}V&&(be.end(),yield L()),Z()}catch(le){Z(ge!==le?d(ge,le):le)}finally{K(),be.off("drain",k)}})}function W(pe,ee,Y,Q){return ct(this,arguments,function*(ae,be,Z,{end:V}){M(be)&&(be=be.writable);let ge=be.getWriter();try{try{for(var ye=Bn(ae),k,L,K;k=!(L=yield ye.next()).done;k=!1){let se=L.value;yield ge.ready,ge.write(se).catch(()=>{})}}catch{K=[L]}finally{try{k&&(L=ye.return)&&(yield L.call(ye))}finally{if(K)throw K[0]}}yield ge.ready,V&&(yield ge.close()),Z()}catch(se){try{yield ge.abort(se),Z(se)}catch(ce){Z(ce)}}})}function I(...ae){return ue(ae,l(ie(ae)))}function ue(ae,be,Z){if(ae.length===1&&i(ae[0])&&(ae=ae[0]),ae.length<2)throw new g("streams");let V=new T,pe=V.signal,ee=Z?.signal,Y=[];b(ee,"options.signal");function Q(){ce(new y)}j=j||Pn().addAbortListener;let ge;ee&&(ge=j(ee,Q));let ye,k,L=[],K=0;function se(he){ce(he,--K===0)}function ce(he,Ne){var _;if(he&&(!ye||ye.code==="ERR_STREAM_PREMATURE_CLOSE")&&(ye=he),!(!ye&&!Ne)){for(;L.length;)L.shift()(ye);(_=ge)===null||_===void 0||_[s](),V.abort(),Ne&&(ye||Y.forEach(w=>w()),t.nextTick(be,ye,k))}}let fe;for(let he=0;he<ae.length;he++){let Ne=ae[he],_=he<ae.length-1,w=he>0,E=_||Z?.end!==!1,H=he===ae.length-1;if(S(Ne)){let G=function(re){re&&re.name!=="AbortError"&&re.code!=="ERR_STREAM_PREMATURE_CLOSE"&&se(re)};var U=G;if(E){let{destroy:re,cleanup:De}=J(Ne,_,w);L.push(re),D(Ne)&&H&&Y.push(De)}Ne.on("error",G),D(Ne)&&H&&Y.push(()=>{Ne.removeListener("error",G)})}if(he===0)if(typeof Ne=="function"){if(fe=Ne({signal:pe}),!x(fe))throw new h("Iterable, AsyncIterable or Stream","source",fe)}else x(Ne)||C(Ne)||M(Ne)?fe=Ne:fe=u.from(Ne);else if(typeof Ne=="function"){if(M(fe)){var le;fe=oe((le=fe)===null||le===void 0?void 0:le.readable)}else fe=oe(fe);if(fe=Ne(fe,{signal:pe}),_){if(!x(fe,!0))throw new h("AsyncIterable",`transform[${he-1}]`,fe)}else{var Se;P||(P=Jw());let G=new P({objectMode:!0}),re=(Se=fe)===null||Se===void 0?void 0:Se.then;if(typeof re=="function")K++,re.call(fe,ht=>{k=ht,ht!=null&&G.write(ht),E&&G.end(),t.nextTick(se)},ht=>{G.destroy(ht),t.nextTick(se,ht)});else if(x(fe,!0))K++,O(fe,G,se,{end:E});else if($(fe)||M(fe)){let ht=fe.readable||fe;K++,O(ht,G,se,{end:E})}else throw new h("AsyncIterable or Promise","destination",fe);fe=G;let{destroy:De,cleanup:it}=J(fe,!1,!0);L.push(De),H&&Y.push(it)}}else if(S(Ne)){if(C(fe)){K+=2;let G=Ce(fe,Ne,se,{end:E});D(Ne)&&H&&Y.push(G)}else if(M(fe)||$(fe)){let G=fe.readable||fe;K++,O(G,Ne,se,{end:E})}else if(x(fe))K++,O(fe,Ne,se,{end:E});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],fe);fe=Ne}else if(R(Ne)){if(C(fe))K++,W(oe(fe),Ne,se,{end:E});else if($(fe)||x(fe))K++,W(fe,Ne,se,{end:E});else if(M(fe))K++,W(fe.readable,Ne,se,{end:E});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],fe);fe=Ne}else fe=u.from(Ne)}return(pe!=null&&pe.aborted||ee!=null&&ee.aborted)&&t.nextTick(Q),fe}function Ce(ae,be,Z,{end:V}){let pe=!1;if(be.on("close",()=>{pe||Z(new v)}),ae.pipe(be,{end:!1}),V){let Y=function(){pe=!0,be.end()};var ee=Y;B(ae)?t.nextTick(Y):ae.once("end",Y)}else Z();return a(ae,{readable:!0,writable:!1},Y=>{let Q=ae._readableState;Y&&Y.code==="ERR_STREAM_PREMATURE_CLOSE"&&Q&&Q.ended&&!Q.errored&&!Q.errorEmitted?ae.once("end",Z).once("error",Z):Z(Y)}),a(be,{readable:!1,writable:!0},Z)}n.exports={pipelineImpl:ue,pipeline:I}}),Xw=we((e,n)=>{"use strict";me(),ve(),_e();var{pipeline:t}=rm(),i=tr(),{destroyer:r}=ms(),{isNodeStream:o,isReadable:s,isWritable:a,isWebStream:l,isTransformStream:c,isWritableStream:u,isReadableStream:d}=ir(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:g}}=Tn(),m=Nr();n.exports=function(...v){if(v.length===0)throw new g("streams");if(v.length===1)return i.from(v[0]);let y=[...v];if(typeof v[0]=="function"&&(v[0]=i.from(v[0])),typeof v[v.length-1]=="function"){let T=v.length-1;v[T]=i.from(v[T])}for(let T=0;T<v.length;++T)if(!(!o(v[T])&&!l(v[T]))){if(T<v.length-1&&!(s(v[T])||d(v[T])||c(v[T])))throw new h(`streams[${T}]`,y[T],"must be readable");if(T>0&&!(a(v[T])||u(v[T])||c(v[T])))throw new h(`streams[${T}]`,y[T],"must be writable")}let p,b,x,D,C;function S(T){let P=D;D=null,P?P(T):T?C.destroy(T):!B&&!$&&C.destroy()}let M=v[0],R=t(v,S),$=!!(a(M)||u(M)||c(M)),B=!!(s(R)||d(R)||c(R));if(C=new i({writableObjectMode:!!(M!=null&&M.writableObjectMode),readableObjectMode:!!(R!=null&&R.readableObjectMode),writable:$,readable:B}),$){if(o(M))C._write=function(P,F,j){M.write(P,F)?j():p=j},C._final=function(P){M.end(),b=P},M.on("drain",function(){if(p){let P=p;p=null,P()}});else if(l(M)){let P=(c(M)?M.writable:M).getWriter();C._write=function(F,j,J){return ct(this,null,function*(){try{yield P.ready,P.write(F).catch(()=>{}),J()}catch(ie){J(ie)}})},C._final=function(F){return ct(this,null,function*(){try{yield P.ready,P.close().catch(()=>{}),b=F}catch(j){F(j)}})}}let T=c(R)?R.readable:R;m(T,()=>{if(b){let P=b;b=null,P()}})}if(B){if(o(R))R.on("readable",function(){if(x){let T=x;x=null,T()}}),R.on("end",function(){C.push(null)}),C._read=function(){for(;;){let T=R.read();if(T===null){x=C._read;return}if(!C.push(T))return}};else if(l(R)){let T=(c(R)?R.readable:R).getReader();C._read=function(){return ct(this,null,function*(){for(;;)try{let{value:P,done:F}=yield T.read();if(!C.push(P))return;if(F){C.push(null);return}}catch{return}})}}}return C._destroy=function(T,P){!T&&D!==null&&(T=new f),x=null,p=null,b=null,D===null?P(T):(D=P,o(R)&&r(R,T))},C}}),rk=we((e,n)=>{"use strict";me(),ve(),_e();var t=globalThis.AbortController||Ra().AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:o,ERR_OUT_OF_RANGE:s},AbortError:a}=Tn(),{validateAbortSignal:l,validateInteger:c,validateObject:u}=ka(),d=Lt().Symbol("kWeak"),f=Lt().Symbol("kResistStopPropagation"),{finished:h}=Nr(),g=Xw(),{addAbortSignalNoValidate:m}=Su(),{isWritable:v,isNodeStream:y}=ir(),{deprecate:p}=Pn(),{ArrayPrototypePush:b,Boolean:x,MathFloor:D,Number:C,NumberIsNaN:S,Promise:M,PromiseReject:R,PromiseResolve:$,PromisePrototypeThen:B,Symbol:T}=Lt(),P=T("kEmpty"),F=T("kEof");function j(ee,Y){if(Y!=null&&u(Y,"options"),Y?.signal!=null&&l(Y.signal,"options.signal"),y(ee)&&!v(ee))throw new i("stream",ee,"must be writable");let Q=g(this,ee);return Y!=null&&Y.signal&&m(Y.signal,Q),Q}function J(ee,Y){if(typeof ee!="function")throw new r("fn",["Function","AsyncFunction"],ee);Y!=null&&u(Y,"options"),Y?.signal!=null&&l(Y.signal,"options.signal");let Q=1;Y?.concurrency!=null&&(Q=D(Y.concurrency));let ge=Q-1;return Y?.highWaterMark!=null&&(ge=D(Y.highWaterMark)),c(Q,"options.concurrency",1),c(ge,"options.highWaterMark",0),ge+=Q,function(){return Pi(this,null,function*(){let ye=Pn().AbortSignalAny([Y?.signal].filter(x)),k=this,L=[],K={signal:ye},se,ce,fe=!1,U=0;function le(){fe=!0,Se()}function Se(){U-=1,he()}function he(){ce&&!fe&&U<Q&&L.length<ge&&(ce(),ce=null)}function Ne(){return ct(this,null,function*(){try{try{for(var _=Bn(k),w,E,H;w=!(E=yield _.next()).done;w=!1){let G=E.value;if(fe)return;if(ye.aborted)throw new a;try{if(G=ee(G,K),G===P)continue;G=$(G)}catch(re){G=R(re)}U+=1,B(G,Se,le),L.push(G),se&&(se(),se=null),!fe&&(L.length>=ge||U>=Q)&&(yield new M(re=>{ce=re}))}}catch{H=[E]}finally{try{w&&(E=_.return)&&(yield E.call(_))}finally{if(H)throw H[0]}}L.push(F)}catch(G){let re=R(G);B(re,Se,le),L.push(re)}finally{fe=!0,se&&(se(),se=null)}})}Ne();try{for(;;){for(;L.length>0;){let _=yield new xn(L[0]);if(_===F)return;if(ye.aborted)throw new a;_!==P&&(yield _),L.shift(),he()}yield new xn(new M(_=>{se=_}))}}finally{fe=!0,ce&&(ce(),ce=null)}})}.call(this)}function ie(ee=void 0){return ee!=null&&u(ee,"options"),ee?.signal!=null&&l(ee.signal,"options.signal"),function(){return Pi(this,null,function*(){let Y=0;try{for(var ge=Bn(this),ye,k,L;ye=!(k=yield new xn(ge.next())).done;ye=!1){let K=k.value;var Q;if(ee!=null&&(Q=ee.signal)!==null&&Q!==void 0&&Q.aborted)throw new a({cause:ee.signal.reason});yield[Y++,K]}}catch{L=[k]}finally{try{ye&&(k=ge.return)&&(yield new xn(k.call(ge)))}finally{if(L)throw L[0]}}})}.call(this)}function oe(ee,Y=void 0){return ct(this,null,function*(){try{for(var Q=Bn(I.call(this,ee,Y)),ge,ye,k;ge=!(ye=yield Q.next()).done;ge=!1){let L=ye.value;return!0}}catch{k=[ye]}finally{try{ge&&(ye=Q.return)&&(yield ye.call(Q))}finally{if(k)throw k[0]}}return!1})}function q(ee,Y=void 0){return ct(this,null,function*(){if(typeof ee!="function")throw new r("fn",["Function","AsyncFunction"],ee);return!(yield oe.call(this,(...Q)=>ct(this,null,function*(){return!(yield ee(...Q))}),Y))})}function O(ee,Y){return ct(this,null,function*(){try{for(var Q=Bn(I.call(this,ee,Y)),ge,ye,k;ge=!(ye=yield Q.next()).done;ge=!1){let L=ye.value;return L}}catch{k=[ye]}finally{try{ge&&(ye=Q.return)&&(yield ye.call(Q))}finally{if(k)throw k[0]}}})}function W(ee,Y){return ct(this,null,function*(){if(typeof ee!="function")throw new r("fn",["Function","AsyncFunction"],ee);function Q(K,se){return ct(this,null,function*(){return yield ee(K,se),P})}try{for(var ge=Bn(J.call(this,Q,Y)),ye,k,L;ye=!(k=yield ge.next()).done;ye=!1){let K=k.value;;}}catch{L=[k]}finally{try{ye&&(k=ge.return)&&(yield k.call(ge))}finally{if(L)throw L[0]}}})}function I(ee,Y){if(typeof ee!="function")throw new r("fn",["Function","AsyncFunction"],ee);function Q(ge,ye){return ct(this,null,function*(){return(yield ee(ge,ye))?ge:P})}return J.call(this,Q,Y)}var ue=class extends o{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};function Ce(ge,ye,k){return ct(this,arguments,function*(ee,Y,Q){var L;if(typeof ee!="function")throw new r("reducer",["Function","AsyncFunction"],ee);Q!=null&&u(Q,"options"),Q?.signal!=null&&l(Q.signal,"options.signal");let K=arguments.length>1;if(Q!=null&&(L=Q.signal)!==null&&L!==void 0&&L.aborted){let _=new a(void 0,{cause:Q.signal.reason});throw this.once("error",()=>{}),yield h(this.destroy(_)),_}let se=new t,ce=se.signal;if(Q!=null&&Q.signal){let _={once:!0,[d]:this,[f]:!0};Q.signal.addEventListener("abort",()=>se.abort(),_)}let fe=!1;try{try{for(var le=Bn(this),Se,he,Ne;Se=!(he=yield le.next()).done;Se=!1){let _=he.value;var U;if(fe=!0,Q!=null&&(U=Q.signal)!==null&&U!==void 0&&U.aborted)throw new a;K?Y=yield ee(Y,_,{signal:ce}):(Y=_,K=!0)}}catch{Ne=[he]}finally{try{Se&&(he=le.return)&&(yield he.call(le))}finally{if(Ne)throw Ne[0]}}if(!fe&&!K)throw new ue}finally{se.abort()}return Y})}function ae(ee){return ct(this,null,function*(){ee!=null&&u(ee,"options"),ee?.signal!=null&&l(ee.signal,"options.signal");let Y=[];try{for(var ge=Bn(this),ye,k,L;ye=!(k=yield ge.next()).done;ye=!1){let K=k.value;var Q;if(ee!=null&&(Q=ee.signal)!==null&&Q!==void 0&&Q.aborted)throw new a(void 0,{cause:ee.signal.reason});b(Y,K)}}catch{L=[k]}finally{try{ye&&(k=ge.return)&&(yield k.call(ge))}finally{if(L)throw L[0]}}return Y})}function be(ee,Y){let Q=J.call(this,ee,Y);return function(){return Pi(this,null,function*(){try{for(var ge=Bn(Q),ye,k,L;ye=!(k=yield new xn(ge.next())).done;ye=!1){let K=k.value;yield*ar(K)}}catch{L=[k]}finally{try{ye&&(k=ge.return)&&(yield new xn(k.call(ge)))}finally{if(L)throw L[0]}}})}.call(this)}function Z(ee){if(ee=C(ee),S(ee))return 0;if(ee<0)throw new s("number",">= 0",ee);return ee}function V(ee,Y=void 0){return Y!=null&&u(Y,"options"),Y?.signal!=null&&l(Y.signal,"options.signal"),ee=Z(ee),function(){return Pi(this,null,function*(){var Q;if(Y!=null&&(Q=Y.signal)!==null&&Q!==void 0&&Q.aborted)throw new a;try{for(var ye=Bn(this),k,L,K;k=!(L=yield new xn(ye.next())).done;k=!1){let se=L.value;var ge;if(Y!=null&&(ge=Y.signal)!==null&&ge!==void 0&&ge.aborted)throw new a;ee--<=0&&(yield se)}}catch{K=[L]}finally{try{k&&(L=ye.return)&&(yield new xn(L.call(ye)))}finally{if(K)throw K[0]}}})}.call(this)}function pe(ee,Y=void 0){return Y!=null&&u(Y,"options"),Y?.signal!=null&&l(Y.signal,"options.signal"),ee=Z(ee),function(){return Pi(this,null,function*(){var Q;if(Y!=null&&(Q=Y.signal)!==null&&Q!==void 0&&Q.aborted)throw new a;try{for(var ye=Bn(this),k,L,K;k=!(L=yield new xn(ye.next())).done;k=!1){let se=L.value;var ge;if(Y!=null&&(ge=Y.signal)!==null&&ge!==void 0&&ge.aborted)throw new a;if(ee-- >0&&(yield se),ee<=0)return}}catch{K=[L]}finally{try{k&&(L=ye.return)&&(yield new xn(L.call(ye)))}finally{if(K)throw K[0]}}})}.call(this)}n.exports.streamReturningOperators={asIndexedPairs:p(ie,"readable.asIndexedPairs will be removed in a future version."),drop:V,filter:I,flatMap:be,map:J,take:pe,compose:j},n.exports.promiseReturningOperators={every:q,forEach:W,reduce:Ce,toArray:ae,some:oe,find:O}}),eC=we((e,n)=>{"use strict";me(),ve(),_e();var{ArrayPrototypePop:t,Promise:i}=Lt(),{isIterable:r,isNodeStream:o,isWebStream:s}=ir(),{pipelineImpl:a}=rm(),{finished:l}=Nr();tC();function c(...u){return new i((d,f)=>{let h,g,m=u[u.length-1];if(m&&typeof m=="object"&&!o(m)&&!r(m)&&!s(m)){let v=t(u);h=v.signal,g=v.end}a(u,(v,y)=>{v?f(v):d(y)},{signal:h,end:g})})}n.exports={finished:l,pipeline:c}}),tC=we((e,n)=>{"use strict";me(),ve(),_e();var{Buffer:t}=(ln(),St(an)),{ObjectDefineProperty:i,ObjectKeys:r,ReflectApply:o}=Lt(),{promisify:{custom:s}}=Pn(),{streamReturningOperators:a,promiseReturningOperators:l}=rk(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=Tn(),u=Xw(),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:f}=Iu(),{pipeline:h}=rm(),{destroyer:g}=ms(),m=Nr(),v=eC(),y=ir(),p=n.exports=nm().Stream;p.isDestroyed=y.isDestroyed,p.isDisturbed=y.isDisturbed,p.isErrored=y.isErrored,p.isReadable=y.isReadable,p.isWritable=y.isWritable,p.Readable=Mu();for(let x of r(a)){let D=function(...S){if(new.target)throw c();return p.Readable.from(o(C,this,S))},C=a[x];i(D,"name",{__proto__:null,value:C.name}),i(D,"length",{__proto__:null,value:C.length}),i(p.Readable.prototype,x,{__proto__:null,value:D,enumerable:!1,configurable:!0,writable:!0})}for(let x of r(l)){let D=function(...S){if(new.target)throw c();return o(C,this,S)},C=l[x];i(D,"name",{__proto__:null,value:C.name}),i(D,"length",{__proto__:null,value:C.length}),i(p.Readable.prototype,x,{__proto__:null,value:D,enumerable:!1,configurable:!0,writable:!0})}p.Writable=im(),p.Duplex=tr(),p.Transform=Zw(),p.PassThrough=Jw(),p.pipeline=h;var{addAbortSignal:b}=Su();p.addAbortSignal=b,p.finished=m,p.destroy=g,p.compose=u,p.setDefaultHighWaterMark=d,p.getDefaultHighWaterMark=f,i(p,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return v}}),i(h,s,{__proto__:null,enumerable:!0,get(){return v.pipeline}}),i(m,s,{__proto__:null,enumerable:!0,get(){return v.finished}}),p.Stream=p,p._isUint8Array=function(x){return x instanceof Uint8Array},p._uint8ArrayToBuffer=function(x){return t.from(x.buffer,x.byteOffset,x.byteLength)}}),bo=we((e,n)=>{"use strict";me(),ve(),_e();var t=tC(),i=eC(),r=t.Readable.destroy;n.exports=t.Readable,n.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,n.exports._isUint8Array=t._isUint8Array,n.exports.isDisturbed=t.isDisturbed,n.exports.isErrored=t.isErrored,n.exports.isReadable=t.isReadable,n.exports.Readable=t.Readable,n.exports.Writable=t.Writable,n.exports.Duplex=t.Duplex,n.exports.Transform=t.Transform,n.exports.PassThrough=t.PassThrough,n.exports.addAbortSignal=t.addAbortSignal,n.exports.finished=t.finished,n.exports.destroy=t.destroy,n.exports.destroy=r,n.exports.pipeline=t.pipeline,n.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return i}}),n.exports.Stream=t.Stream,n.exports.default=n.exports}),ok=we((e,n)=>{me(),ve(),_e(),typeof Object.create=="function"?n.exports=function(t,i){i&&(t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(t,i){if(i){t.super_=i;var r=function(){};r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t}}}),sk=we((e,n)=>{"use strict";me(),ve(),_e();var{Buffer:t}=(ln(),St(an)),i=Symbol.for("BufferList");function r(o){if(!(this instanceof r))return new r(o);r._init.call(this,o)}r._init=function(o){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,o&&this.append(o)},r.prototype._new=function(o){return new r(o)},r.prototype._offset=function(o){if(o===0)return[0,0];let s=0;for(let a=0;a<this._bufs.length;a++){let l=s+this._bufs[a].length;if(o<l||a===this._bufs.length-1)return[a,o-s];s=l}},r.prototype._reverseOffset=function(o){let s=o[0],a=o[1];for(let l=0;l<s;l++)a+=this._bufs[l].length;return a},r.prototype.get=function(o){if(o>this.length||o<0)return;let s=this._offset(o);return this._bufs[s[0]][s[1]]},r.prototype.slice=function(o,s){return typeof o=="number"&&o<0&&(o+=this.length),typeof s=="number"&&s<0&&(s+=this.length),this.copy(null,0,o,s)},r.prototype.copy=function(o,s,a,l){if((typeof a!="number"||a<0)&&(a=0),(typeof l!="number"||l>this.length)&&(l=this.length),a>=this.length||l<=0)return o||t.alloc(0);let c=!!o,u=this._offset(a),d=l-a,f=d,h=c&&s||0,g=u[1];if(a===0&&l===this.length){if(!c)return this._bufs.length===1?this._bufs[0]:t.concat(this._bufs,this.length);for(let m=0;m<this._bufs.length;m++)this._bufs[m].copy(o,h),h+=this._bufs[m].length;return o}if(f<=this._bufs[u[0]].length-g)return c?this._bufs[u[0]].copy(o,s,g,g+f):this._bufs[u[0]].slice(g,g+f);c||(o=t.allocUnsafe(d));for(let m=u[0];m<this._bufs.length;m++){let v=this._bufs[m].length-g;if(f>v)this._bufs[m].copy(o,h,g),h+=v;else{this._bufs[m].copy(o,h,g,g+f),h+=v;break}f-=v,g&&(g=0)}return o.length>h?o.slice(0,h):o},r.prototype.shallowSlice=function(o,s){if(o=o||0,s=typeof s!="number"?this.length:s,o<0&&(o+=this.length),s<0&&(s+=this.length),o===s)return this._new();let a=this._offset(o),l=this._offset(s),c=this._bufs.slice(a[0],l[0]+1);return l[1]===0?c.pop():c[c.length-1]=c[c.length-1].slice(0,l[1]),a[1]!==0&&(c[0]=c[0].slice(a[1])),this._new(c)},r.prototype.toString=function(o,s,a){return this.slice(s,a).toString(o)},r.prototype.consume=function(o){if(o=Math.trunc(o),Number.isNaN(o)||o<=0)return this;for(;this._bufs.length;)if(o>=this._bufs[0].length)o-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(o),this.length-=o;break}return this},r.prototype.duplicate=function(){let o=this._new();for(let s=0;s<this._bufs.length;s++)o.append(this._bufs[s]);return o},r.prototype.append=function(o){if(o==null)return this;if(o.buffer)this._appendBuffer(t.from(o.buffer,o.byteOffset,o.byteLength));else if(Array.isArray(o))for(let s=0;s<o.length;s++)this.append(o[s]);else if(this._isBufferList(o))for(let s=0;s<o._bufs.length;s++)this.append(o._bufs[s]);else typeof o=="number"&&(o=o.toString()),this._appendBuffer(t.from(o));return this},r.prototype._appendBuffer=function(o){this._bufs.push(o),this.length+=o.length},r.prototype.indexOf=function(o,s,a){if(a===void 0&&typeof s=="string"&&(a=s,s=void 0),typeof o=="function"||Array.isArray(o))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof o=="number"?o=t.from([o]):typeof o=="string"?o=t.from(o,a):this._isBufferList(o)?o=o.slice():Array.isArray(o.buffer)?o=t.from(o.buffer,o.byteOffset,o.byteLength):t.isBuffer(o)||(o=t.from(o)),s=Number(s||0),isNaN(s)&&(s=0),s<0&&(s=this.length+s),s<0&&(s=0),o.length===0)return s>this.length?this.length:s;let l=this._offset(s),c=l[0],u=l[1];for(;c<this._bufs.length;c++){let d=this._bufs[c];for(;u<d.length;)if(d.length-u>=o.length){let f=d.indexOf(o,u);if(f!==-1)return this._reverseOffset([c,f]);u=d.length-o.length+1}else{let f=this._reverseOffset([c,u]);if(this._match(f,o))return f;u++}u=0}return-1},r.prototype._match=function(o,s){if(this.length-o<s.length)return!1;for(let a=0;a<s.length;a++)if(this.get(o+a)!==s[a])return!1;return!0},function(){let o={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let s in o)(function(a){o[a]===null?r.prototype[a]=function(l,c){return this.slice(l,l+c)[a](0,c)}:r.prototype[a]=function(l=0){return this.slice(l,l+o[a])[a](0)}})(s)}(),r.prototype._isBufferList=function(o){return o instanceof r||r.isBufferList(o)},r.isBufferList=function(o){return o!=null&&o[i]},n.exports=r}),ak=we((e,n)=>{"use strict";me(),ve(),_e();var t=bo().Duplex,i=ok(),r=sk();function o(s){if(!(this instanceof o))return new o(s);if(typeof s=="function"){this._callback=s;let a=function(l){this._callback&&(this._callback(l),this._callback=null)}.bind(this);this.on("pipe",function(l){l.on("error",a)}),this.on("unpipe",function(l){l.removeListener("error",a)}),s=null}r._init.call(this,s),t.call(this)}i(o,t),Object.assign(o.prototype,r.prototype),o.prototype._new=function(s){return new o(s)},o.prototype._write=function(s,a,l){this._appendBuffer(s),typeof l=="function"&&l()},o.prototype._read=function(s){if(!this.length)return this.push(null);s=Math.min(s,this.length),this.push(this.slice(0,s)),this.consume(s)},o.prototype.end=function(s){t.prototype.end.call(this,s),this._callback&&(this._callback(null,this.slice()),this._callback=null)},o.prototype._destroy=function(s,a){this._bufs.length=0,this.length=0,a(s)},o.prototype._isBufferList=function(s){return s instanceof o||s instanceof r||o.isBufferList(s)},o.isBufferList=r.isBufferList,n.exports=o,n.exports.BufferListStream=o,n.exports.BufferList=r}),lk=we((e,n)=>{me(),ve(),_e();var t=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};n.exports=t}),nC=we((e,n)=>{me(),ve(),_e();var t=n.exports,{Buffer:i}=(ln(),St(an));t.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},t.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},t.requiredHeaderFlagsErrors={};for(let o in t.requiredHeaderFlags){let s=t.requiredHeaderFlags[o];t.requiredHeaderFlagsErrors[o]="Invalid header flag bits, must be 0x"+s.toString(16)+" for "+t.types[o]+" packet"}t.codes={};for(let o in t.types){let s=t.types[o];t.codes[s]=o}t.CMD_SHIFT=4,t.CMD_MASK=240,t.DUP_MASK=8,t.QOS_MASK=3,t.QOS_SHIFT=1,t.RETAIN_MASK=1,t.VARBYTEINT_MASK=127,t.VARBYTEINT_FIN_MASK=128,t.VARBYTEINT_MAX=268435455,t.SESSIONPRESENT_MASK=1,t.SESSIONPRESENT_HEADER=i.from([t.SESSIONPRESENT_MASK]),t.CONNACK_HEADER=i.from([t.codes.connack<<t.CMD_SHIFT]),t.USERNAME_MASK=128,t.PASSWORD_MASK=64,t.WILL_RETAIN_MASK=32,t.WILL_QOS_MASK=24,t.WILL_QOS_SHIFT=3,t.WILL_FLAG_MASK=4,t.CLEAN_SESSION_MASK=2,t.CONNECT_HEADER=i.from([t.codes.connect<<t.CMD_SHIFT]),t.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},t.propertiesCodes={};for(let o in t.properties){let s=t.properties[o];t.propertiesCodes[s]=o}t.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function r(o){return[0,1,2].map(s=>[0,1].map(a=>[0,1].map(l=>{let c=i.alloc(1);return c.writeUInt8(t.codes[o]<<t.CMD_SHIFT|(a?t.DUP_MASK:0)|s<<t.QOS_SHIFT|l,0,!0),c})))}t.PUBLISH_HEADER=r("publish"),t.SUBSCRIBE_HEADER=r("subscribe"),t.SUBSCRIBE_OPTIONS_QOS_MASK=3,t.SUBSCRIBE_OPTIONS_NL_MASK=1,t.SUBSCRIBE_OPTIONS_NL_SHIFT=2,t.SUBSCRIBE_OPTIONS_RAP_MASK=1,t.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,t.SUBSCRIBE_OPTIONS_RH_MASK=3,t.SUBSCRIBE_OPTIONS_RH_SHIFT=4,t.SUBSCRIBE_OPTIONS_RH=[0,16,32],t.SUBSCRIBE_OPTIONS_NL=4,t.SUBSCRIBE_OPTIONS_RAP=8,t.SUBSCRIBE_OPTIONS_QOS=[0,1,2],t.UNSUBSCRIBE_HEADER=r("unsubscribe"),t.ACKS={unsuback:r("unsuback"),puback:r("puback"),pubcomp:r("pubcomp"),pubrel:r("pubrel"),pubrec:r("pubrec")},t.SUBACK_HEADER=i.from([t.codes.suback<<t.CMD_SHIFT]),t.VERSION3=i.from([3]),t.VERSION4=i.from([4]),t.VERSION5=i.from([5]),t.VERSION131=i.from([131]),t.VERSION132=i.from([132]),t.QOS=[0,1,2].map(o=>i.from([o])),t.EMPTY={pingreq:i.from([t.codes.pingreq<<4,0]),pingresp:i.from([t.codes.pingresp<<4,0]),disconnect:i.from([t.codes.disconnect<<4,0])},t.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},t.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},t.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},t.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},t.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},t.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),ck=we((e,n)=>{me(),ve(),_e();var t=1e3,i=t*60,r=i*60,o=r*24,s=o*7,a=o*365.25;n.exports=function(f,h){h=h||{};var g=typeof f;if(g==="string"&&f.length>0)return l(f);if(g==="number"&&isFinite(f))return h.long?u(f):c(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function l(f){if(f=String(f),!(f.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(h){var g=parseFloat(h[1]),m=(h[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return g*a;case"weeks":case"week":case"w":return g*s;case"days":case"day":case"d":return g*o;case"hours":case"hour":case"hrs":case"hr":case"h":return g*r;case"minutes":case"minute":case"mins":case"min":case"m":return g*i;case"seconds":case"second":case"secs":case"sec":case"s":return g*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function c(f){var h=Math.abs(f);return h>=o?Math.round(f/o)+"d":h>=r?Math.round(f/r)+"h":h>=i?Math.round(f/i)+"m":h>=t?Math.round(f/t)+"s":f+"ms"}function u(f){var h=Math.abs(f);return h>=o?d(f,h,o,"day"):h>=r?d(f,h,r,"hour"):h>=i?d(f,h,i,"minute"):h>=t?d(f,h,t,"second"):f+" ms"}function d(f,h,g,m){var v=h>=g*1.5;return Math.round(f/g)+" "+m+(v?"s":"")}}),uk=we((e,n)=>{me(),ve(),_e();function t(i){o.debug=o,o.default=o,o.coerce=d,o.disable=c,o.enable=a,o.enabled=u,o.humanize=ck(),o.destroy=f,Object.keys(i).forEach(h=>{o[h]=i[h]}),o.names=[],o.skips=[],o.formatters={};function r(h){let g=0;for(let m=0;m<h.length;m++)g=(g<<5)-g+h.charCodeAt(m),g|=0;return o.colors[Math.abs(g)%o.colors.length]}o.selectColor=r;function o(h){let g,m=null,v,y;function p(...b){if(!p.enabled)return;let x=p,D=Number(new Date),C=D-(g||D);x.diff=C,x.prev=g,x.curr=D,g=D,b[0]=o.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let S=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(M,R)=>{if(M==="%%")return"%";S++;let $=o.formatters[R];if(typeof $=="function"){let B=b[S];M=$.call(x,B),b.splice(S,1),S--}return M}),o.formatArgs.call(x,b),(x.log||o.log).apply(x,b)}return p.namespace=h,p.useColors=o.useColors(),p.color=o.selectColor(h),p.extend=s,p.destroy=o.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(v!==o.namespaces&&(v=o.namespaces,y=o.enabled(h)),y),set:b=>{m=b}}),typeof o.init=="function"&&o.init(p),p}function s(h,g){let m=o(this.namespace+(typeof g>"u"?":":g)+h);return m.log=this.log,m}function a(h){o.save(h),o.namespaces=h,o.names=[],o.skips=[];let g=(typeof h=="string"?h:"").trim().replace(" ",",").split(",").filter(Boolean);for(let m of g)m[0]==="-"?o.skips.push(m.slice(1)):o.names.push(m)}function l(h,g){let m=0,v=0,y=-1,p=0;for(;m<h.length;)if(v<g.length&&(g[v]===h[m]||g[v]==="*"))g[v]==="*"?(y=v,p=m,v++):(m++,v++);else if(y!==-1)v=y+1,p++,m=p;else return!1;for(;v<g.length&&g[v]==="*";)v++;return v===g.length}function c(){let h=[...o.names,...o.skips.map(g=>"-"+g)].join(",");return o.enable(""),h}function u(h){for(let g of o.skips)if(l(h,g))return!1;for(let g of o.names)if(l(h,g))return!0;return!1}function d(h){return h instanceof Error?h.stack||h.message:h}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}n.exports=t}),nr=we((e,n)=>{me(),ve(),_e(),e.formatArgs=i,e.save=r,e.load=o,e.useColors=t,e.storage=s(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;l.splice(1,0,c,"color: inherit");let u=0,d=0;l[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(u++,f==="%c"&&(d=u))}),l.splice(d,0,c)}e.log=console.debug||console.log||(()=>{});function r(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function o(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof vt<"u"&&"env"in vt&&(l=vt.env.DEBUG),l}function s(){try{return localStorage}catch{}}n.exports=uk()(e);var{formatters:a}=n.exports;a.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}),dk=we((e,n)=>{me(),ve(),_e();var t=ak(),{EventEmitter:i}=(vo(),St(Or)),r=lk(),o=nC(),s=nr()("mqtt-packet:parser"),a=class $g extends i{constructor(){super(),this.parser=this.constructor.parser}static parser(c){return this instanceof $g?(this.settings=c||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new $g().parser(c)}_resetState(){s("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new r,this.error=null,this._list=t(),this._stateCounter=0}parse(c){for(this.error&&this._resetState(),this._list.append(c),s("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,s("parse: state complete. _stateCounter is now: %d",this._stateCounter),s("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return s("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let c=this._list.readUInt8(0),u=c>>o.CMD_SHIFT;this.packet.cmd=o.types[u];let d=c&15,f=o.requiredHeaderFlags[u];return f!=null&&d!==f?this._emitError(new Error(o.requiredHeaderFlagsErrors[u])):(this.packet.retain=(c&o.RETAIN_MASK)!==0,this.packet.qos=c>>o.QOS_SHIFT&o.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(c&o.DUP_MASK)!==0,s("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let c=this._parseVarByteNum(!0);return c&&(this.packet.length=c.value,this._list.consume(c.bytes)),s("_parseLength %d",c.value),!!c}_parsePayload(){s("_parsePayload: payload %O",this._list);let c=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}c=!0}return s("_parsePayload complete result: %s",c),c}_parseConnect(){s("_parseConnect");let c,u,d,f,h={},g=this.packet,m=this._parseString();if(m===null)return this._emitError(new Error("Cannot parse protocolId"));if(m!=="MQTT"&&m!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(g.protocolId=m,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(g.protocolVersion=this._list.readUInt8(this._pos),g.protocolVersion>=128&&(g.bridgeMode=!0,g.protocolVersion=g.protocolVersion-128),g.protocolVersion!==3&&g.protocolVersion!==4&&g.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));h.username=this._list.readUInt8(this._pos)&o.USERNAME_MASK,h.password=this._list.readUInt8(this._pos)&o.PASSWORD_MASK,h.will=this._list.readUInt8(this._pos)&o.WILL_FLAG_MASK;let v=!!(this._list.readUInt8(this._pos)&o.WILL_RETAIN_MASK),y=(this._list.readUInt8(this._pos)&o.WILL_QOS_MASK)>>o.WILL_QOS_SHIFT;if(h.will)g.will={},g.will.retain=v,g.will.qos=y;else{if(v)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(y)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(g.clean=(this._list.readUInt8(this._pos)&o.CLEAN_SESSION_MASK)!==0,this._pos++,g.keepalive=this._parseNum(),g.keepalive===-1)return this._emitError(new Error("Packet too short"));if(g.protocolVersion===5){let b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(g.properties=b)}let p=this._parseString();if(p===null)return this._emitError(new Error("Packet too short"));if(g.clientId=p,s("_parseConnect: packet.clientId: %s",g.clientId),h.will){if(g.protocolVersion===5){let b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(g.will.properties=b)}if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse will topic"));if(g.will.topic=c,s("_parseConnect: packet.will.topic: %s",g.will.topic),u=this._parseBuffer(),u===null)return this._emitError(new Error("Cannot parse will payload"));g.will.payload=u,s("_parseConnect: packet.will.paylaod: %s",g.will.payload)}if(h.username){if(f=this._parseString(),f===null)return this._emitError(new Error("Cannot parse username"));g.username=f,s("_parseConnect: packet.username: %s",g.username)}if(h.password){if(d=this._parseBuffer(),d===null)return this._emitError(new Error("Cannot parse password"));g.password=d}return this.settings=g,s("_parseConnect: complete"),g}_parseConnack(){s("_parseConnack");let c=this.packet;if(this._list.length<1)return null;let u=this._list.readUInt8(this._pos++);if(u>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(c.sessionPresent=!!(u&o.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?c.reasonCode=this._list.readUInt8(this._pos++):c.reasonCode=0;else{if(this._list.length<2)return null;c.returnCode=this._list.readUInt8(this._pos++)}if(c.returnCode===-1||c.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(c.properties=d)}s("_parseConnack: complete")}_parsePublish(){s("_parsePublish");let c=this.packet;if(c.topic=this._parseString(),c.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(c.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}c.payload=this._list.slice(this._pos,c.length),s("_parsePublish: payload from buffer list: %o",c.payload)}}_parseSubscribe(){s("_parseSubscribe");let c=this.packet,u,d,f,h,g,m,v;if(c.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(c.properties=y)}if(c.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<c.length;){if(u=this._parseString(),u===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=c.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(d=this._parseByte(),this.settings.protocolVersion===5){if(d&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(d&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(f=d&o.SUBSCRIBE_OPTIONS_QOS_MASK,f>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(m=(d>>o.SUBSCRIBE_OPTIONS_NL_SHIFT&o.SUBSCRIBE_OPTIONS_NL_MASK)!==0,g=(d>>o.SUBSCRIBE_OPTIONS_RAP_SHIFT&o.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,h=d>>o.SUBSCRIBE_OPTIONS_RH_SHIFT&o.SUBSCRIBE_OPTIONS_RH_MASK,h>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));v={topic:u,qos:f},this.settings.protocolVersion===5?(v.nl=m,v.rap=g,v.rh=h):this.settings.bridgeMode&&(v.rh=0,v.rap=!0,v.nl=!0),s("_parseSubscribe: push subscription `%s` to subscription",v),c.subscriptions.push(v)}}}_parseSuback(){s("_parseSuback");let c=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}if(c.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let u=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!o.MQTT5_SUBACK_CODES[u])return this._emitError(new Error("Invalid suback code"))}else if(u>2&&u!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(u)}}}_parseUnsubscribe(){s("_parseUnsubscribe");let c=this.packet;if(c.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}if(c.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<c.length;){let u=this._parseString();if(u===null)return this._emitError(new Error("Cannot parse topic"));s("_parseUnsubscribe: push topic `%s` to unsubscriptions",u),c.unsubscriptions.push(u)}}}_parseUnsuback(){s("_parseUnsuback");let c=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&c.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(c.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let u=this._parseProperties();for(Object.getOwnPropertyNames(u).length&&(c.properties=u),c.granted=[];this._pos<this.packet.length;){let d=this._list.readUInt8(this._pos++);if(!o.MQTT5_UNSUBACK_CODES[d])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(d)}}}_parseConfirmation(){s("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let c=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(c.length>2){switch(c.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!o.MQTT5_PUBACK_PUBREC_CODES[c.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!o.MQTT5_PUBREL_PUBCOMP_CODES[c.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}s("_parseConfirmation: packet.reasonCode `%d`",c.reasonCode)}else c.reasonCode=0;if(c.length>3){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}}return!0}_parseDisconnect(){let c=this.packet;if(s("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(c.reasonCode=this._parseByte(),o.MQTT5_DISCONNECT_CODES[c.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):c.reasonCode=0;let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}return s("_parseDisconnect result: true"),!0}_parseAuth(){s("_parseAuth");let c=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(c.reasonCode=this._parseByte(),!o.MQTT5_AUTH_CODES[c.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let u=this._parseProperties();return Object.getOwnPropertyNames(u).length&&(c.properties=u),s("_parseAuth: result: true"),!0}_parseMessageId(){let c=this.packet;return c.messageId=this._parseNum(),c.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(s("_parseMessageId: packet.messageId %d",c.messageId),!0)}_parseString(c){let u=this._parseNum(),d=u+this._pos;if(u===-1||d>this._list.length||d>this.packet.length)return null;let f=this._list.toString("utf8",this._pos,d);return this._pos+=u,s("_parseString: result: %s",f),f}_parseStringPair(){return s("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let c=this._parseNum(),u=c+this._pos;if(c===-1||u>this._list.length||u>this.packet.length)return null;let d=this._list.slice(this._pos,u);return this._pos+=c,s("_parseBuffer: result: %o",d),d}_parseNum(){if(this._list.length-this._pos<2)return-1;let c=this._list.readUInt16BE(this._pos);return this._pos+=2,s("_parseNum: result: %s",c),c}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let c=this._list.readUInt32BE(this._pos);return this._pos+=4,s("_parse4ByteNum: result: %s",c),c}_parseVarByteNum(c){s("_parseVarByteNum");let u=4,d=0,f=1,h=0,g=!1,m,v=this._pos?this._pos:0;for(;d<u&&v+d<this._list.length;){if(m=this._list.readUInt8(v+d++),h+=f*(m&o.VARBYTEINT_MASK),f*=128,!(m&o.VARBYTEINT_FIN_MASK)){g=!0;break}if(this._list.length<=d)break}return!g&&d===u&&this._list.length>=d&&this._emitError(new Error("Invalid variable byte integer")),v&&(this._pos+=d),g?c?g={bytes:d,value:h}:g=h:g=!1,s("_parseVarByteNum: result: %o",g),g}_parseByte(){let c;return this._pos<this._list.length&&(c=this._list.readUInt8(this._pos),this._pos++),s("_parseByte: result: %o",c),c}_parseByType(c){switch(s("_parseByType: type: %s",c),c){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){s("_parseProperties");let c=this._parseVarByteNum(),u=this._pos+c,d={};for(;this._pos<u;){let f=this._parseByte();if(!f)return this._emitError(new Error("Cannot parse property code type")),!1;let h=o.propertiesCodes[f];if(!h)return this._emitError(new Error("Unknown property")),!1;if(h==="userProperties"){d[h]||(d[h]=Object.create(null));let g=this._parseByType(o.propertiesTypes[h]);if(d[h][g.name])if(Array.isArray(d[h][g.name]))d[h][g.name].push(g.value);else{let m=d[h][g.name];d[h][g.name]=[m],d[h][g.name].push(g.value)}else d[h][g.name]=g.value;continue}d[h]?Array.isArray(d[h])?d[h].push(this._parseByType(o.propertiesTypes[h])):(d[h]=[d[h]],d[h].push(this._parseByType(o.propertiesTypes[h]))):d[h]=this._parseByType(o.propertiesTypes[h])}return d}_newPacket(){return s("_newPacket"),this.packet&&(this._list.consume(this.packet.length),s("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),s("_newPacket: new packet"),this.packet=new r,this._pos=0,!0}_emitError(c){s("_emitError",c),this.error=c,this.emit("error",c)}};n.exports=a}),fk=we((e,n)=>{me(),ve(),_e();var{Buffer:t}=(ln(),St(an)),i=65536,r={},o=t.isBuffer(t.from([1,2]).subarray(0,1));function s(u){let d=t.allocUnsafe(2);return d.writeUInt8(u>>8,0),d.writeUInt8(u&255,1),d}function a(){for(let u=0;u<i;u++)r[u]=s(u)}function l(u){let d=0,f=0,h=t.allocUnsafe(4);do d=u%128|0,u=u/128|0,u>0&&(d=d|128),h.writeUInt8(d,f++);while(u>0&&f<4);return u>0&&(f=0),o?h.subarray(0,f):h.slice(0,f)}function c(u){let d=t.allocUnsafe(4);return d.writeUInt32BE(u,0),d}n.exports={cache:r,generateCache:a,generateNumber:s,genBufVariableByteInt:l,generate4ByteBuffer:c}}),hk=we((e,n)=>{"use strict";me(),ve(),_e(),typeof vt>"u"||!vt.version||vt.version.indexOf("v0.")===0||vt.version.indexOf("v1.")===0&&vt.version.indexOf("v1.8.")!==0?n.exports={nextTick:t}:n.exports=vt;function t(i,r,o,s){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var a=arguments.length,l,c;switch(a){case 0:case 1:return vt.nextTick(i);case 2:return vt.nextTick(function(){i.call(null,r)});case 3:return vt.nextTick(function(){i.call(null,r,o)});case 4:return vt.nextTick(function(){i.call(null,r,o,s)});default:for(l=new Array(a-1),c=0;c<l.length;)l[c++]=arguments[c];return vt.nextTick(function(){i.apply(null,l)})}}}),iC=we((e,n)=>{me(),ve(),_e();var t=nC(),{Buffer:i}=(ln(),St(an)),r=i.allocUnsafe(0),o=i.from([0]),s=fk(),a=hk().nextTick,l=nr()("mqtt-packet:writeToStream"),c=s.cache,u=s.generateNumber,d=s.generateCache,f=s.genBufVariableByteInt,h=s.generate4ByteBuffer,g=ie,m=!0;function v(Z,V,pe){switch(l("generate called"),V.cork&&(V.cork(),a(y,V)),m&&(m=!1,d()),l("generate: packet.cmd: %s",Z.cmd),Z.cmd){case"connect":return p(Z,V,pe);case"connack":return b(Z,V,pe);case"publish":return x(Z,V,pe);case"puback":case"pubrec":case"pubrel":case"pubcomp":return D(Z,V,pe);case"subscribe":return C(Z,V,pe);case"suback":return S(Z,V,pe);case"unsubscribe":return M(Z,V,pe);case"unsuback":return R(Z,V,pe);case"pingreq":case"pingresp":return $(Z,V,pe);case"disconnect":return B(Z,V,pe);case"auth":return T(Z,V,pe);default:return V.destroy(new Error("Unknown command")),!1}}Object.defineProperty(v,"cacheNumbers",{get(){return g===ie},set(Z){Z?((!c||Object.keys(c).length===0)&&(m=!0),g=ie):(m=!1,g=oe)}});function y(Z){Z.uncork()}function p(Z,V,pe){let ee=Z||{},Y=ee.protocolId||"MQTT",Q=ee.protocolVersion||4,ge=ee.will,ye=ee.clean,k=ee.keepalive||0,L=ee.clientId||"",K=ee.username,se=ee.password,ce=ee.properties;ye===void 0&&(ye=!0);let fe=0;if(!Y||typeof Y!="string"&&!i.isBuffer(Y))return V.destroy(new Error("Invalid protocolId")),!1;if(fe+=Y.length+2,Q!==3&&Q!==4&&Q!==5)return V.destroy(new Error("Invalid protocol version")),!1;if(fe+=1,(typeof L=="string"||i.isBuffer(L))&&(L||Q>=4)&&(L||ye))fe+=i.byteLength(L)+2;else{if(Q<4)return V.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(ye*1===0)return V.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof k!="number"||k<0||k>65535||k%1!==0)return V.destroy(new Error("Invalid keepalive")),!1;fe+=2,fe+=1;let U,le;if(Q===5){if(U=W(V,ce),!U)return!1;fe+=U.length}if(ge){if(typeof ge!="object")return V.destroy(new Error("Invalid will")),!1;if(!ge.topic||typeof ge.topic!="string")return V.destroy(new Error("Invalid will topic")),!1;if(fe+=i.byteLength(ge.topic)+2,fe+=2,ge.payload)if(ge.payload.length>=0)typeof ge.payload=="string"?fe+=i.byteLength(ge.payload):fe+=ge.payload.length;else return V.destroy(new Error("Invalid will payload")),!1;if(le={},Q===5){if(le=W(V,ge.properties),!le)return!1;fe+=le.length}}let Se=!1;if(K!=null)if(be(K))Se=!0,fe+=i.byteLength(K)+2;else return V.destroy(new Error("Invalid username")),!1;if(se!=null){if(!Se)return V.destroy(new Error("Username is required to use password")),!1;if(be(se))fe+=ae(se)+2;else return V.destroy(new Error("Invalid password")),!1}V.write(t.CONNECT_HEADER),F(V,fe),O(V,Y),ee.bridgeMode&&(Q+=128),V.write(Q===131?t.VERSION131:Q===132?t.VERSION132:Q===4?t.VERSION4:Q===5?t.VERSION5:t.VERSION3);let he=0;return he|=K!=null?t.USERNAME_MASK:0,he|=se!=null?t.PASSWORD_MASK:0,he|=ge&&ge.retain?t.WILL_RETAIN_MASK:0,he|=ge&&ge.qos?ge.qos<<t.WILL_QOS_SHIFT:0,he|=ge?t.WILL_FLAG_MASK:0,he|=ye?t.CLEAN_SESSION_MASK:0,V.write(i.from([he])),g(V,k),Q===5&&U.write(),O(V,L),ge&&(Q===5&&le.write(),j(V,ge.topic),O(V,ge.payload)),K!=null&&O(V,K),se!=null&&O(V,se),!0}function b(Z,V,pe){let ee=pe?pe.protocolVersion:4,Y=Z||{},Q=ee===5?Y.reasonCode:Y.returnCode,ge=Y.properties,ye=2;if(typeof Q!="number")return V.destroy(new Error("Invalid return code")),!1;let k=null;if(ee===5){if(k=W(V,ge),!k)return!1;ye+=k.length}return V.write(t.CONNACK_HEADER),F(V,ye),V.write(Y.sessionPresent?t.SESSIONPRESENT_HEADER:o),V.write(i.from([Q])),k?.write(),!0}function x(Z,V,pe){l("publish: packet: %o",Z);let ee=pe?pe.protocolVersion:4,Y=Z||{},Q=Y.qos||0,ge=Y.retain?t.RETAIN_MASK:0,ye=Y.topic,k=Y.payload||r,L=Y.messageId,K=Y.properties,se=0;if(typeof ye=="string")se+=i.byteLength(ye)+2;else if(i.isBuffer(ye))se+=ye.length+2;else return V.destroy(new Error("Invalid topic")),!1;if(i.isBuffer(k)?se+=k.length:se+=i.byteLength(k),Q&&typeof L!="number")return V.destroy(new Error("Invalid messageId")),!1;Q&&(se+=2);let ce=null;if(ee===5){if(ce=W(V,K),!ce)return!1;se+=ce.length}return V.write(t.PUBLISH_HEADER[Q][Y.dup?1:0][ge?1:0]),F(V,se),g(V,ae(ye)),V.write(ye),Q>0&&g(V,L),ce?.write(),l("publish: payload: %o",k),V.write(k)}function D(Z,V,pe){let ee=pe?pe.protocolVersion:4,Y=Z||{},Q=Y.cmd||"puback",ge=Y.messageId,ye=Y.dup&&Q==="pubrel"?t.DUP_MASK:0,k=0,L=Y.reasonCode,K=Y.properties,se=ee===5?3:2;if(Q==="pubrel"&&(k=1),typeof ge!="number")return V.destroy(new Error("Invalid messageId")),!1;let ce=null;if(ee===5&&typeof K=="object"){if(ce=I(V,K,pe,se),!ce)return!1;se+=ce.length}return V.write(t.ACKS[Q][k][ye][0]),se===3&&(se+=L!==0?1:-1),F(V,se),g(V,ge),ee===5&&se!==2&&V.write(i.from([L])),ce!==null?ce.write():se===4&&V.write(i.from([0])),!0}function C(Z,V,pe){l("subscribe: packet: ");let ee=pe?pe.protocolVersion:4,Y=Z||{},Q=Y.dup?t.DUP_MASK:0,ge=Y.messageId,ye=Y.subscriptions,k=Y.properties,L=0;if(typeof ge!="number")return V.destroy(new Error("Invalid messageId")),!1;L+=2;let K=null;if(ee===5){if(K=W(V,k),!K)return!1;L+=K.length}if(typeof ye=="object"&&ye.length)for(let ce=0;ce<ye.length;ce+=1){let fe=ye[ce].topic,U=ye[ce].qos;if(typeof fe!="string")return V.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof U!="number")return V.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(ee===5){if(typeof(ye[ce].nl||!1)!="boolean")return V.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(ye[ce].rap||!1)!="boolean")return V.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let le=ye[ce].rh||0;if(typeof le!="number"||le>2)return V.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}L+=i.byteLength(fe)+2+1}else return V.destroy(new Error("Invalid subscriptions")),!1;l("subscribe: writing to stream: %o",t.SUBSCRIBE_HEADER),V.write(t.SUBSCRIBE_HEADER[1][Q?1:0][0]),F(V,L),g(V,ge),K!==null&&K.write();let se=!0;for(let ce of ye){let fe=ce.topic,U=ce.qos,le=+ce.nl,Se=+ce.rap,he=ce.rh,Ne;j(V,fe),Ne=t.SUBSCRIBE_OPTIONS_QOS[U],ee===5&&(Ne|=le?t.SUBSCRIBE_OPTIONS_NL:0,Ne|=Se?t.SUBSCRIBE_OPTIONS_RAP:0,Ne|=he?t.SUBSCRIBE_OPTIONS_RH[he]:0),se=V.write(i.from([Ne]))}return se}function S(Z,V,pe){let ee=pe?pe.protocolVersion:4,Y=Z||{},Q=Y.messageId,ge=Y.granted,ye=Y.properties,k=0;if(typeof Q!="number")return V.destroy(new Error("Invalid messageId")),!1;if(k+=2,typeof ge=="object"&&ge.length)for(let K=0;K<ge.length;K+=1){if(typeof ge[K]!="number")return V.destroy(new Error("Invalid qos vector")),!1;k+=1}else return V.destroy(new Error("Invalid qos vector")),!1;let L=null;if(ee===5){if(L=I(V,ye,pe,k),!L)return!1;k+=L.length}return V.write(t.SUBACK_HEADER),F(V,k),g(V,Q),L!==null&&L.write(),V.write(i.from(ge))}function M(Z,V,pe){let ee=pe?pe.protocolVersion:4,Y=Z||{},Q=Y.messageId,ge=Y.dup?t.DUP_MASK:0,ye=Y.unsubscriptions,k=Y.properties,L=0;if(typeof Q!="number")return V.destroy(new Error("Invalid messageId")),!1;if(L+=2,typeof ye=="object"&&ye.length)for(let ce=0;ce<ye.length;ce+=1){if(typeof ye[ce]!="string")return V.destroy(new Error("Invalid unsubscriptions")),!1;L+=i.byteLength(ye[ce])+2}else return V.destroy(new Error("Invalid unsubscriptions")),!1;let K=null;if(ee===5){if(K=W(V,k),!K)return!1;L+=K.length}V.write(t.UNSUBSCRIBE_HEADER[1][ge?1:0][0]),F(V,L),g(V,Q),K!==null&&K.write();let se=!0;for(let ce=0;ce<ye.length;ce++)se=j(V,ye[ce]);return se}function R(Z,V,pe){let ee=pe?pe.protocolVersion:4,Y=Z||{},Q=Y.messageId,ge=Y.dup?t.DUP_MASK:0,ye=Y.granted,k=Y.properties,L=Y.cmd,K=0,se=2;if(typeof Q!="number")return V.destroy(new Error("Invalid messageId")),!1;if(ee===5)if(typeof ye=="object"&&ye.length)for(let fe=0;fe<ye.length;fe+=1){if(typeof ye[fe]!="number")return V.destroy(new Error("Invalid qos vector")),!1;se+=1}else return V.destroy(new Error("Invalid qos vector")),!1;let ce=null;if(ee===5){if(ce=I(V,k,pe,se),!ce)return!1;se+=ce.length}return V.write(t.ACKS[L][K][ge][0]),F(V,se),g(V,Q),ce!==null&&ce.write(),ee===5&&V.write(i.from(ye)),!0}function $(Z,V,pe){return V.write(t.EMPTY[Z.cmd])}function B(Z,V,pe){let ee=pe?pe.protocolVersion:4,Y=Z||{},Q=Y.reasonCode,ge=Y.properties,ye=ee===5?1:0,k=null;if(ee===5){if(k=I(V,ge,pe,ye),!k)return!1;ye+=k.length}return V.write(i.from([t.codes.disconnect<<4])),F(V,ye),ee===5&&V.write(i.from([Q])),k!==null&&k.write(),!0}function T(Z,V,pe){let ee=pe?pe.protocolVersion:4,Y=Z||{},Q=Y.reasonCode,ge=Y.properties,ye=ee===5?1:0;ee!==5&&V.destroy(new Error("Invalid mqtt version for auth packet"));let k=I(V,ge,pe,ye);return k?(ye+=k.length,V.write(i.from([t.codes.auth<<4])),F(V,ye),V.write(i.from([Q])),k!==null&&k.write(),!0):!1}var P={};function F(Z,V){if(V>t.VARBYTEINT_MAX)return Z.destroy(new Error(`Invalid variable byte integer: ${V}`)),!1;let pe=P[V];return pe||(pe=f(V),V<16384&&(P[V]=pe)),l("writeVarByteInt: writing to stream: %o",pe),Z.write(pe)}function j(Z,V){let pe=i.byteLength(V);return g(Z,pe),l("writeString: %s",V),Z.write(V,"utf8")}function J(Z,V,pe){j(Z,V),j(Z,pe)}function ie(Z,V){return l("writeNumberCached: number: %d",V),l("writeNumberCached: %o",c[V]),Z.write(c[V])}function oe(Z,V){let pe=u(V);return l("writeNumberGenerated: %o",pe),Z.write(pe)}function q(Z,V){let pe=h(V);return l("write4ByteNumber: %o",pe),Z.write(pe)}function O(Z,V){typeof V=="string"?j(Z,V):V?(g(Z,V.length),Z.write(V)):g(Z,0)}function W(Z,V){if(typeof V!="object"||V.length!=null)return{length:1,write(){Ce(Z,{},0)}};let pe=0;function ee(Y,Q){let ge=t.propertiesTypes[Y],ye=0;switch(ge){case"byte":{if(typeof Q!="boolean")return Z.destroy(new Error(`Invalid ${Y}: ${Q}`)),!1;ye+=2;break}case"int8":{if(typeof Q!="number"||Q<0||Q>255)return Z.destroy(new Error(`Invalid ${Y}: ${Q}`)),!1;ye+=2;break}case"binary":{if(Q&&Q===null)return Z.destroy(new Error(`Invalid ${Y}: ${Q}`)),!1;ye+=1+i.byteLength(Q)+2;break}case"int16":{if(typeof Q!="number"||Q<0||Q>65535)return Z.destroy(new Error(`Invalid ${Y}: ${Q}`)),!1;ye+=3;break}case"int32":{if(typeof Q!="number"||Q<0||Q>4294967295)return Z.destroy(new Error(`Invalid ${Y}: ${Q}`)),!1;ye+=5;break}case"var":{if(typeof Q!="number"||Q<0||Q>268435455)return Z.destroy(new Error(`Invalid ${Y}: ${Q}`)),!1;ye+=1+i.byteLength(f(Q));break}case"string":{if(typeof Q!="string")return Z.destroy(new Error(`Invalid ${Y}: ${Q}`)),!1;ye+=3+i.byteLength(Q.toString());break}case"pair":{if(typeof Q!="object")return Z.destroy(new Error(`Invalid ${Y}: ${Q}`)),!1;ye+=Object.getOwnPropertyNames(Q).reduce((k,L)=>{let K=Q[L];return Array.isArray(K)?k+=K.reduce((se,ce)=>(se+=3+i.byteLength(L.toString())+2+i.byteLength(ce.toString()),se),0):k+=3+i.byteLength(L.toString())+2+i.byteLength(Q[L].toString()),k},0);break}default:return Z.destroy(new Error(`Invalid property ${Y}: ${Q}`)),!1}return ye}if(V)for(let Y in V){let Q=0,ge=0,ye=V[Y];if(Array.isArray(ye))for(let k=0;k<ye.length;k++){if(ge=ee(Y,ye[k]),!ge)return!1;Q+=ge}else{if(ge=ee(Y,ye),!ge)return!1;Q=ge}if(!Q)return!1;pe+=Q}return{length:i.byteLength(f(pe))+pe,write(){Ce(Z,V,pe)}}}function I(Z,V,pe,ee){let Y=["reasonString","userProperties"],Q=pe&&pe.properties&&pe.properties.maximumPacketSize?pe.properties.maximumPacketSize:0,ge=W(Z,V);if(Q)for(;ee+ge.length>Q;){let ye=Y.shift();if(ye&&V[ye])delete V[ye],ge=W(Z,V);else return!1}return ge}function ue(Z,V,pe){switch(t.propertiesTypes[V]){case"byte":{Z.write(i.from([t.properties[V]])),Z.write(i.from([+pe]));break}case"int8":{Z.write(i.from([t.properties[V]])),Z.write(i.from([pe]));break}case"binary":{Z.write(i.from([t.properties[V]])),O(Z,pe);break}case"int16":{Z.write(i.from([t.properties[V]])),g(Z,pe);break}case"int32":{Z.write(i.from([t.properties[V]])),q(Z,pe);break}case"var":{Z.write(i.from([t.properties[V]])),F(Z,pe);break}case"string":{Z.write(i.from([t.properties[V]])),j(Z,pe);break}case"pair":{Object.getOwnPropertyNames(pe).forEach(ee=>{let Y=pe[ee];Array.isArray(Y)?Y.forEach(Q=>{Z.write(i.from([t.properties[V]])),J(Z,ee.toString(),Q.toString())}):(Z.write(i.from([t.properties[V]])),J(Z,ee.toString(),Y.toString()))});break}default:return Z.destroy(new Error(`Invalid property ${V} value: ${pe}`)),!1}}function Ce(Z,V,pe){F(Z,pe);for(let ee in V)if(Object.prototype.hasOwnProperty.call(V,ee)&&V[ee]!==null){let Y=V[ee];if(Array.isArray(Y))for(let Q=0;Q<Y.length;Q++)ue(Z,ee,Y[Q]);else ue(Z,ee,Y)}}function ae(Z){return Z?Z instanceof i?Z.length:i.byteLength(Z):0}function be(Z){return typeof Z=="string"||Z instanceof i}n.exports=v}),pk=we((e,n)=>{me(),ve(),_e();var t=iC(),{EventEmitter:i}=(vo(),St(Or)),{Buffer:r}=(ln(),St(an));function o(a,l){let c=new s;return t(a,c,l),c.concat()}var s=class extends i{constructor(){super(),this._array=new Array(20),this._i=0}write(a){return this._array[this._i++]=a,!0}concat(){let a=0,l=new Array(this._array.length),c=this._array,u=0,d;for(d=0;d<c.length&&c[d]!==void 0;d++)typeof c[d]!="string"?l[d]=c[d].length:l[d]=r.byteLength(c[d]),a+=l[d];let f=r.allocUnsafe(a);for(d=0;d<c.length&&c[d]!==void 0;d++)typeof c[d]!="string"?(c[d].copy(f,u),u+=l[d]):(f.write(c[d],u),u+=l[d]);return f}destroy(a){a&&this.emit("error",a)}};n.exports=o}),gk=we(e=>{me(),ve(),_e(),e.parser=dk().parser,e.generate=pk(),e.writeToStream=iC()}),rC=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"__esModule",{value:!0});var n=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let t=this.nextId++;return this.nextId===65536&&(this.nextId=1),t}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(t){return!0}deallocate(t){}clear(){}};e.default=n}),mk=we((e,n)=>{"use strict";me(),ve(),_e(),n.exports=i;function t(o){return o instanceof xu?xu.from(o):new o.constructor(o.buffer.slice(),o.byteOffset,o.length)}function i(o){if(o=o||{},o.circles)return r(o);let s=new Map;if(s.set(Date,d=>new Date(d)),s.set(Map,(d,f)=>new Map(l(Array.from(d),f))),s.set(Set,(d,f)=>new Set(l(Array.from(d),f))),o.constructorHandlers)for(let d of o.constructorHandlers)s.set(d[0],d[1]);let a=null;return o.proto?u:c;function l(d,f){let h=Object.keys(d),g=new Array(h.length);for(let m=0;m<h.length;m++){let v=h[m],y=d[v];typeof y!="object"||y===null?g[v]=y:y.constructor!==Object&&(a=s.get(y.constructor))?g[v]=a(y,f):ArrayBuffer.isView(y)?g[v]=t(y):g[v]=f(y)}return g}function c(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return l(d,c);if(d.constructor!==Object&&(a=s.get(d.constructor)))return a(d,c);let f={};for(let h in d){if(Object.hasOwnProperty.call(d,h)===!1)continue;let g=d[h];typeof g!="object"||g===null?f[h]=g:g.constructor!==Object&&(a=s.get(g.constructor))?f[h]=a(g,c):ArrayBuffer.isView(g)?f[h]=t(g):f[h]=c(g)}return f}function u(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return l(d,u);if(d.constructor!==Object&&(a=s.get(d.constructor)))return a(d,u);let f={};for(let h in d){let g=d[h];typeof g!="object"||g===null?f[h]=g:g.constructor!==Object&&(a=s.get(g.constructor))?f[h]=a(g,u):ArrayBuffer.isView(g)?f[h]=t(g):f[h]=u(g)}return f}}function r(o){let s=[],a=[],l=new Map;if(l.set(Date,h=>new Date(h)),l.set(Map,(h,g)=>new Map(u(Array.from(h),g))),l.set(Set,(h,g)=>new Set(u(Array.from(h),g))),o.constructorHandlers)for(let h of o.constructorHandlers)l.set(h[0],h[1]);let c=null;return o.proto?f:d;function u(h,g){let m=Object.keys(h),v=new Array(m.length);for(let y=0;y<m.length;y++){let p=m[y],b=h[p];if(typeof b!="object"||b===null)v[p]=b;else if(b.constructor!==Object&&(c=l.get(b.constructor)))v[p]=c(b,g);else if(ArrayBuffer.isView(b))v[p]=t(b);else{let x=s.indexOf(b);x!==-1?v[p]=a[x]:v[p]=g(b)}}return v}function d(h){if(typeof h!="object"||h===null)return h;if(Array.isArray(h))return u(h,d);if(h.constructor!==Object&&(c=l.get(h.constructor)))return c(h,d);let g={};s.push(h),a.push(g);for(let m in h){if(Object.hasOwnProperty.call(h,m)===!1)continue;let v=h[m];if(typeof v!="object"||v===null)g[m]=v;else if(v.constructor!==Object&&(c=l.get(v.constructor)))g[m]=c(v,d);else if(ArrayBuffer.isView(v))g[m]=t(v);else{let y=s.indexOf(v);y!==-1?g[m]=a[y]:g[m]=d(v)}}return s.pop(),a.pop(),g}function f(h){if(typeof h!="object"||h===null)return h;if(Array.isArray(h))return u(h,f);if(h.constructor!==Object&&(c=l.get(h.constructor)))return c(h,f);let g={};s.push(h),a.push(g);for(let m in h){let v=h[m];if(typeof v!="object"||v===null)g[m]=v;else if(v.constructor!==Object&&(c=l.get(v.constructor)))g[m]=c(v,f);else if(ArrayBuffer.isView(v))g[m]=t(v);else{let y=s.indexOf(v);y!==-1?g[m]=a[y]:g[m]=f(v)}}return s.pop(),a.pop(),g}}}),_k=we((e,n)=>{"use strict";me(),ve(),_e(),n.exports=mk()()}),vk=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopic=n,e.validateTopics=t;function n(i){let r=i.split("/");for(let o=0;o<r.length;o++)if(r[o]!=="+"){if(r[o]==="#")return o===r.length-1;if(r[o].indexOf("+")!==-1||r[o].indexOf("#")!==-1)return!1}return!0}function t(i){if(i.length===0)return"empty_topic_list";for(let r=0;r<i.length;r++)if(!n(i[r]))return i[r];return null}}),oC=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"__esModule",{value:!0});var n=bo(),t={objectMode:!0},i={clean:!0},r=class{constructor(o){this.options=o||{},this.options=Object.assign(Object.assign({},i),o),this._inflights=new Map}put(o,s){return this._inflights.set(o.messageId,o),s&&s(),this}createStream(){let o=new n.Readable(t),s=[],a=!1,l=0;return this._inflights.forEach((c,u)=>{s.push(c)}),o._read=()=>{!a&&l<s.length?o.push(s[l++]):o.push(null)},o.destroy=c=>{if(!a)return a=!0,setTimeout(()=>{o.emit("close")},0),o},o}del(o,s){let a=this._inflights.get(o.messageId);return a?(this._inflights.delete(o.messageId),s(null,a)):s&&s(new Error("missing packet")),this}get(o,s){let a=this._inflights.get(o.messageId);return a?s(null,a):s&&s(new Error("missing packet")),this}close(o){this.options.clean&&(this._inflights=null),o&&o()}};e.default=r}),yk=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"__esModule",{value:!0});var n=[0,16,128,131,135,144,145,151,153],t=(i,r,o)=>{i.log("handlePublish: packet %o",r),o=typeof o<"u"?o:i.noop;let s=r.topic.toString(),a=r.payload,{qos:l}=r,{messageId:c}=r,{options:u}=i;if(i.options.protocolVersion===5){let d;if(r.properties&&(d=r.properties.topicAlias),typeof d<"u")if(s.length===0)if(d>0&&d<=65535){let f=i.topicAliasRecv.getTopicByAlias(d);if(f)s=f,i.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",s,d);else{i.log("handlePublish :: unregistered topic alias. alias: %d",d),i.emit("error",new Error("Received unregistered Topic Alias"));return}}else{i.log("handlePublish :: topic alias out of range. alias: %d",d),i.emit("error",new Error("Received Topic Alias is out of range"));return}else if(i.topicAliasRecv.put(s,d))i.log("handlePublish :: registered topic: %s - alias: %d",s,d);else{i.log("handlePublish :: topic alias out of range. alias: %d",d),i.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(i.log("handlePublish: qos %d",l),l){case 2:{u.customHandleAcks(s,a,r,(d,f)=>{if(typeof d=="number"&&(f=d,d=null),d)return i.emit("error",d);if(n.indexOf(f)===-1)return i.emit("error",new Error("Wrong reason code for pubrec"));f?i._sendPacket({cmd:"pubrec",messageId:c,reasonCode:f},o):i.incomingStore.put(r,()=>{i._sendPacket({cmd:"pubrec",messageId:c},o)})});break}case 1:{u.customHandleAcks(s,a,r,(d,f)=>{if(typeof d=="number"&&(f=d,d=null),d)return i.emit("error",d);if(n.indexOf(f)===-1)return i.emit("error",new Error("Wrong reason code for puback"));f||i.emit("message",s,a,r),i.handleMessage(r,h=>{if(h)return o&&o(h);i._sendPacket({cmd:"puback",messageId:c,reasonCode:f},o)})});break}case 0:i.emit("message",s,a,r),i.handleMessage(r,o);break;default:i.log("handlePublish: unknown QoS. Doing nothing.");break}};e.default=t}),bk=we((e,n)=>{n.exports={version:"5.10.4"}}),_s=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"__esModule",{value:!0}),e.MQTTJS_VERSION=e.nextTick=e.ErrorWithReasonCode=void 0,e.applyMixin=t;var n=class sC extends Error{constructor(r,o){super(r),this.code=o,Object.setPrototypeOf(this,sC.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};e.ErrorWithReasonCode=n;function t(i,r,o=!1){var s;let a=[r];for(;;){let l=a[0],c=Object.getPrototypeOf(l);if(c?.prototype)a.unshift(c);else break}for(let l of a)for(let c of Object.getOwnPropertyNames(l.prototype))(o||c!=="constructor")&&Object.defineProperty(i.prototype,c,(s=Object.getOwnPropertyDescriptor(l.prototype,c))!==null&&s!==void 0?s:Object.create(null))}e.nextTick=typeof vt?.nextTick=="function"?vt.nextTick:i=>{setTimeout(i,0)},e.MQTTJS_VERSION=bk().version}),Tu=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0;var n=_s();e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var t=(i,r)=>{let{messageId:o}=r,s=r.cmd,a=null,l=i.outgoing[o]?i.outgoing[o].cb:null,c=null;if(!l){i.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(i.log("_handleAck :: packet type",s),s){case"pubcomp":case"puback":{let u=r.reasonCode;u&&u>0&&u!==16?(c=new n.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[u]}`,u),i._removeOutgoingAndStoreMessage(o,()=>{l(c,r)})):i._removeOutgoingAndStoreMessage(o,l);break}case"pubrec":{a={cmd:"pubrel",qos:2,messageId:o};let u=r.reasonCode;u&&u>0&&u!==16?(c=new n.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[u]}`,u),i._removeOutgoingAndStoreMessage(o,()=>{l(c,r)})):i._sendPacket(a);break}case"suback":{delete i.outgoing[o],i.messageIdProvider.deallocate(o);let u=r.granted;for(let d=0;d<u.length;d++){let f=u[d];if(f&128){c=new Error(`Subscribe error: ${e.ReasonCodes[f]}`),c.code=f;let h=i.messageIdToTopic[o];h&&h.forEach(g=>{delete i._resubscribeTopics[g]})}}delete i.messageIdToTopic[o],i._invokeStoreProcessingQueue(),l(c,r);break}case"unsuback":{delete i.outgoing[o],i.messageIdProvider.deallocate(o),i._invokeStoreProcessingQueue(),l(null,r);break}default:i.emit("error",new Error("unrecognized packet type"))}i.disconnecting&&Object.keys(i.outgoing).length===0&&i.emit("outgoingEmpty")};e.default=t}),wk=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"__esModule",{value:!0});var n=_s(),t=Tu(),i=(r,o)=>{let{options:s}=r,a=s.protocolVersion,l=a===5?o.reasonCode:o.returnCode;if(a!==5){let c=new n.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${a}`,l);r.emit("error",c);return}r.handleAuth(o,(c,u)=>{if(c){r.emit("error",c);return}if(l===24)r.reconnecting=!1,r._sendPacket(u);else{let d=new n.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[l]}`,l);r.emit("error",d)}})};e.default=i}),Ck=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var n=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,t=new Set,i=typeof vt=="object"&&vt?vt:{},r=(g,m,v,y)=>{typeof i.emitWarning=="function"?i.emitWarning(g,m,v,y):console.error(`[${v}] ${m}: ${g}`)},o=globalThis.AbortController,s=globalThis.AbortSignal;if(typeof o>"u"){s=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(v,y){this._onabort.push(y)}},o=class{constructor(){m()}signal=new s;abort(v){if(!this.signal.aborted){this.signal.reason=v,this.signal.aborted=!0;for(let y of this.signal._onabort)y(v);this.signal.onabort?.(v)}}};let g=i.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",m=()=>{g&&(g=!1,r("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",m))}}var a=g=>!t.has(g),l=Symbol("type"),c=g=>g&&g===Math.floor(g)&&g>0&&isFinite(g),u=g=>c(g)?g<=Math.pow(2,8)?Uint8Array:g<=Math.pow(2,16)?Uint16Array:g<=Math.pow(2,32)?Uint32Array:g<=Number.MAX_SAFE_INTEGER?d:null:null,d=class extends Array{constructor(g){super(g),this.fill(0)}},f=class Aa{heap;length;static#l=!1;static create(m){let v=u(m);if(!v)return[];Aa.#l=!0;let y=new Aa(m,v);return Aa.#l=!1,y}constructor(m,v){if(!Aa.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new v(m),this.length=0}push(m){this.heap[this.length++]=m}pop(){return this.heap[--this.length]}},h=class aC{#l;#d;#g;#m;#A;#O;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#r;#_;#i;#n;#e;#c;#f;#a;#o;#v;#s;#y;#b;#h;#w;#S;#u;static unsafeExposeInternals(m){return{starts:m.#b,ttls:m.#h,sizes:m.#y,keyMap:m.#i,keyList:m.#n,valList:m.#e,next:m.#c,prev:m.#f,get head(){return m.#a},get tail(){return m.#o},free:m.#v,isBackgroundFetch:v=>m.#t(v),backgroundFetch:(v,y,p,b)=>m.#k(v,y,p,b),moveToTail:v=>m.#T(v),indexes:v=>m.#C(v),rindexes:v=>m.#x(v),isStale:v=>m.#p(v)}}get max(){return this.#l}get maxSize(){return this.#d}get calculatedSize(){return this.#_}get size(){return this.#r}get fetchMethod(){return this.#A}get memoMethod(){return this.#O}get dispose(){return this.#g}get disposeAfter(){return this.#m}constructor(m){let{max:v=0,ttl:y,ttlResolution:p=1,ttlAutopurge:b,updateAgeOnGet:x,updateAgeOnHas:D,allowStale:C,dispose:S,disposeAfter:M,noDisposeOnSet:R,noUpdateTTL:$,maxSize:B=0,maxEntrySize:T=0,sizeCalculation:P,fetchMethod:F,memoMethod:j,noDeleteOnFetchRejection:J,noDeleteOnStaleGet:ie,allowStaleOnFetchRejection:oe,allowStaleOnFetchAbort:q,ignoreFetchAbort:O}=m;if(v!==0&&!c(v))throw new TypeError("max option must be a nonnegative integer");let W=v?u(v):Array;if(!W)throw new Error("invalid max value: "+v);if(this.#l=v,this.#d=B,this.maxEntrySize=T||this.#d,this.sizeCalculation=P,this.sizeCalculation){if(!this.#d&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(j!==void 0&&typeof j!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#O=j,F!==void 0&&typeof F!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#A=F,this.#S=!!F,this.#i=new Map,this.#n=new Array(v).fill(void 0),this.#e=new Array(v).fill(void 0),this.#c=new W(v),this.#f=new W(v),this.#a=0,this.#o=0,this.#v=f.create(v),this.#r=0,this.#_=0,typeof S=="function"&&(this.#g=S),typeof M=="function"?(this.#m=M,this.#s=[]):(this.#m=void 0,this.#s=void 0),this.#w=!!this.#g,this.#u=!!this.#m,this.noDisposeOnSet=!!R,this.noUpdateTTL=!!$,this.noDeleteOnFetchRejection=!!J,this.allowStaleOnFetchRejection=!!oe,this.allowStaleOnFetchAbort=!!q,this.ignoreFetchAbort=!!O,this.maxEntrySize!==0){if(this.#d!==0&&!c(this.#d))throw new TypeError("maxSize must be a positive integer if specified");if(!c(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#H()}if(this.allowStale=!!C,this.noDeleteOnStaleGet=!!ie,this.updateAgeOnGet=!!x,this.updateAgeOnHas=!!D,this.ttlResolution=c(p)||p===0?p:1,this.ttlAutopurge=!!b,this.ttl=y||0,this.ttl){if(!c(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#F()}if(this.#l===0&&this.ttl===0&&this.#d===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#d){let I="LRU_CACHE_UNBOUNDED";a(I)&&(t.add(I),r("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",I,aC))}}getRemainingTTL(m){return this.#i.has(m)?1/0:0}#F(){let m=new d(this.#l),v=new d(this.#l);this.#h=m,this.#b=v,this.#P=(b,x,D=n.now())=>{if(v[b]=x!==0?D:0,m[b]=x,x!==0&&this.ttlAutopurge){let C=setTimeout(()=>{this.#p(b)&&this.#D(this.#n[b],"expire")},x+1);C.unref&&C.unref()}},this.#I=b=>{v[b]=m[b]!==0?n.now():0},this.#E=(b,x)=>{if(m[x]){let D=m[x],C=v[x];if(!D||!C)return;b.ttl=D,b.start=C,b.now=y||p();let S=b.now-C;b.remainingTTL=D-S}};let y=0,p=()=>{let b=n.now();if(this.ttlResolution>0){y=b;let x=setTimeout(()=>y=0,this.ttlResolution);x.unref&&x.unref()}return b};this.getRemainingTTL=b=>{let x=this.#i.get(b);if(x===void 0)return 0;let D=m[x],C=v[x];if(!D||!C)return 1/0;let S=(y||p())-C;return D-S},this.#p=b=>{let x=v[b],D=m[b];return!!D&&!!x&&(y||p())-x>D}}#I=()=>{};#E=()=>{};#P=()=>{};#p=()=>!1;#H(){let m=new d(this.#l);this.#_=0,this.#y=m,this.#M=v=>{this.#_-=m[v],m[v]=0},this.#B=(v,y,p,b)=>{if(this.#t(y))return 0;if(!c(p))if(b){if(typeof b!="function")throw new TypeError("sizeCalculation must be a function");if(p=b(y,v),!c(p))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return p},this.#N=(v,y,p)=>{if(m[v]=y,this.#d){let b=this.#d-m[v];for(;this.#_>b;)this.#R(!0)}this.#_+=m[v],p&&(p.entrySize=y,p.totalCalculatedSize=this.#_)}}#M=m=>{};#N=(m,v,y)=>{};#B=(m,v,y,p)=>{if(y||p)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#C({allowStale:m=this.allowStale}={}){if(this.#r)for(let v=this.#o;!(!this.#L(v)||((m||!this.#p(v))&&(yield v),v===this.#a));)v=this.#f[v]}*#x({allowStale:m=this.allowStale}={}){if(this.#r)for(let v=this.#a;!(!this.#L(v)||((m||!this.#p(v))&&(yield v),v===this.#o));)v=this.#c[v]}#L(m){return m!==void 0&&this.#i.get(this.#n[m])===m}*entries(){for(let m of this.#C())this.#e[m]!==void 0&&this.#n[m]!==void 0&&!this.#t(this.#e[m])&&(yield[this.#n[m],this.#e[m]])}*rentries(){for(let m of this.#x())this.#e[m]!==void 0&&this.#n[m]!==void 0&&!this.#t(this.#e[m])&&(yield[this.#n[m],this.#e[m]])}*keys(){for(let m of this.#C()){let v=this.#n[m];v!==void 0&&!this.#t(this.#e[m])&&(yield v)}}*rkeys(){for(let m of this.#x()){let v=this.#n[m];v!==void 0&&!this.#t(this.#e[m])&&(yield v)}}*values(){for(let m of this.#C())this.#e[m]!==void 0&&!this.#t(this.#e[m])&&(yield this.#e[m])}*rvalues(){for(let m of this.#x())this.#e[m]!==void 0&&!this.#t(this.#e[m])&&(yield this.#e[m])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(m,v={}){for(let y of this.#C()){let p=this.#e[y],b=this.#t(p)?p.__staleWhileFetching:p;if(b!==void 0&&m(b,this.#n[y],this))return this.get(this.#n[y],v)}}forEach(m,v=this){for(let y of this.#C()){let p=this.#e[y],b=this.#t(p)?p.__staleWhileFetching:p;b!==void 0&&m.call(v,b,this.#n[y],this)}}rforEach(m,v=this){for(let y of this.#x()){let p=this.#e[y],b=this.#t(p)?p.__staleWhileFetching:p;b!==void 0&&m.call(v,b,this.#n[y],this)}}purgeStale(){let m=!1;for(let v of this.#x({allowStale:!0}))this.#p(v)&&(this.#D(this.#n[v],"expire"),m=!0);return m}info(m){let v=this.#i.get(m);if(v===void 0)return;let y=this.#e[v],p=this.#t(y)?y.__staleWhileFetching:y;if(p===void 0)return;let b={value:p};if(this.#h&&this.#b){let x=this.#h[v],D=this.#b[v];if(x&&D){let C=x-(n.now()-D);b.ttl=C,b.start=Date.now()}}return this.#y&&(b.size=this.#y[v]),b}dump(){let m=[];for(let v of this.#C({allowStale:!0})){let y=this.#n[v],p=this.#e[v],b=this.#t(p)?p.__staleWhileFetching:p;if(b===void 0||y===void 0)continue;let x={value:b};if(this.#h&&this.#b){x.ttl=this.#h[v];let D=n.now()-this.#b[v];x.start=Math.floor(Date.now()-D)}this.#y&&(x.size=this.#y[v]),m.unshift([y,x])}return m}load(m){this.clear();for(let[v,y]of m){if(y.start){let p=Date.now()-y.start;y.start=n.now()-p}this.set(v,y.value,y)}}set(m,v,y={}){if(v===void 0)return this.delete(m),this;let{ttl:p=this.ttl,start:b,noDisposeOnSet:x=this.noDisposeOnSet,sizeCalculation:D=this.sizeCalculation,status:C}=y,{noUpdateTTL:S=this.noUpdateTTL}=y,M=this.#B(m,v,y.size||0,D);if(this.maxEntrySize&&M>this.maxEntrySize)return C&&(C.set="miss",C.maxEntrySizeExceeded=!0),this.#D(m,"set"),this;let R=this.#r===0?void 0:this.#i.get(m);if(R===void 0)R=this.#r===0?this.#o:this.#v.length!==0?this.#v.pop():this.#r===this.#l?this.#R(!1):this.#r,this.#n[R]=m,this.#e[R]=v,this.#i.set(m,R),this.#c[this.#o]=R,this.#f[R]=this.#o,this.#o=R,this.#r++,this.#N(R,M,C),C&&(C.set="add"),S=!1;else{this.#T(R);let $=this.#e[R];if(v!==$){if(this.#S&&this.#t($)){$.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:B}=$;B!==void 0&&!x&&(this.#w&&this.#g?.(B,m,"set"),this.#u&&this.#s?.push([B,m,"set"]))}else x||(this.#w&&this.#g?.($,m,"set"),this.#u&&this.#s?.push([$,m,"set"]));if(this.#M(R),this.#N(R,M,C),this.#e[R]=v,C){C.set="replace";let B=$&&this.#t($)?$.__staleWhileFetching:$;B!==void 0&&(C.oldValue=B)}}else C&&(C.set="update")}if(p!==0&&!this.#h&&this.#F(),this.#h&&(S||this.#P(R,p,b),C&&this.#E(C,R)),!x&&this.#u&&this.#s){let $=this.#s,B;for(;B=$?.shift();)this.#m?.(...B)}return this}pop(){try{for(;this.#r;){let m=this.#e[this.#a];if(this.#R(!0),this.#t(m)){if(m.__staleWhileFetching)return m.__staleWhileFetching}else if(m!==void 0)return m}}finally{if(this.#u&&this.#s){let m=this.#s,v;for(;v=m?.shift();)this.#m?.(...v)}}}#R(m){let v=this.#a,y=this.#n[v],p=this.#e[v];return this.#S&&this.#t(p)?p.__abortController.abort(new Error("evicted")):(this.#w||this.#u)&&(this.#w&&this.#g?.(p,y,"evict"),this.#u&&this.#s?.push([p,y,"evict"])),this.#M(v),m&&(this.#n[v]=void 0,this.#e[v]=void 0,this.#v.push(v)),this.#r===1?(this.#a=this.#o=0,this.#v.length=0):this.#a=this.#c[v],this.#i.delete(y),this.#r--,v}has(m,v={}){let{updateAgeOnHas:y=this.updateAgeOnHas,status:p}=v,b=this.#i.get(m);if(b!==void 0){let x=this.#e[b];if(this.#t(x)&&x.__staleWhileFetching===void 0)return!1;if(this.#p(b))p&&(p.has="stale",this.#E(p,b));else return y&&this.#I(b),p&&(p.has="hit",this.#E(p,b)),!0}else p&&(p.has="miss");return!1}peek(m,v={}){let{allowStale:y=this.allowStale}=v,p=this.#i.get(m);if(p===void 0||!y&&this.#p(p))return;let b=this.#e[p];return this.#t(b)?b.__staleWhileFetching:b}#k(m,v,y,p){let b=v===void 0?void 0:this.#e[v];if(this.#t(b))return b;let x=new o,{signal:D}=y;D?.addEventListener("abort",()=>x.abort(D.reason),{signal:x.signal});let C={signal:x.signal,options:y,context:p},S=(P,F=!1)=>{let{aborted:j}=x.signal,J=y.ignoreFetchAbort&&P!==void 0;if(y.status&&(j&&!F?(y.status.fetchAborted=!0,y.status.fetchError=x.signal.reason,J&&(y.status.fetchAbortIgnored=!0)):y.status.fetchResolved=!0),j&&!J&&!F)return R(x.signal.reason);let ie=B;return this.#e[v]===B&&(P===void 0?ie.__staleWhileFetching?this.#e[v]=ie.__staleWhileFetching:this.#D(m,"fetch"):(y.status&&(y.status.fetchUpdated=!0),this.set(m,P,C.options))),P},M=P=>(y.status&&(y.status.fetchRejected=!0,y.status.fetchError=P),R(P)),R=P=>{let{aborted:F}=x.signal,j=F&&y.allowStaleOnFetchAbort,J=j||y.allowStaleOnFetchRejection,ie=J||y.noDeleteOnFetchRejection,oe=B;if(this.#e[v]===B&&(!ie||oe.__staleWhileFetching===void 0?this.#D(m,"fetch"):j||(this.#e[v]=oe.__staleWhileFetching)),J)return y.status&&oe.__staleWhileFetching!==void 0&&(y.status.returnedStale=!0),oe.__staleWhileFetching;if(oe.__returned===oe)throw P},$=(P,F)=>{let j=this.#A?.(m,b,C);j&&j instanceof Promise&&j.then(J=>P(J===void 0?void 0:J),F),x.signal.addEventListener("abort",()=>{(!y.ignoreFetchAbort||y.allowStaleOnFetchAbort)&&(P(void 0),y.allowStaleOnFetchAbort&&(P=J=>S(J,!0)))})};y.status&&(y.status.fetchDispatched=!0);let B=new Promise($).then(S,M),T=Object.assign(B,{__abortController:x,__staleWhileFetching:b,__returned:void 0});return v===void 0?(this.set(m,T,st(Te({},C.options),{status:void 0})),v=this.#i.get(m)):this.#e[v]=T,T}#t(m){if(!this.#S)return!1;let v=m;return!!v&&v instanceof Promise&&v.hasOwnProperty("__staleWhileFetching")&&v.__abortController instanceof o}fetch(y){return ct(this,arguments,function*(m,v={}){let{allowStale:p=this.allowStale,updateAgeOnGet:b=this.updateAgeOnGet,noDeleteOnStaleGet:x=this.noDeleteOnStaleGet,ttl:D=this.ttl,noDisposeOnSet:C=this.noDisposeOnSet,size:S=0,sizeCalculation:M=this.sizeCalculation,noUpdateTTL:R=this.noUpdateTTL,noDeleteOnFetchRejection:$=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:B=this.allowStaleOnFetchRejection,ignoreFetchAbort:T=this.ignoreFetchAbort,allowStaleOnFetchAbort:P=this.allowStaleOnFetchAbort,context:F,forceRefresh:j=!1,status:J,signal:ie}=v;if(!this.#S)return J&&(J.fetch="get"),this.get(m,{allowStale:p,updateAgeOnGet:b,noDeleteOnStaleGet:x,status:J});let oe={allowStale:p,updateAgeOnGet:b,noDeleteOnStaleGet:x,ttl:D,noDisposeOnSet:C,size:S,sizeCalculation:M,noUpdateTTL:R,noDeleteOnFetchRejection:$,allowStaleOnFetchRejection:B,allowStaleOnFetchAbort:P,ignoreFetchAbort:T,status:J,signal:ie},q=this.#i.get(m);if(q===void 0){J&&(J.fetch="miss");let O=this.#k(m,q,oe,F);return O.__returned=O}else{let O=this.#e[q];if(this.#t(O)){let Ce=p&&O.__staleWhileFetching!==void 0;return J&&(J.fetch="inflight",Ce&&(J.returnedStale=!0)),Ce?O.__staleWhileFetching:O.__returned=O}let W=this.#p(q);if(!j&&!W)return J&&(J.fetch="hit"),this.#T(q),b&&this.#I(q),J&&this.#E(J,q),O;let I=this.#k(m,q,oe,F),ue=I.__staleWhileFetching!==void 0&&p;return J&&(J.fetch=W?"stale":"refresh",ue&&W&&(J.returnedStale=!0)),ue?I.__staleWhileFetching:I.__returned=I}})}forceFetch(y){return ct(this,arguments,function*(m,v={}){let p=yield this.fetch(m,v);if(p===void 0)throw new Error("fetch() returned undefined");return p})}memo(m,v={}){let y=this.#O;if(!y)throw new Error("no memoMethod provided to constructor");let S=v,{context:p,forceRefresh:b}=S,x=jm(S,["context","forceRefresh"]),D=this.get(m,x);if(!b&&D!==void 0)return D;let C=y(m,D,{options:x,context:p});return this.set(m,C,x),C}get(m,v={}){let{allowStale:y=this.allowStale,updateAgeOnGet:p=this.updateAgeOnGet,noDeleteOnStaleGet:b=this.noDeleteOnStaleGet,status:x}=v,D=this.#i.get(m);if(D!==void 0){let C=this.#e[D],S=this.#t(C);return x&&this.#E(x,D),this.#p(D)?(x&&(x.get="stale"),S?(x&&y&&C.__staleWhileFetching!==void 0&&(x.returnedStale=!0),y?C.__staleWhileFetching:void 0):(b||this.#D(m,"expire"),x&&y&&(x.returnedStale=!0),y?C:void 0)):(x&&(x.get="hit"),S?C.__staleWhileFetching:(this.#T(D),p&&this.#I(D),C))}else x&&(x.get="miss")}#j(m,v){this.#f[v]=m,this.#c[m]=v}#T(m){m!==this.#o&&(m===this.#a?this.#a=this.#c[m]:this.#j(this.#f[m],this.#c[m]),this.#j(this.#o,m),this.#o=m)}delete(m){return this.#D(m,"delete")}#D(m,v){let y=!1;if(this.#r!==0){let p=this.#i.get(m);if(p!==void 0)if(y=!0,this.#r===1)this.#V(v);else{this.#M(p);let b=this.#e[p];if(this.#t(b)?b.__abortController.abort(new Error("deleted")):(this.#w||this.#u)&&(this.#w&&this.#g?.(b,m,v),this.#u&&this.#s?.push([b,m,v])),this.#i.delete(m),this.#n[p]=void 0,this.#e[p]=void 0,p===this.#o)this.#o=this.#f[p];else if(p===this.#a)this.#a=this.#c[p];else{let x=this.#f[p];this.#c[x]=this.#c[p];let D=this.#c[p];this.#f[D]=this.#f[p]}this.#r--,this.#v.push(p)}}if(this.#u&&this.#s?.length){let p=this.#s,b;for(;b=p?.shift();)this.#m?.(...b)}return y}clear(){return this.#V("delete")}#V(m){for(let v of this.#x({allowStale:!0})){let y=this.#e[v];if(this.#t(y))y.__abortController.abort(new Error("deleted"));else{let p=this.#n[v];this.#w&&this.#g?.(y,p,m),this.#u&&this.#s?.push([y,p,m])}}if(this.#i.clear(),this.#e.fill(void 0),this.#n.fill(void 0),this.#h&&this.#b&&(this.#h.fill(0),this.#b.fill(0)),this.#y&&this.#y.fill(0),this.#a=0,this.#o=0,this.#v.length=0,this.#_=0,this.#r=0,this.#u&&this.#s){let v=this.#s,y;for(;y=v?.shift();)this.#m?.(...y)}}};e.LRUCache=h}),rr=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0;var n=class{constructor(r=0){this.iteratorType=r}equals(r){return this.o===r.o}};e.ContainerIterator=n;var t=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};e.Base=t;var i=class extends t{};e.Container=i}),xk=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=rr(),t=class extends n.Base{constructor(r=[]){super(),this.S=[];let o=this;r.forEach(function(s){o.push(s)})}clear(){this.i=0,this.S=[]}push(r){return this.S.push(r),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},i=t;e.default=i}),Dk=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=rr(),t=class extends n.Base{constructor(r=[]){super(),this.j=0,this.q=[];let o=this;r.forEach(function(s){o.push(s)})}clear(){this.q=[],this.i=this.j=0}push(r){let o=this.q.length;if(this.j/o>.5&&this.j+this.i>=o&&o>4096){let s=this.i;for(let a=0;a<s;++a)this.q[a]=this.q[this.j+a];this.j=0,this.q[this.i]=r}else this.q[this.j+this.i]=r;return++this.i}pop(){if(this.i===0)return;let r=this.q[this.j++];return this.i-=1,r}front(){if(this.i!==0)return this.q[this.j]}},i=t;e.default=i}),Ek=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=rr(),t=class extends n.Base{constructor(r=[],o=function(a,l){return a>l?-1:a<l?1:0},s=!0){if(super(),this.v=o,Array.isArray(r))this.C=s?[...r]:r;else{this.C=[];let l=this;r.forEach(function(c){l.C.push(c)})}this.i=this.C.length;let a=this.i>>1;for(let l=this.i-1>>1;l>=0;--l)this.k(l,a)}m(r){let o=this.C[r];for(;r>0;){let s=r-1>>1,a=this.C[s];if(this.v(a,o)<=0)break;this.C[r]=a,r=s}this.C[r]=o}k(r,o){let s=this.C[r];for(;r<o;){let a=r<<1|1,l=a+1,c=this.C[a];if(l<this.i&&this.v(c,this.C[l])>0&&(a=l,c=this.C[l]),this.v(c,s)>=0)break;this.C[r]=c,r=a}this.C[r]=s}clear(){this.i=0,this.C.length=0}push(r){this.C.push(r),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let r=this.C[0],o=this.C.pop();return this.i-=1,this.i&&(this.C[0]=o,this.k(0,this.i>>1)),r}top(){return this.C[0]}find(r){return this.C.indexOf(r)>=0}remove(r){let o=this.C.indexOf(r);return o<0?!1:(o===0?this.pop():o===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(o,1,this.C.pop()),this.i-=1,this.m(o),this.k(o,this.i>>1)),!0)}updateItem(r){let o=this.C.indexOf(r);return o<0?!1:(this.m(o),this.k(o,this.i>>1),!0)}toArray(){return[...this.C]}},i=t;e.default=i}),om=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=rr(),t=class extends n.Container{},i=t;e.default=i}),or=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=n;function n(){throw new RangeError("Iterator access denied!")}}),lC=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var n=rr(),t=or(),i=class extends n.ContainerIterator{constructor(r,o){super(o),this.o=r,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,t.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,t.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,t.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,t.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(r){this.container.setElementByPos(this.o,r)}};e.RandomIterator=i}),Sk=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=i(om()),t=lC();function i(a){return a&&a.t?a:{default:a}}var r=class cC extends t.RandomIterator{constructor(l,c,u){super(l,u),this.container=c}copy(){return new cC(this.o,this.container,this.iteratorType)}},o=class extends n.default{constructor(a=[],l=!0){if(super(),Array.isArray(a))this.J=l?[...a]:a,this.i=a.length;else{this.J=[];let c=this;a.forEach(function(u){c.pushBack(u)})}}clear(){this.i=0,this.J.length=0}begin(){return new r(0,this)}end(){return new r(this.i,this)}rBegin(){return new r(this.i-1,this,1)}rEnd(){return new r(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J[a]}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J.splice(a,1),this.i-=1,this.i}eraseElementByValue(a){let l=0;for(let c=0;c<this.i;++c)this.J[c]!==a&&(this.J[l++]=this.J[c]);return this.i=this.J.length=l,this.i}eraseElementByIterator(a){let l=a.o;return a=a.next(),this.eraseElementByPos(l),a}pushBack(a){return this.J.push(a),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;this.J[a]=l}insert(a,l,c=1){if(a<0||a>this.i)throw new RangeError;return this.J.splice(a,0,...new Array(c).fill(l)),this.i+=c,this.i}find(a){for(let l=0;l<this.i;++l)if(this.J[l]===a)return new r(l,this);return this.end()}reverse(){this.J.reverse()}unique(){let a=1;for(let l=1;l<this.i;++l)this.J[l]!==this.J[l-1]&&(this.J[a++]=this.J[l]);return this.i=this.J.length=a,this.i}sort(a){this.J.sort(a)}forEach(a){for(let l=0;l<this.i;++l)a(this.J[l],l,this)}[Symbol.iterator](){return function*(){yield*ar(this.J)}.bind(this)()}},s=o;e.default=s}),Ik=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=r(om()),t=rr(),i=or();function r(l){return l&&l.t?l:{default:l}}var o=class uC extends t.ContainerIterator{constructor(c,u,d,f){super(f),this.o=c,this.h=u,this.container=d,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.l}set pointer(c){this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.l=c}copy(){return new uC(this.o,this.h,this.container,this.iteratorType)}},s=class extends n.default{constructor(l=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let c=this;l.forEach(function(u){c.pushBack(u)})}V(l){let{L:c,B:u}=l;c.B=u,u.L=c,l===this.p&&(this.p=u),l===this._&&(this._=c),this.i-=1}G(l,c){let u=c.B,d={l,L:c,B:u};c.B=d,u.L=d,c===this.h&&(this.p=d),u===this.h&&(this._=d),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new o(this.p,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this._,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return c.l}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return this.V(c),this.i}eraseElementByValue(l){let c=this.p;for(;c!==this.h;)c.l===l&&this.V(c),c=c.B;return this.i}eraseElementByIterator(l){let c=l.o;return c===this.h&&(0,i.throwIteratorAccessError)(),l=l.next(),this.V(c),l}pushBack(l){return this.G(l,this._),this.i}popBack(){if(this.i===0)return;let l=this._.l;return this.V(this._),l}pushFront(l){return this.G(l,this.h),this.i}popFront(){if(this.i===0)return;let l=this.p.l;return this.V(this.p),l}setElementByPos(l,c){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;u.l=c}insert(l,c,u=1){if(l<0||l>this.i)throw new RangeError;if(u<=0)return this.i;if(l===0)for(;u--;)this.pushFront(c);else if(l===this.i)for(;u--;)this.pushBack(c);else{let d=this.p;for(let h=1;h<l;++h)d=d.B;let f=d.B;for(this.i+=u;u--;)d.B={l:c,L:d},d.B.L=d,d=d.B;d.B=f,f.L=d}return this.i}find(l){let c=this.p;for(;c!==this.h;){if(c.l===l)return new o(c,this.h,this);c=c.B}return this.end()}reverse(){if(this.i<=1)return;let l=this.p,c=this._,u=0;for(;u<<1<this.i;){let d=l.l;l.l=c.l,c.l=d,l=l.B,c=c.L,u+=1}}unique(){if(this.i<=1)return this.i;let l=this.p;for(;l!==this.h;){let c=l;for(;c.B!==this.h&&c.l===c.B.l;)c=c.B,this.i-=1;l.B=c.B,l.B.L=l,l=l.B}return this.i}sort(l){if(this.i<=1)return;let c=[];this.forEach(function(d){c.push(d)}),c.sort(l);let u=this.p;c.forEach(function(d){u.l=d,u=u.B})}merge(l){let c=this;if(this.i===0)l.forEach(function(u){c.pushBack(u)});else{let u=this.p;l.forEach(function(d){for(;u!==c.h&&u.l<=d;)u=u.B;c.G(d,u.L)})}return this.i}forEach(l){let c=this.p,u=0;for(;c!==this.h;)l(c.l,u++,this),c=c.B}[Symbol.iterator](){return function*(){if(this.i===0)return;let l=this.p;for(;l!==this.h;)yield l.l,l=l.B}.bind(this)()}},a=s;e.default=a}),Mk=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=i(om()),t=lC();function i(a){return a&&a.t?a:{default:a}}var r=class dC extends t.RandomIterator{constructor(l,c,u){super(l,u),this.container=c}copy(){return new dC(this.o,this.container,this.iteratorType)}},o=class extends n.default{constructor(a=[],l=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let c=(()=>{if(typeof a.length=="number")return a.length;if(typeof a.size=="number")return a.size;if(typeof a.size=="function")return a.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=l,this.P=Math.max(Math.ceil(c/this.F),1);for(let f=0;f<this.P;++f)this.A.push(new Array(this.F));let u=Math.ceil(c/this.F);this.j=this.R=(this.P>>1)-(u>>1),this.D=this.N=this.F-c%this.F>>1;let d=this;a.forEach(function(f){d.pushBack(f)})}T(){let a=[],l=Math.max(this.P>>1,1);for(let c=0;c<l;++c)a[c]=new Array(this.F);for(let c=this.j;c<this.P;++c)a[a.length]=this.A[c];for(let c=0;c<this.R;++c)a[a.length]=this.A[c];a[a.length]=[...this.A[this.R]],this.j=l,this.R=a.length-1;for(let c=0;c<l;++c)a[a.length]=new Array(this.F);this.A=a,this.P=a.length}O(a){let l=this.D+a+1,c=l%this.F,u=c-1,d=this.j+(l-c)/this.F;return c===0&&(d-=1),d%=this.P,u<0&&(u+=this.F),{curNodeBucketIndex:d,curNodePointerIndex:u}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new r(0,this)}end(){return new r(this.i,this)}rBegin(){return new r(this.i-1,this,1)}rEnd(){return new r(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(a){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=a,this.i}popBack(){if(this.i===0)return;let a=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,a}pushFront(a){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=a,this.i}popFront(){if(this.i===0)return;let a=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,a}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:l,curNodePointerIndex:c}=this.O(a);return this.A[l][c]}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:c,curNodePointerIndex:u}=this.O(a);this.A[c][u]=l}insert(a,l,c=1){if(a<0||a>this.i)throw new RangeError;if(a===0)for(;c--;)this.pushFront(l);else if(a===this.i)for(;c--;)this.pushBack(l);else{let u=[];for(let d=a;d<this.i;++d)u.push(this.getElementByPos(d));this.cut(a-1);for(let d=0;d<c;++d)this.pushBack(l);for(let d=0;d<u.length;++d)this.pushBack(u[d])}return this.i}cut(a){if(a<0)return this.clear(),0;let{curNodeBucketIndex:l,curNodePointerIndex:c}=this.O(a);return this.R=l,this.N=c,this.i=a+1,this.i}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;if(a===0)this.popFront();else if(a===this.i-1)this.popBack();else{let l=[];for(let u=a+1;u<this.i;++u)l.push(this.getElementByPos(u));this.cut(a),this.popBack();let c=this;l.forEach(function(u){c.pushBack(u)})}return this.i}eraseElementByValue(a){if(this.i===0)return 0;let l=[];for(let u=0;u<this.i;++u){let d=this.getElementByPos(u);d!==a&&l.push(d)}let c=l.length;for(let u=0;u<c;++u)this.setElementByPos(u,l[u]);return this.cut(c-1)}eraseElementByIterator(a){let l=a.o;return this.eraseElementByPos(l),a=a.next(),a}find(a){for(let l=0;l<this.i;++l)if(this.getElementByPos(l)===a)return new r(l,this);return this.end()}reverse(){let a=0,l=this.i-1;for(;a<l;){let c=this.getElementByPos(a);this.setElementByPos(a,this.getElementByPos(l)),this.setElementByPos(l,c),a+=1,l-=1}}unique(){if(this.i<=1)return this.i;let a=1,l=this.getElementByPos(0);for(let c=1;c<this.i;++c){let u=this.getElementByPos(c);u!==l&&(l=u,this.setElementByPos(a++,u))}for(;this.i>a;)this.popBack();return this.i}sort(a){let l=[];for(let c=0;c<this.i;++c)l.push(this.getElementByPos(c));l.sort(a);for(let c=0;c<this.i;++c)this.setElementByPos(c,l[c])}shrinkToFit(){if(this.i===0)return;let a=[];this.forEach(function(l){a.push(l)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let l=0;l<this.P;++l)this.A.push(new Array(this.F));for(let l=0;l<a.length;++l)this.pushBack(a[l])}forEach(a){for(let l=0;l<this.i;++l)a(this.getElementByPos(l),l,this)}[Symbol.iterator](){return function*(){for(let a=0;a<this.i;++a)yield this.getElementByPos(a)}.bind(this)()}},s=o;e.default=s}),Tk=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var n=class{constructor(i,r){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=i,this.l=r}L(){let i=this;if(i.ee===1&&i.tt.tt===i)i=i.W;else if(i.U)for(i=i.U;i.W;)i=i.W;else{let r=i.tt;for(;r.U===i;)i=r,r=i.tt;i=r}return i}B(){let i=this;if(i.W){for(i=i.W;i.U;)i=i.U;return i}else{let r=i.tt;for(;r.W===i;)i=r,r=i.tt;return i.W!==r?r:i}}te(){let i=this.tt,r=this.W,o=r.U;return i.tt===this?i.tt=r:i.U===this?i.U=r:i.W=r,r.tt=i,r.U=this,this.tt=r,this.W=o,o&&(o.tt=this),r}se(){let i=this.tt,r=this.U,o=r.W;return i.tt===this?i.tt=r:i.U===this?i.U=r:i.W=r,r.tt=i,r.W=this,this.tt=r,this.U=o,o&&(o.tt=this),r}};e.TreeNode=n;var t=class extends n{constructor(){super(...arguments),this.rt=1}te(){let i=super.te();return this.ie(),i.ie(),i}se(){let i=super.se();return this.ie(),i.ie(),i}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};e.TreeNodeEnableIndex=t}),fC=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=Tk(),t=rr(),i=or(),r=class extends t.Container{constructor(s=function(l,c){return l<c?-1:l>c?1:0},a=!1){super(),this.Y=void 0,this.v=s,a?(this.re=n.TreeNodeEnableIndex,this.M=function(l,c,u){let d=this.ne(l,c,u);if(d){let f=d.tt;for(;f!==this.h;)f.rt+=1,f=f.tt;let h=this.he(d);if(h){let{parentNode:g,grandParent:m,curNode:v}=h;g.ie(),m.ie(),v.ie()}}return this.i},this.V=function(l){let c=this.fe(l);for(;c!==this.h;)c.rt-=1,c=c.tt}):(this.re=n.TreeNode,this.M=function(l,c,u){let d=this.ne(l,c,u);return d&&this.he(d),this.i},this.V=this.fe),this.h=new this.re}X(s,a){let l=this.h;for(;s;){let c=this.v(s.u,a);if(c<0)s=s.W;else if(c>0)l=s,s=s.U;else return s}return l}Z(s,a){let l=this.h;for(;s;)this.v(s.u,a)<=0?s=s.W:(l=s,s=s.U);return l}$(s,a){let l=this.h;for(;s;){let c=this.v(s.u,a);if(c<0)l=s,s=s.W;else if(c>0)s=s.U;else return s}return l}rr(s,a){let l=this.h;for(;s;)this.v(s.u,a)<0?(l=s,s=s.W):s=s.U;return l}ue(s){for(;;){let a=s.tt;if(a===this.h)return;if(s.ee===1){s.ee=0;return}if(s===a.U){let l=a.W;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.te():a.te();else if(l.W&&l.W.ee===1){l.ee=a.ee,a.ee=0,l.W.ee=0,a===this.Y?this.Y=a.te():a.te();return}else l.U&&l.U.ee===1?(l.ee=1,l.U.ee=0,l.se()):(l.ee=1,s=a)}else{let l=a.U;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.se():a.se();else if(l.U&&l.U.ee===1){l.ee=a.ee,a.ee=0,l.U.ee=0,a===this.Y?this.Y=a.se():a.se();return}else l.W&&l.W.ee===1?(l.ee=1,l.W.ee=0,l.te()):(l.ee=1,s=a)}}}fe(s){if(this.i===1)return this.clear(),this.h;let a=s;for(;a.U||a.W;){if(a.W)for(a=a.W;a.U;)a=a.U;else a=a.U;[s.u,a.u]=[a.u,s.u],[s.l,a.l]=[a.l,s.l],s=a}this.h.U===a?this.h.U=a.tt:this.h.W===a&&(this.h.W=a.tt),this.ue(a);let l=a.tt;return a===l.U?l.U=void 0:l.W=void 0,this.i-=1,this.Y.ee=0,l}oe(s,a){return s===void 0?!1:this.oe(s.U,a)||a(s)?!0:this.oe(s.W,a)}he(s){for(;;){let a=s.tt;if(a.ee===0)return;let l=a.tt;if(a===l.U){let c=l.W;if(c&&c.ee===1){if(c.ee=a.ee=0,l===this.Y)return;l.ee=1,s=l;continue}else if(s===a.W){if(s.ee=0,s.U&&(s.U.tt=a),s.W&&(s.W.tt=l),a.W=s.U,l.U=s.W,s.U=a,s.W=l,l===this.Y)this.Y=s,this.h.tt=s;else{let u=l.tt;u.U===l?u.U=s:u.W=s}return s.tt=l.tt,a.tt=s,l.tt=s,l.ee=1,{parentNode:a,grandParent:l,curNode:s}}else a.ee=0,l===this.Y?this.Y=l.se():l.se(),l.ee=1}else{let c=l.U;if(c&&c.ee===1){if(c.ee=a.ee=0,l===this.Y)return;l.ee=1,s=l;continue}else if(s===a.U){if(s.ee=0,s.U&&(s.U.tt=l),s.W&&(s.W.tt=a),l.W=s.U,a.U=s.W,s.U=l,s.W=a,l===this.Y)this.Y=s,this.h.tt=s;else{let u=l.tt;u.U===l?u.U=s:u.W=s}return s.tt=l.tt,a.tt=s,l.tt=s,l.ee=1,{parentNode:a,grandParent:l,curNode:s}}else a.ee=0,l===this.Y?this.Y=l.te():l.te(),l.ee=1}return}}ne(s,a,l){if(this.Y===void 0){this.i+=1,this.Y=new this.re(s,a),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let c,u=this.h.U,d=this.v(u.u,s);if(d===0){u.l=a;return}else if(d>0)u.U=new this.re(s,a),u.U.tt=u,c=u.U,this.h.U=c;else{let f=this.h.W,h=this.v(f.u,s);if(h===0){f.l=a;return}else if(h<0)f.W=new this.re(s,a),f.W.tt=f,c=f.W,this.h.W=c;else{if(l!==void 0){let g=l.o;if(g!==this.h){let m=this.v(g.u,s);if(m===0){g.l=a;return}else if(m>0){let v=g.L(),y=this.v(v.u,s);if(y===0){v.l=a;return}else y<0&&(c=new this.re(s,a),v.W===void 0?(v.W=c,c.tt=v):(g.U=c,c.tt=g))}}}if(c===void 0)for(c=this.Y;;){let g=this.v(c.u,s);if(g>0){if(c.U===void 0){c.U=new this.re(s,a),c.U.tt=c,c=c.U;break}c=c.U}else if(g<0){if(c.W===void 0){c.W=new this.re(s,a),c.W.tt=c,c=c.W;break}c=c.W}else{c.l=a;return}}}}return this.i+=1,c}I(s,a){for(;s;){let l=this.v(s.u,a);if(l<0)s=s.W;else if(l>0)s=s.U;else return s}return s||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(s,a){let l=s.o;if(l===this.h&&(0,i.throwIteratorAccessError)(),this.i===1)return l.u=a,!0;if(l===this.h.U)return this.v(l.B().u,a)>0?(l.u=a,!0):!1;if(l===this.h.W)return this.v(l.L().u,a)<0?(l.u=a,!0):!1;let c=l.L().u;if(this.v(c,a)>=0)return!1;let u=l.B().u;return this.v(u,a)<=0?!1:(l.u=a,!0)}eraseElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let a=0,l=this;return this.oe(this.Y,function(c){return s===a?(l.V(c),!0):(a+=1,!1)}),this.i}eraseElementByKey(s){if(this.i===0)return!1;let a=this.I(this.Y,s);return a===this.h?!1:(this.V(a),!0)}eraseElementByIterator(s){let a=s.o;a===this.h&&(0,i.throwIteratorAccessError)();let l=a.W===void 0;return s.iteratorType===0?l&&s.next():(!l||a.U===void 0)&&s.next(),this.V(a),s}forEach(s){let a=0;for(let l of this)s(l,a++,this)}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let a,l=0;for(let c of this){if(l===s){a=c;break}l+=1}return a}getHeight(){if(this.i===0)return 0;let s=function(a){return a?Math.max(s(a.U),s(a.W))+1:0};return s(this.Y)}},o=r;e.default=o}),hC=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=rr(),t=or(),i=class extends n.ContainerIterator{constructor(o,s,a){super(a),this.o=o,this.h=s,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,t.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,t.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let o=this.o,s=this.h.tt;if(o===this.h)return s?s.rt-1:0;let a=0;for(o.U&&(a+=o.U.rt);o!==s;){let l=o.tt;o===l.W&&(a+=1,l.U&&(a+=l.U.rt)),o=l}return a}},r=i;e.default=r}),Ak=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=r(fC()),t=r(hC()),i=or();function r(l){return l&&l.t?l:{default:l}}var o=class pC extends t.default{constructor(c,u,d,f){super(c,u,f),this.container=d}get pointer(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.u}copy(){return new pC(this.o,this.h,this.container,this.iteratorType)}},s=class extends n.default{constructor(l=[],c,u){super(c,u);let d=this;l.forEach(function(f){d.insert(f)})}*K(l){l!==void 0&&(yield*ar(this.K(l.U)),yield l.u,yield*ar(this.K(l.W)))}begin(){return new o(this.h.U||this.h,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this.h.W||this.h,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(l,c){return this.M(l,void 0,c)}find(l){let c=this.I(this.Y,l);return new o(c,this.h,this)}lowerBound(l){let c=this.X(this.Y,l);return new o(c,this.h,this)}upperBound(l){let c=this.Z(this.Y,l);return new o(c,this.h,this)}reverseLowerBound(l){let c=this.$(this.Y,l);return new o(c,this.h,this)}reverseUpperBound(l){let c=this.rr(this.Y,l);return new o(c,this.h,this)}union(l){let c=this;return l.forEach(function(u){c.insert(u)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=s;e.default=a}),Ok=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=r(fC()),t=r(hC()),i=or();function r(l){return l&&l.t?l:{default:l}}var o=class gC extends t.default{constructor(c,u,d,f){super(c,u,f),this.container=d}get pointer(){this.o===this.h&&(0,i.throwIteratorAccessError)();let c=this;return new Proxy([],{get(u,d){if(d==="0")return c.o.u;if(d==="1")return c.o.l},set(u,d,f){if(d!=="1")throw new TypeError("props must be 1");return c.o.l=f,!0}})}copy(){return new gC(this.o,this.h,this.container,this.iteratorType)}},s=class extends n.default{constructor(l=[],c,u){super(c,u);let d=this;l.forEach(function(f){d.setElement(f[0],f[1])})}*K(l){l!==void 0&&(yield*ar(this.K(l.U)),yield[l.u,l.l],yield*ar(this.K(l.W)))}begin(){return new o(this.h.U||this.h,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this.h.W||this.h,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){if(this.i===0)return;let l=this.h.U;return[l.u,l.l]}back(){if(this.i===0)return;let l=this.h.W;return[l.u,l.l]}lowerBound(l){let c=this.X(this.Y,l);return new o(c,this.h,this)}upperBound(l){let c=this.Z(this.Y,l);return new o(c,this.h,this)}reverseLowerBound(l){let c=this.$(this.Y,l);return new o(c,this.h,this)}reverseUpperBound(l){let c=this.rr(this.Y,l);return new o(c,this.h,this)}setElement(l,c,u){return this.M(l,c,u)}find(l){let c=this.I(this.Y,l);return new o(c,this.h,this)}getElementByKey(l){return this.I(this.Y,l).l}union(l){let c=this;return l.forEach(function(u){c.setElement(u[0],u[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=s;e.default=a}),mC=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),e.default=n;function n(t){let i=typeof t;return i==="object"&&t!==null||i==="function"}}),_C=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var n=rr(),t=r(mC()),i=or();function r(a){return a&&a.t?a:{default:a}}var o=class extends n.ContainerIterator{constructor(a,l,c){super(c),this.o=a,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this})}};e.HashContainerIterator=o;var s=class extends n.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(a){let{L:l,B:c}=a;l.B=c,c.L=l,a===this.p&&(this.p=c),a===this._&&(this._=l),this.i-=1}M(a,l,c){c===void 0&&(c=(0,t.default)(a));let u;if(c){let d=a[this.HASH_TAG];if(d!==void 0)return this.H[d].l=l,this.i;Object.defineProperty(a,this.HASH_TAG,{value:this.H.length,configurable:!0}),u={u:a,l,L:this._,B:this.h},this.H.push(u)}else{let d=this.g[a];if(d)return d.l=l,this.i;u={u:a,l,L:this._,B:this.h},this.g[a]=u}return this.i===0?(this.p=u,this.h.B=u):this._.B=u,this._=u,this.h.L=u,++this.i}I(a,l){if(l===void 0&&(l=(0,t.default)(a)),l){let c=a[this.HASH_TAG];return c===void 0?this.h:this.H[c]}else return this.g[a]||this.h}clear(){let a=this.HASH_TAG;this.H.forEach(function(l){delete l.u[a]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(a,l){let c;if(l===void 0&&(l=(0,t.default)(a)),l){let u=a[this.HASH_TAG];if(u===void 0)return!1;delete a[this.HASH_TAG],c=this.H[u],delete this.H[u]}else{if(c=this.g[a],c===void 0)return!1;delete this.g[a]}return this.V(c),!0}eraseElementByIterator(a){let l=a.o;return l===this.h&&(0,i.throwIteratorAccessError)(),this.V(l),a.next()}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let l=this.p;for(;a--;)l=l.B;return this.V(l),this.i}};e.HashContainer=s}),Nk=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=_C(),t=or(),i=class vC extends n.HashContainerIterator{constructor(a,l,c,u){super(a,l,u),this.container=c}get pointer(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o.u}copy(){return new vC(this.o,this.h,this.container,this.iteratorType)}},r=class extends n.HashContainer{constructor(s=[]){super();let a=this;s.forEach(function(l){a.insert(l)})}begin(){return new i(this.p,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this._,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(s,a){return this.M(s,void 0,a)}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let a=this.p;for(;s--;)a=a.B;return a.u}find(s,a){let l=this.I(s,a);return new i(l,this.h,this)}forEach(s){let a=0,l=this.p;for(;l!==this.h;)s(l.u,a++,this),l=l.B}[Symbol.iterator](){return function*(){let s=this.p;for(;s!==this.h;)yield s.u,s=s.B}.bind(this)()}},o=r;e.default=o}),Rk=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=_C(),t=r(mC()),i=or();function r(l){return l&&l.t?l:{default:l}}var o=class yC extends n.HashContainerIterator{constructor(c,u,d,f){super(c,u,f),this.container=d}get pointer(){this.o===this.h&&(0,i.throwIteratorAccessError)();let c=this;return new Proxy([],{get(u,d){if(d==="0")return c.o.u;if(d==="1")return c.o.l},set(u,d,f){if(d!=="1")throw new TypeError("props must be 1");return c.o.l=f,!0}})}copy(){return new yC(this.o,this.h,this.container,this.iteratorType)}},s=class extends n.HashContainer{constructor(l=[]){super();let c=this;l.forEach(function(u){c.setElement(u[0],u[1])})}begin(){return new o(this.p,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this._,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(l,c,u){return this.M(l,c,u)}getElementByKey(l,c){if(c===void 0&&(c=(0,t.default)(l)),c){let d=l[this.HASH_TAG];return d!==void 0?this.H[d].l:void 0}let u=this.g[l];return u?u.l:void 0}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return[c.u,c.l]}find(l,c){let u=this.I(l,c);return new o(u,this.h,this)}forEach(l){let c=0,u=this.p;for(;u!==this.h;)l([u.u,u.l],c++,this),u=u.B}[Symbol.iterator](){return function*(){let l=this.p;for(;l!==this.h;)yield[l.u,l.l],l=l.B}.bind(this)()}},a=s;e.default=a}),kk=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return r.default}});var n=d(xk()),t=d(Dk()),i=d(Ek()),r=d(Sk()),o=d(Ik()),s=d(Mk()),a=d(Ak()),l=d(Ok()),c=d(Nk()),u=d(Rk());function d(f){return f&&f.t?f:{default:f}}}),Fk=we((e,n)=>{"use strict";me(),ve(),_e();var t=kk().OrderedSet,i=nr()("number-allocator:trace"),r=nr()("number-allocator:error");function o(a,l){this.low=a,this.high=l}o.prototype.equals=function(a){return this.low===a.low&&this.high===a.high},o.prototype.compare=function(a){return this.low<a.low&&this.high<a.low?-1:a.low<this.low&&a.high<this.low?1:0};function s(a,l){if(!(this instanceof s))return new s(a,l);this.min=a,this.max=l,this.ss=new t([],(c,u)=>c.compare(u)),i("Create"),this.clear()}s.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},s.prototype.alloc=function(){if(this.ss.size()===0)return i("alloc():empty"),null;let a=this.ss.begin(),l=a.pointer.low,c=a.pointer.high,u=l;return u+1<=c?this.ss.updateKeyByIterator(a,new o(l+1,c)):this.ss.eraseElementByPos(0),i("alloc():"+u),u},s.prototype.use=function(a){let l=new o(a,a),c=this.ss.lowerBound(l);if(!c.equals(this.ss.end())){let u=c.pointer.low,d=c.pointer.high;return c.pointer.equals(l)?(this.ss.eraseElementByIterator(c),i("use():"+a),!0):u>a?!1:u===a?(this.ss.updateKeyByIterator(c,new o(u+1,d)),i("use():"+a),!0):d===a?(this.ss.updateKeyByIterator(c,new o(u,d-1)),i("use():"+a),!0):(this.ss.updateKeyByIterator(c,new o(a+1,d)),this.ss.insert(new o(u,a-1)),i("use():"+a),!0)}return i("use():failed"),!1},s.prototype.free=function(a){if(a<this.min||a>this.max){r("free():"+a+" is out of range");return}let l=new o(a,a),c=this.ss.upperBound(l);if(c.equals(this.ss.end())){if(c.equals(this.ss.begin())){this.ss.insert(l);return}c.pre();let u=c.pointer.high;c.pointer.high+1===a?this.ss.updateKeyByIterator(c,new o(u,a)):this.ss.insert(l)}else if(c.equals(this.ss.begin()))if(a+1===c.pointer.low){let u=c.pointer.high;this.ss.updateKeyByIterator(c,new o(a,u))}else this.ss.insert(l);else{let u=c.pointer.low,d=c.pointer.high;c.pre();let f=c.pointer.low;c.pointer.high+1===a?a+1===u?(this.ss.eraseElementByIterator(c),this.ss.updateKeyByIterator(c,new o(f,d))):this.ss.updateKeyByIterator(c,new o(f,a)):a+1===u?(this.ss.eraseElementByIterator(c.next()),this.ss.insert(new o(a,d))):this.ss.insert(l)}i("free():"+a)},s.prototype.clear=function(){i("clear()"),this.ss.clear(),this.ss.insert(new o(this.min,this.max))},s.prototype.intervalCount=function(){return this.ss.size()},s.prototype.dump=function(){console.log("length:"+this.ss.size());for(let a of this.ss)console.log(a)},n.exports=s}),bC=we((e,n)=>{me(),ve(),_e();var t=Fk();n.exports.NumberAllocator=t}),Pk=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"__esModule",{value:!0});var n=Ck(),t=bC(),i=class{constructor(r){r>0&&(this.aliasToTopic=new n.LRUCache({max:r}),this.topicToAlias={},this.numberAllocator=new t.NumberAllocator(1,r),this.max=r,this.length=0)}put(r,o){if(o===0||o>this.max)return!1;let s=this.aliasToTopic.get(o);return s&&delete this.topicToAlias[s],this.aliasToTopic.set(o,r),this.topicToAlias[r]=o,this.numberAllocator.use(o),this.length=this.aliasToTopic.size,!0}getTopicByAlias(r){return this.aliasToTopic.get(r)}getAliasByTopic(r){let o=this.topicToAlias[r];return typeof o<"u"&&this.aliasToTopic.get(o),o}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};e.default=i}),Bk=we(e=>{"use strict";me(),ve(),_e();var n=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var t=Tu(),i=n(Pk()),r=_s(),o=(s,a)=>{s.log("_handleConnack");let{options:l}=s,c=l.protocolVersion===5?a.reasonCode:a.returnCode;if(clearTimeout(s.connackTimer),delete s.topicAliasSend,a.properties){if(a.properties.topicAliasMaximum){if(a.properties.topicAliasMaximum>65535){s.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}a.properties.topicAliasMaximum>0&&(s.topicAliasSend=new i.default(a.properties.topicAliasMaximum))}a.properties.serverKeepAlive&&l.keepalive&&(l.keepalive=a.properties.serverKeepAlive),a.properties.maximumPacketSize&&(l.properties||(l.properties={}),l.properties.maximumPacketSize=a.properties.maximumPacketSize)}if(c===0)s.reconnecting=!1,s._onConnect(a);else if(c>0){let u=new r.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[c]}`,c);s.emit("error",u),s.options.reconnectOnConnackError&&s._cleanUp(!0)}};e.default=o}),Lk=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"__esModule",{value:!0});var n=(t,i,r)=>{t.log("handling pubrel packet");let o=typeof r<"u"?r:t.noop,{messageId:s}=i,a={cmd:"pubcomp",messageId:s};t.incomingStore.get(i,(l,c)=>{l?t._sendPacket(a,o):(t.emit("message",c.topic,c.payload,c),t.handleMessage(c,u=>{if(u)return o(u);t.incomingStore.del(c,t.noop),t._sendPacket(a,o)}))})};e.default=n}),jk=we(e=>{"use strict";me(),ve(),_e();var n=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var t=n(yk()),i=n(wk()),r=n(Bk()),o=n(Tu()),s=n(Lk()),a=(l,c,u)=>{let{options:d}=l;if(d.protocolVersion===5&&d.properties&&d.properties.maximumPacketSize&&d.properties.maximumPacketSize<c.length)return l.emit("error",new Error(`exceeding packets size ${c.cmd}`)),l.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),l;switch(l.log("_handlePacket :: emitting packetreceive"),l.emit("packetreceive",c),c.cmd){case"publish":(0,t.default)(l,c,u);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":l.reschedulePing(),(0,o.default)(l,c),u();break;case"pubrel":l.reschedulePing(),(0,s.default)(l,c,u);break;case"connack":(0,r.default)(l,c),u();break;case"auth":l.reschedulePing(),(0,i.default)(l,c),u();break;case"pingresp":l.log("_handlePacket :: received pingresp"),l.reschedulePing(!0),u();break;case"disconnect":l.emit("disconnect",c),u();break;default:l.log("_handlePacket :: unknown command"),u();break}};e.default=a}),Vk=we(e=>{"use strict";me(),ve(),_e();var n=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var t=n((vo(),St(Or))),i=_s(),r=class{};e.TypedEventEmitter=r,(0,i.applyMixin)(r,t.default)}),Au=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"__esModule",{value:!0}),e.isReactNativeBrowser=e.isWebWorker=void 0;var n=()=>{var o;return typeof window<"u"?typeof navigator<"u"&&((o=navigator.userAgent)===null||o===void 0?void 0:o.toLowerCase().indexOf(" electron/"))>-1&&vt!=null&&vt.versions?!Object.prototype.hasOwnProperty.call(vt.versions,"electron"):typeof window.document<"u":!1},t=()=>{var o,s;return!!(typeof self=="object"&&!((s=(o=self?.constructor)===null||o===void 0?void 0:o.name)===null||s===void 0)&&s.includes("WorkerGlobalScope"))},i=()=>typeof navigator<"u"&&navigator.product==="ReactNative",r=n()||t()||i();e.isWebWorker=t(),e.isReactNativeBrowser=i(),e.default=r}),Hk=we((e,n)=>{me(),ve(),_e(),function(t,i){typeof e=="object"&&typeof n<"u"?i(e):typeof define=="function"&&define.amd?define(["exports"],i):(t=typeof globalThis<"u"?globalThis:t||self,i(t.fastUniqueNumbers={}))}(e,function(t){"use strict";var i=function(h){return function(g){var m=h(g);return g.add(m),m}},r=function(h){return function(g,m){return h.set(g,m),m}},o=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,s=536870912,a=s*2,l=function(h,g){return function(m){var v=g.get(m),y=v===void 0?m.size:v<a?v+1:0;if(!m.has(y))return h(m,y);if(m.size<s){for(;m.has(y);)y=Math.floor(Math.random()*a);return h(m,y)}if(m.size>o)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;m.has(y);)y=Math.floor(Math.random()*o);return h(m,y)}},c=new WeakMap,u=r(c),d=l(u,c),f=i(d);t.addUniqueNumber=f,t.generateUniqueNumber=d})}),Uk=we((e,n)=>{me(),ve(),_e(),function(t,i){typeof e=="object"&&typeof n<"u"?i(e,Hk()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],i):(t=typeof globalThis<"u"?globalThis:t||self,i(t.workerTimersBroker={},t.fastUniqueNumbers))}(e,function(t,i){"use strict";var r=function(a){return a.method!==void 0&&a.method==="call"},o=function(a){return a.error===null&&typeof a.id=="number"},s=function(a){var l=new Map([[0,function(){}]]),c=new Map([[0,function(){}]]),u=new Map,d=new Worker(a);d.addEventListener("message",function(v){var y=v.data;if(r(y)){var p=y.params,b=p.timerId,x=p.timerType;if(x==="interval"){var D=l.get(b);if(typeof D=="number"){var C=u.get(D);if(C===void 0||C.timerId!==b||C.timerType!==x)throw new Error("The timer is in an undefined state.")}else if(typeof D<"u")D();else throw new Error("The timer is in an undefined state.")}else if(x==="timeout"){var S=c.get(b);if(typeof S=="number"){var M=u.get(S);if(M===void 0||M.timerId!==b||M.timerType!==x)throw new Error("The timer is in an undefined state.")}else if(typeof S<"u")S(),c.delete(b);else throw new Error("The timer is in an undefined state.")}}else if(o(y)){var R=y.id,$=u.get(R);if($===void 0)throw new Error("The timer is in an undefined state.");var B=$.timerId,T=$.timerType;u.delete(R),T==="interval"?l.delete(B):c.delete(B)}else{var P=y.error.message;throw new Error(P)}});var f=function(v){var y=i.generateUniqueNumber(u);u.set(y,{timerId:v,timerType:"interval"}),l.set(v,y),d.postMessage({id:y,method:"clear",params:{timerId:v,timerType:"interval"}})},h=function(v){var y=i.generateUniqueNumber(u);u.set(y,{timerId:v,timerType:"timeout"}),c.set(v,y),d.postMessage({id:y,method:"clear",params:{timerId:v,timerType:"timeout"}})},g=function(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=i.generateUniqueNumber(l);return l.set(p,function(){v(),typeof l.get(p)=="function"&&d.postMessage({id:null,method:"set",params:{delay:y,now:performance.now(),timerId:p,timerType:"interval"}})}),d.postMessage({id:null,method:"set",params:{delay:y,now:performance.now(),timerId:p,timerType:"interval"}}),p},m=function(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=i.generateUniqueNumber(c);return c.set(p,v),d.postMessage({id:null,method:"set",params:{delay:y,now:performance.now(),timerId:p,timerType:"timeout"}}),p};return{clearInterval:f,clearTimeout:h,setInterval:g,setTimeout:m}};t.load=s})}),$k=we((e,n)=>{me(),ve(),_e(),function(t,i){typeof e=="object"&&typeof n<"u"?i(e,Uk()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],i):(t=typeof globalThis<"u"?globalThis:t||self,i(t.workerTimers={},t.workerTimersBroker))}(e,function(t,i){"use strict";var r=function(d,f){var h=null;return function(){if(h!==null)return h;var g=new Blob([f],{type:"application/javascript; charset=utf-8"}),m=URL.createObjectURL(g);return h=d(m),setTimeout(function(){return URL.revokeObjectURL(m)}),h}},o=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,s=r(i.load,o),a=function(d){return s().clearInterval(d)},l=function(d){return s().clearTimeout(d)},c=function(){var d;return(d=s()).setInterval.apply(d,arguments)},u=function(){var d;return(d=s()).setTimeout.apply(d,arguments)};t.clearInterval=a,t.clearTimeout=l,t.setInterval=c,t.setTimeout=u})}),Gk=we(e=>{"use strict";me(),ve(),_e();var n=e&&e.__createBinding||(Object.create?function(c,u,d,f){f===void 0&&(f=d);var h=Object.getOwnPropertyDescriptor(u,d);(!h||("get"in h?!u.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(c,f,h)}:function(c,u,d,f){f===void 0&&(f=d),c[f]=u[d]}),t=e&&e.__setModuleDefault||(Object.create?function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}:function(c,u){c.default=u}),i=e&&e.__importStar||function(){var c=function(u){return c=Object.getOwnPropertyNames||function(d){var f=[];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(f[f.length]=h);return f},c(u)};return function(u){if(u&&u.__esModule)return u;var d={};if(u!=null)for(var f=c(u),h=0;h<f.length;h++)f[h]!=="default"&&n(d,u,f[h]);return t(d,u),d}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(Au()),o=$k(),s={set:o.setInterval,clear:o.clearInterval},a={set:(c,u)=>setInterval(c,u),clear:c=>clearInterval(c)},l=c=>{switch(c){case"native":return a;case"worker":return s;case"auto":default:return r.default&&!r.isWebWorker&&!r.isReactNativeBrowser?s:a}};e.default=l}),wC=we(e=>{"use strict";me(),ve(),_e();var n=e&&e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var t=n(Gk()),i=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(r,o){this.destroyed=!1,this.client=r,this.timer=typeof o=="object"&&"set"in o&&"clear"in o?o:(0,t.default)(o),this.setKeepalive(r.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(r){if(r*=1e3,isNaN(r)||r<=0||r>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${r}`);this._keepalive=r,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${r}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let r=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+r,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};e.default=i}),Gg=we(e=>{"use strict";me(),ve(),_e();var n=e&&e.__createBinding||(Object.create?function(D,C,S,M){M===void 0&&(M=S);var R=Object.getOwnPropertyDescriptor(C,S);(!R||("get"in R?!C.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return C[S]}}),Object.defineProperty(D,M,R)}:function(D,C,S,M){M===void 0&&(M=S),D[M]=C[S]}),t=e&&e.__setModuleDefault||(Object.create?function(D,C){Object.defineProperty(D,"default",{enumerable:!0,value:C})}:function(D,C){D.default=C}),i=e&&e.__importStar||function(){var D=function(C){return D=Object.getOwnPropertyNames||function(S){var M=[];for(var R in S)Object.prototype.hasOwnProperty.call(S,R)&&(M[M.length]=R);return M},D(C)};return function(C){if(C&&C.__esModule)return C;var S={};if(C!=null)for(var M=D(C),R=0;R<M.length;R++)M[R]!=="default"&&n(S,C,M[R]);return t(S,C),S}}(),r=e&&e.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(JR()),s=r(gk()),a=r(rC()),l=bo(),c=r(_k()),u=i(vk()),d=r(nr()),f=r(oC()),h=r(jk()),g=_s(),m=Vk(),v=r(wC()),y=i(Au()),p=globalThis.setImmediate||((...D)=>{let C=D.shift();(0,g.nextTick)(()=>{C(...D)})}),b={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},x=class Wg extends m.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(C,S){super(),this.options=S||{};for(let M in b)typeof this.options[M]>"u"?this.options[M]=b[M]:this.options[M]=S[M];this.log=this.options.log||(0,d.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Wg.VERSION),y.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",y.default?"browser":"node"),this.log("MqttClient :: options.protocol",S.protocol),this.log("MqttClient :: options.protocolVersion",S.protocolVersion),this.log("MqttClient :: options.username",S.username),this.log("MqttClient :: options.keepalive",S.keepalive),this.log("MqttClient :: options.reconnectPeriod",S.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",S.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",S.properties?S.properties.topicAliasMaximum:void 0),this.options.clientId=typeof S.clientId=="string"?S.clientId:Wg.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=S.protocolVersion===5&&S.customHandleAcks?S.customHandleAcks:(...M)=>{M[3](null,0)},this.options.writeCache||(s.default.writeToStream.cacheNumbers=!1),this.streamBuilder=C,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new a.default:this.options.messageIdProvider,this.outgoingStore=S.outgoingStore||new f.default,this.incomingStore=S.incomingStore||new f.default,this.queueQoSZero=S.queueQoSZero===void 0?!0:S.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,S.properties&&S.properties.topicAliasMaximum>0&&(S.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new o.default(S.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:M}=this,R=()=>{let $=M.shift();this.log("deliver :: entry %o",$);let B=null;if(!$){this._resubscribe();return}B=$.packet,this.log("deliver :: call _sendPacket for %o",B);let T=!0;B.messageId&&B.messageId!==0&&(this.messageIdProvider.register(B.messageId)||(T=!1)),T?this._sendPacket(B,P=>{$.cb&&$.cb(P),R()}):(this.log("messageId: %d has already used. The message is skipped and removed.",B.messageId),R())};this.log("connect :: sending queued packets"),R()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(C,S){S()}handleMessage(C,S){S()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var C;let S=new l.Writable,M=s.default.parser(this.options),R=null,$=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new f.default,this.outgoingStore=this.options.outgoingStore||new f.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),M.on("packet",j=>{this.log("parser :: on packet push to packets array."),$.push(j)});let B=()=>{this.log("work :: getting next packet in queue");let j=$.shift();if(j)this.log("work :: packet pulled from queue"),(0,h.default)(this,j,T);else{this.log("work :: no packets in queue");let J=R;R=null,this.log("work :: done flag is %s",!!J),J&&J()}},T=()=>{if($.length)(0,g.nextTick)(B);else{let j=R;R=null,j()}};S._write=(j,J,ie)=>{R=ie,this.log("writable stream :: parsing buffer"),M.parse(j),B()};let P=j=>{this.log("streamErrorHandler :: error",j.message),j.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",j)):this.noop(j)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(S),this.stream.on("error",P),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let F={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(F.will=Object.assign(Object.assign({},this.options.will),{payload:(C=this.options.will)===null||C===void 0?void 0:C.payload})),this.topicAliasRecv&&(F.properties||(F.properties={}),this.topicAliasRecv&&(F.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(F),M.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let j=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(j)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(C,S,M,R){this.log("publish :: message `%s` to topic `%s`",S,C);let{options:$}=this;typeof M=="function"&&(R=M,M=null),M=M||{},M=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),M);let{qos:B,retain:T,dup:P,properties:F,cbStorePut:j}=M;if(this._checkDisconnecting(R))return this;let J=()=>{let ie=0;if((B===1||B===2)&&(ie=this._nextId(),ie===null))return this.log("No messageId left"),!1;let oe={cmd:"publish",topic:C,payload:S,qos:B,retain:T,messageId:ie,dup:P};switch($.protocolVersion===5&&(oe.properties=F),this.log("publish :: qos",B),B){case 1:case 2:this.outgoing[oe.messageId]={volatile:!1,cb:R||this.noop},this.log("MqttClient:publish: packet cmd: %s",oe.cmd),this._sendPacket(oe,void 0,j);break;default:this.log("MqttClient:publish: packet cmd: %s",oe.cmd),this._sendPacket(oe,R,j);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!J())&&this._storeProcessingQueue.push({invoke:J,cbStorePut:M.cbStorePut,callback:R}),this}publishAsync(C,S,M){return new Promise((R,$)=>{this.publish(C,S,M,(B,T)=>{B?$(B):R(T)})})}subscribe(C,S,M){let R=this.options.protocolVersion;typeof S=="function"&&(M=S),M=M||this.noop;let $=!1,B=[];typeof C=="string"?(C=[C],B=C):Array.isArray(C)?B=C:typeof C=="object"&&($=C.resubscribe,delete C.resubscribe,B=Object.keys(C));let T=u.validateTopics(B);if(T!==null)return p(M,new Error(`Invalid topic ${T}`)),this;if(this._checkDisconnecting(M))return this.log("subscribe: discconecting true"),this;let P={qos:0};R===5&&(P.nl=!1,P.rap=!1,P.rh=0),S=Object.assign(Object.assign({},P),S);let F=S.properties,j=[],J=(oe,q)=>{if(q=q||S,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,oe)||this._resubscribeTopics[oe].qos<q.qos||$){let O={topic:oe,qos:q.qos};R===5&&(O.nl=q.nl,O.rap=q.rap,O.rh=q.rh,O.properties=F),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",O.topic,O.qos),j.push(O)}};if(Array.isArray(C)?C.forEach(oe=>{this.log("subscribe: array topic %s",oe),J(oe)}):Object.keys(C).forEach(oe=>{this.log("subscribe: object topic %s, %o",oe,C[oe]),J(oe,C[oe])}),!j.length)return M(null,[]),this;let ie=()=>{let oe=this._nextId();if(oe===null)return this.log("No messageId left"),!1;let q={cmd:"subscribe",subscriptions:j,messageId:oe};if(F&&(q.properties=F),this.options.resubscribe){this.log("subscribe :: resubscribe true");let O=[];j.forEach(W=>{if(this.options.reconnectPeriod>0){let I={qos:W.qos};R===5&&(I.nl=W.nl||!1,I.rap=W.rap||!1,I.rh=W.rh||0,I.properties=W.properties),this._resubscribeTopics[W.topic]=I,O.push(W.topic)}}),this.messageIdToTopic[q.messageId]=O}return this.outgoing[q.messageId]={volatile:!0,cb(O,W){if(!O){let{granted:I}=W;for(let ue=0;ue<I.length;ue+=1)j[ue].qos=I[ue]}M(O,j,W)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(q),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ie())&&this._storeProcessingQueue.push({invoke:ie,callback:M}),this}subscribeAsync(C,S){return new Promise((M,R)=>{this.subscribe(C,S,($,B)=>{$?R($):M(B)})})}unsubscribe(C,S,M){typeof C=="string"&&(C=[C]),typeof S=="function"&&(M=S),M=M||this.noop;let R=u.validateTopics(C);if(R!==null)return p(M,new Error(`Invalid topic ${R}`)),this;if(this._checkDisconnecting(M))return this;let $=()=>{let B=this._nextId();if(B===null)return this.log("No messageId left"),!1;let T={cmd:"unsubscribe",messageId:B,unsubscriptions:[]};return typeof C=="string"?T.unsubscriptions=[C]:Array.isArray(C)&&(T.unsubscriptions=C),this.options.resubscribe&&T.unsubscriptions.forEach(P=>{delete this._resubscribeTopics[P]}),typeof S=="object"&&S.properties&&(T.properties=S.properties),this.outgoing[T.messageId]={volatile:!0,cb:M},this.log("unsubscribe: call _sendPacket"),this._sendPacket(T),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!$())&&this._storeProcessingQueue.push({invoke:$,callback:M}),this}unsubscribeAsync(C,S){return new Promise((M,R)=>{this.unsubscribe(C,S,($,B)=>{$?R($):M(B)})})}end(C,S,M){this.log("end :: (%s)",this.options.clientId),(C==null||typeof C!="boolean")&&(M=M||S,S=C,C=!1),typeof S!="object"&&(M=M||S,S=null),this.log("end :: cb? %s",!!M),(!M||typeof M!="function")&&(M=this.noop);let R=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(B=>{this.outgoingStore.close(T=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),M){let P=B||T;this.log("end :: closeStores: invoking callback with args"),M(P)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},$=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,C),this._cleanUp(C,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,g.nextTick)(R)},S)};return this.disconnecting?(M(),this):(this._clearReconnect(),this.disconnecting=!0,!C&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,$,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),$()),this)}endAsync(C,S){return new Promise((M,R)=>{this.end(C,S,$=>{$?R($):M()})})}removeOutgoingMessage(C){if(this.outgoing[C]){let{cb:S}=this.outgoing[C];this._removeOutgoingAndStoreMessage(C,()=>{S(new Error("Message removed"))})}return this}reconnect(C){this.log("client reconnect");let S=()=>{C?(this.options.incomingStore=C.incomingStore,this.options.outgoingStore=C.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new f.default,this.outgoingStore=this.options.outgoingStore||new f.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=S:S(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(C=>{this.outgoing[C].volatile&&typeof this.outgoing[C].cb=="function"&&(this.outgoing[C].cb(new Error("Connection closed")),delete this.outgoing[C])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(C=>{typeof this.outgoing[C].cb=="function"&&(this.outgoing[C].cb(new Error("Connection closed")),delete this.outgoing[C])}))}_removeTopicAliasAndRecoverTopicName(C){let S;C.properties&&(S=C.properties.topicAlias);let M=C.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",S,M),M.length===0){if(typeof S>"u")return new Error("Unregistered Topic Alias");if(M=this.topicAliasSend.getTopicByAlias(S),typeof M>"u")return new Error("Unregistered Topic Alias");C.topic=M}S&&delete C.properties.topicAlias}_checkDisconnecting(C){return this.disconnecting&&(C&&C!==this.noop?C(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(C,S,M={}){if(S&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",S)),this.log("_cleanUp :: forced? %s",C),C)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let R=Object.assign({cmd:"disconnect"},M);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(R,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),p(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),S&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",S),S())}_storeAndSend(C,S,M){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",C.cmd);let R=C,$;if(R.cmd==="publish"&&(R=(0,c.default)(C),$=this._removeTopicAliasAndRecoverTopicName(R),$))return S&&S($);this.outgoingStore.put(R,B=>{if(B)return S&&S(B);M(),this._writePacket(C,S)})}_applyTopicAlias(C){if(this.options.protocolVersion===5&&C.cmd==="publish"){let S;C.properties&&(S=C.properties.topicAlias);let M=C.topic.toString();if(this.topicAliasSend)if(S){if(M.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",M,S),!this.topicAliasSend.put(M,S)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",M,S),new Error("Sending Topic Alias out of range")}else M.length!==0&&(this.options.autoAssignTopicAlias?(S=this.topicAliasSend.getAliasByTopic(M),S?(C.topic="",C.properties=Object.assign(Object.assign({},C.properties),{topicAlias:S}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",M,S)):(S=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(M,S),C.properties=Object.assign(Object.assign({},C.properties),{topicAlias:S}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",M,S))):this.options.autoUseTopicAlias&&(S=this.topicAliasSend.getAliasByTopic(M),S&&(C.topic="",C.properties=Object.assign(Object.assign({},C.properties),{topicAlias:S}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",M,S))));else if(S)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",M,S),new Error("Sending Topic Alias out of range")}}_noop(C){this.log("noop ::",C)}_writePacket(C,S){this.log("_writePacket :: packet: %O",C),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",C),this.log("_writePacket :: writing to stream");let M=s.default.writeToStream(C,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",M),!M&&S&&S!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",S)):S&&(this.log("_writePacket :: invoking cb"),S())}_sendPacket(C,S,M,R){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),M=M||this.noop,S=S||this.noop;let $=this._applyTopicAlias(C);if($){S($);return}if(!this.connected){if(C.cmd==="auth"){this._writePacket(C,S);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(C,S,M);return}if(R){this._writePacket(C,S);return}switch(C.cmd){case"publish":break;case"pubrel":this._storeAndSend(C,S,M);return;default:this._writePacket(C,S);return}switch(C.qos){case 2:case 1:this._storeAndSend(C,S,M);break;case 0:default:this._writePacket(C,S);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(C,S,M){this.log("_storePacket :: packet: %o",C),this.log("_storePacket :: cb? %s",!!S),M=M||this.noop;let R=C;if(R.cmd==="publish"){R=(0,c.default)(C);let B=this._removeTopicAliasAndRecoverTopicName(R);if(B)return S&&S(B)}let $=R.qos||0;$===0&&this.queueQoSZero||R.cmd!=="publish"?this.queue.push({packet:R,cb:S}):$>0?(S=this.outgoing[R.messageId]?this.outgoing[R.messageId].cb:null,this.outgoingStore.put(R,B=>{if(B)return S&&S(B);M()})):S&&S(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new v.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(C=!1){this.keepaliveManager&&this.options.keepalive&&(C||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let C=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&C.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let S=0;S<C.length;S++){let M={};M[C[S]]=this._resubscribeTopics[C[S]],M.resubscribe=!0,this.subscribe(M,{properties:M[C[S]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(C){if(this.disconnected){this.emit("connect",C);return}this.connackPacket=C,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let S=()=>{let M=this.outgoingStore.createStream(),R=()=>{M.destroy(),M=null,this._flushStoreProcessingQueue(),$()},$=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",R),M.on("error",T=>{$(),this._flushStoreProcessingQueue(),this.removeListener("close",R),this.emit("error",T)});let B=()=>{if(!M)return;let T=M.read(1),P;if(!T){M.once("readable",B);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[T.messageId]){B();return}!this.disconnecting&&!this.reconnectTimer?(P=this.outgoing[T.messageId]?this.outgoing[T.messageId].cb:null,this.outgoing[T.messageId]={volatile:!1,cb(F,j){P&&P(F,j),B()}},this._packetIdsDuringStoreProcessing[T.messageId]=!0,this.messageIdProvider.register(T.messageId)?this._sendPacket(T,void 0,void 0,!0):this.log("messageId: %d has already used.",T.messageId)):M.destroy&&M.destroy()};M.on("end",()=>{let T=!0;for(let P in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[P]){T=!1;break}this.removeListener("close",R),T?($(),this._invokeAllStoreProcessingQueue(),this.emit("connect",C)):S()}),B()};S()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let C=this._storeProcessingQueue[0];if(C&&C.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let C of this._storeProcessingQueue)C.cbStorePut&&C.cbStorePut(new Error("Connection closed")),C.callback&&C.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(C,S){delete this.outgoing[C],this.outgoingStore.del({messageId:C},(M,R)=>{S(M,R),this.messageIdProvider.deallocate(C),this._invokeStoreProcessingQueue()})}};x.VERSION=g.MQTTJS_VERSION,e.default=x}),Wk=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"__esModule",{value:!0});var n=bC(),t=class{constructor(){this.numberAllocator=new n.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(i){return this.numberAllocator.use(i)}deallocate(i){this.numberAllocator.free(i)}clear(){this.numberAllocator.clear()}};e.default=t});function co(e){throw new RangeError(xC[e])}function sw(e,n){let t=e.split("@"),i="";t.length>1&&(i=t[0]+"@",e=t[1]);let r=function(o,s){let a=[],l=o.length;for(;l--;)a[l]=s(o[l]);return a}((e=e.replace(CC,".")).split("."),n).join(".");return i+r}function aw(e){let n=[],t=0,i=e.length;for(;t<i;){let r=e.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){let o=e.charCodeAt(t++);(64512&o)==56320?n.push(((1023&r)<<10)+(1023&o)+65536):(n.push(r),t--)}else n.push(r)}return n}var lw,cw,CC,xC,fi,fu,A0,O0,N0,R0,Ar,qk=Mn(()=>{me(),ve(),_e(),lw=/^xn--/,cw=/[^\0-\x7E]/,CC=/[\x2E\u3002\uFF0E\uFF61]/g,xC={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},fi=Math.floor,fu=String.fromCharCode,A0=function(e,n){return e+22+75*(e<26)-((n!=0)<<5)},O0=function(e,n,t){let i=0;for(e=t?fi(e/700):e>>1,e+=fi(e/n);e>455;i+=36)e=fi(e/35);return fi(i+36*e/(e+38))},N0=function(e){let n=[],t=e.length,i=0,r=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(let l=0;l<s;++l)e.charCodeAt(l)>=128&&co("not-basic"),n.push(e.charCodeAt(l));for(let l=s>0?s+1:0;l<t;){let c=i;for(let d=1,f=36;;f+=36){l>=t&&co("invalid-input");let h=(a=e.charCodeAt(l++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(h>=36||h>fi((2147483647-i)/d))&&co("overflow"),i+=h*d;let g=f<=o?1:f>=o+26?26:f-o;if(h<g)break;let m=36-g;d>fi(2147483647/m)&&co("overflow"),d*=m}let u=n.length+1;o=O0(i-c,u,c==0),fi(i/u)>2147483647-r&&co("overflow"),r+=fi(i/u),i%=u,n.splice(i++,0,r)}var a;return String.fromCodePoint(...n)},R0=function(e){let n=[],t=(e=aw(e)).length,i=128,r=0,o=72;for(let l of e)l<128&&n.push(fu(l));let s=n.length,a=s;for(s&&n.push("-");a<t;){let l=2147483647;for(let u of e)u>=i&&u<l&&(l=u);let c=a+1;l-i>fi((2147483647-r)/c)&&co("overflow"),r+=(l-i)*c,i=l;for(let u of e)if(u<i&&++r>2147483647&&co("overflow"),u==i){let d=r;for(let f=36;;f+=36){let h=f<=o?1:f>=o+26?26:f-o;if(d<h)break;let g=d-h,m=36-h;n.push(fu(A0(h+g%m,0))),d=fi(g/m)}n.push(fu(A0(d,0))),o=O0(r,c,a==s),r=0,++a}++r,++i}return n.join("")},Ar={version:"2.1.0",ucs2:{decode:aw,encode:e=>String.fromCodePoint(...e)},decode:N0,encode:R0,toASCII:function(e){return sw(e,function(n){return cw.test(n)?"xn--"+R0(n):n})},toUnicode:function(e){return sw(e,function(n){return lw.test(n)?N0(n.slice(4).toLowerCase()):n})}},Ar.decode,Ar.encode,Ar.toASCII,Ar.toUnicode,Ar.ucs2,Ar.version});function zk(e,n){return Object.prototype.hasOwnProperty.call(e,n)}var uw,hs,dw,Ai,Qk=Mn(()=>{me(),ve(),_e(),uw=function(e,n,t,i){n=n||"&",t=t||"=";var r={};if(typeof e!="string"||e.length===0)return r;var o=/\+/g;e=e.split(n);var s=1e3;i&&typeof i.maxKeys=="number"&&(s=i.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var l=0;l<a;++l){var c,u,d,f,h=e[l].replace(o,"%20"),g=h.indexOf(t);g>=0?(c=h.substr(0,g),u=h.substr(g+1)):(c=h,u=""),d=decodeURIComponent(c),f=decodeURIComponent(u),zk(r,d)?Array.isArray(r[d])?r[d].push(f):r[d]=[r[d],f]:r[d]=f}return r},hs=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},dw=function(e,n,t,i){return n=n||"&",t=t||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(r){var o=encodeURIComponent(hs(r))+t;return Array.isArray(e[r])?e[r].map(function(s){return o+encodeURIComponent(hs(s))}).join(n):o+encodeURIComponent(hs(e[r]))}).join(n):i?encodeURIComponent(hs(i))+t+encodeURIComponent(hs(e)):""},Ai={},Ai.decode=Ai.parse=uw,Ai.encode=Ai.stringify=dw,Ai.decode,Ai.encode,Ai.parse,Ai.stringify});function qg(){throw new Error("setTimeout has not been defined")}function zg(){throw new Error("clearTimeout has not been defined")}function DC(e){if(Ji===setTimeout)return setTimeout(e,0);if((Ji===qg||!Ji)&&setTimeout)return Ji=setTimeout,setTimeout(e,0);try{return Ji(e,0)}catch{try{return Ji.call(null,e,0)}catch{return Ji.call(this||mo,e,0)}}}function Yk(){_o&&po&&(_o=!1,po.length?Ni=po.concat(Ni):Na=-1,Ni.length&&EC())}function EC(){if(!_o){var e=DC(Yk);_o=!0;for(var n=Ni.length;n;){for(po=Ni,Ni=[];++Na<n;)po&&po[Na].run();Na=-1,n=Ni.length}po=null,_o=!1,function(t){if(Xi===clearTimeout)return clearTimeout(t);if((Xi===zg||!Xi)&&clearTimeout)return Xi=clearTimeout,clearTimeout(t);try{Xi(t)}catch{try{return Xi.call(null,t)}catch{return Xi.call(this||mo,t)}}}(e)}}function fw(e,n){(this||mo).fun=e,(this||mo).array=n}function Yi(){}var hw,Ji,Xi,mo,Vt,po,Ni,_o,Na,Bt,Kk=Mn(()=>{me(),ve(),_e(),mo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Vt=hw={},function(){try{Ji=typeof setTimeout=="function"?setTimeout:qg}catch{Ji=qg}try{Xi=typeof clearTimeout=="function"?clearTimeout:zg}catch{Xi=zg}}(),Ni=[],_o=!1,Na=-1,Vt.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];Ni.push(new fw(e,n)),Ni.length!==1||_o||DC(EC)},fw.prototype.run=function(){(this||mo).fun.apply(null,(this||mo).array)},Vt.title="browser",Vt.browser=!0,Vt.env={},Vt.argv=[],Vt.version="",Vt.versions={},Vt.on=Yi,Vt.addListener=Yi,Vt.once=Yi,Vt.off=Yi,Vt.removeListener=Yi,Vt.removeAllListeners=Yi,Vt.emit=Yi,Vt.prependListener=Yi,Vt.prependOnceListener=Yi,Vt.listeners=function(e){return[]},Vt.binding=function(e){throw new Error("process.binding is not supported")},Vt.cwd=function(){return"/"},Vt.chdir=function(e){throw new Error("process.chdir is not supported")},Vt.umask=function(){return 0},Bt=hw,Bt.addListener,Bt.argv,Bt.binding,Bt.browser,Bt.chdir,Bt.cwd,Bt.emit,Bt.env,Bt.listeners,Bt.nextTick,Bt.off,Bt.on,Bt.once,Bt.prependListener,Bt.prependOnceListener,Bt.removeAllListeners,Bt.removeListener,Bt.title,Bt.umask,Bt.version,Bt.versions});function Zk(){if(Qg)return bu;Qg=!0;var e=bu={},n,t;function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=i}catch{n=i}try{typeof clearTimeout=="function"?t=clearTimeout:t=r}catch{t=r}})();function o(m){if(n===setTimeout)return setTimeout(m,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(m,0);try{return n(m,0)}catch{try{return n.call(null,m,0)}catch{return n.call(this||fo,m,0)}}}function s(m){if(t===clearTimeout)return clearTimeout(m);if((t===r||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(m);try{return t(m)}catch{try{return t.call(null,m)}catch{return t.call(this||fo,m)}}}var a=[],l=!1,c,u=-1;function d(){!l||!c||(l=!1,c.length?a=c.concat(a):u=-1,a.length&&f())}function f(){if(!l){var m=o(d);l=!0;for(var v=a.length;v;){for(c=a,a=[];++u<v;)c&&c[u].run();u=-1,v=a.length}c=null,l=!1,s(m)}}e.nextTick=function(m){var v=new Array(arguments.length-1);if(arguments.length>1)for(var y=1;y<arguments.length;y++)v[y-1]=arguments[y];a.push(new h(m,v)),a.length===1&&!l&&o(f)};function h(m,v){(this||fo).fun=m,(this||fo).array=v}h.prototype.run=function(){(this||fo).fun.apply(null,(this||fo).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function g(){}return e.on=g,e.addListener=g,e.once=g,e.off=g,e.removeListener=g,e.removeAllListeners=g,e.emit=g,e.prependListener=g,e.prependOnceListener=g,e.listeners=function(m){return[]},e.binding=function(m){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(m){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},bu}var bu,Qg,fo,Rt,SC=Mn(()=>{me(),ve(),_e(),bu={},Qg=!1,fo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Rt=Zk(),Rt.platform="browser",Rt.addListener,Rt.argv,Rt.binding,Rt.browser,Rt.chdir,Rt.cwd,Rt.emit,Rt.env,Rt.listeners,Rt.nextTick,Rt.off,Rt.on,Rt.once,Rt.prependListener,Rt.prependOnceListener,Rt.removeAllListeners,Rt.removeListener,Rt.title,Rt.umask,Rt.version,Rt.versions});function Jk(){if(Yg)return wu;Yg=!0;var e=Rt;function n(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function t(o,s){for(var a="",l=0,c=-1,u=0,d,f=0;f<=o.length;++f){if(f<o.length)d=o.charCodeAt(f);else{if(d===47)break;d=47}if(d===47){if(!(c===f-1||u===1))if(c!==f-1&&u===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var h=a.lastIndexOf("/");if(h!==a.length-1){h===-1?(a="",l=0):(a=a.slice(0,h),l=a.length-1-a.lastIndexOf("/")),c=f,u=0;continue}}else if(a.length===2||a.length===1){a="",l=0,c=f,u=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+o.slice(c+1,f):a=o.slice(c+1,f),l=f-c-1;c=f,u=0}else d===46&&u!==-1?++u:u=-1}return a}function i(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var r={resolve:function(){for(var o="",s=!1,a,l=arguments.length-1;l>=-1&&!s;l--){var c;l>=0?c=arguments[l]:(a===void 0&&(a=e.cwd()),c=a),n(c),c.length!==0&&(o=c+"/"+o,s=c.charCodeAt(0)===47)}return o=t(o,!s),s?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(o){if(n(o),o.length===0)return".";var s=o.charCodeAt(0)===47,a=o.charCodeAt(o.length-1)===47;return o=t(o,!s),o.length===0&&!s&&(o="."),o.length>0&&a&&(o+="/"),s?"/"+o:o},isAbsolute:function(o){return n(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,s=0;s<arguments.length;++s){var a=arguments[s];n(a),a.length>0&&(o===void 0?o=a:o+="/"+a)}return o===void 0?".":r.normalize(o)},relative:function(o,s){if(n(o),n(s),o===s||(o=r.resolve(o),s=r.resolve(s),o===s))return"";for(var a=1;a<o.length&&o.charCodeAt(a)===47;++a);for(var l=o.length,c=l-a,u=1;u<s.length&&s.charCodeAt(u)===47;++u);for(var d=s.length,f=d-u,h=c<f?c:f,g=-1,m=0;m<=h;++m){if(m===h){if(f>h){if(s.charCodeAt(u+m)===47)return s.slice(u+m+1);if(m===0)return s.slice(u+m)}else c>h&&(o.charCodeAt(a+m)===47?g=m:m===0&&(g=0));break}var v=o.charCodeAt(a+m),y=s.charCodeAt(u+m);if(v!==y)break;v===47&&(g=m)}var p="";for(m=a+g+1;m<=l;++m)(m===l||o.charCodeAt(m)===47)&&(p.length===0?p+="..":p+="/..");return p.length>0?p+s.slice(u+g):(u+=g,s.charCodeAt(u)===47&&++u,s.slice(u))},_makeLong:function(o){return o},dirname:function(o){if(n(o),o.length===0)return".";for(var s=o.charCodeAt(0),a=s===47,l=-1,c=!0,u=o.length-1;u>=1;--u)if(s=o.charCodeAt(u),s===47){if(!c){l=u;break}}else c=!1;return l===-1?a?"/":".":a&&l===1?"//":o.slice(0,l)},basename:function(o,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');n(o);var a=0,l=-1,c=!0,u;if(s!==void 0&&s.length>0&&s.length<=o.length){if(s.length===o.length&&s===o)return"";var d=s.length-1,f=-1;for(u=o.length-1;u>=0;--u){var h=o.charCodeAt(u);if(h===47){if(!c){a=u+1;break}}else f===-1&&(c=!1,f=u+1),d>=0&&(h===s.charCodeAt(d)?--d===-1&&(l=u):(d=-1,l=f))}return a===l?l=f:l===-1&&(l=o.length),o.slice(a,l)}else{for(u=o.length-1;u>=0;--u)if(o.charCodeAt(u)===47){if(!c){a=u+1;break}}else l===-1&&(c=!1,l=u+1);return l===-1?"":o.slice(a,l)}},extname:function(o){n(o);for(var s=-1,a=0,l=-1,c=!0,u=0,d=o.length-1;d>=0;--d){var f=o.charCodeAt(d);if(f===47){if(!c){a=d+1;break}continue}l===-1&&(c=!1,l=d+1),f===46?s===-1?s=d:u!==1&&(u=1):s!==-1&&(u=-1)}return s===-1||l===-1||u===0||u===1&&s===l-1&&s===a+1?"":o.slice(s,l)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return i("/",o)},parse:function(o){n(o);var s={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return s;var a=o.charCodeAt(0),l=a===47,c;l?(s.root="/",c=1):c=0;for(var u=-1,d=0,f=-1,h=!0,g=o.length-1,m=0;g>=c;--g){if(a=o.charCodeAt(g),a===47){if(!h){d=g+1;break}continue}f===-1&&(h=!1,f=g+1),a===46?u===-1?u=g:m!==1&&(m=1):u!==-1&&(m=-1)}return u===-1||f===-1||m===0||m===1&&u===f-1&&u===d+1?f!==-1&&(d===0&&l?s.base=s.name=o.slice(1,f):s.base=s.name=o.slice(d,f)):(d===0&&l?(s.name=o.slice(1,u),s.base=o.slice(1,f)):(s.name=o.slice(d,u),s.base=o.slice(d,f)),s.ext=o.slice(u,f)),d>0?s.dir=o.slice(0,d-1):l&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return r.posix=r,wu=r,wu}var wu,Yg,Kg,Xk=Mn(()=>{me(),ve(),_e(),SC(),wu={},Yg=!1,Kg=Jk()}),IC={};gs(IC,{URL:()=>WC,Url:()=>VC,default:()=>Dt,fileURLToPath:()=>MC,format:()=>HC,parse:()=>GC,pathToFileURL:()=>TC,resolve:()=>UC,resolveObject:()=>$C});function Xn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function Ia(e,n,t){if(e&&hi.isObject(e)&&e instanceof Xn)return e;var i=new Xn;return i.parse(e,n,t),i}function eF(){if(Zg)return Cu;Zg=!0;var e=Bt;function n(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function t(o,s){for(var a="",l=0,c=-1,u=0,d,f=0;f<=o.length;++f){if(f<o.length)d=o.charCodeAt(f);else{if(d===47)break;d=47}if(d===47){if(!(c===f-1||u===1))if(c!==f-1&&u===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var h=a.lastIndexOf("/");if(h!==a.length-1){h===-1?(a="",l=0):(a=a.slice(0,h),l=a.length-1-a.lastIndexOf("/")),c=f,u=0;continue}}else if(a.length===2||a.length===1){a="",l=0,c=f,u=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+o.slice(c+1,f):a=o.slice(c+1,f),l=f-c-1;c=f,u=0}else d===46&&u!==-1?++u:u=-1}return a}function i(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var r={resolve:function(){for(var o="",s=!1,a,l=arguments.length-1;l>=-1&&!s;l--){var c;l>=0?c=arguments[l]:(a===void 0&&(a=e.cwd()),c=a),n(c),c.length!==0&&(o=c+"/"+o,s=c.charCodeAt(0)===47)}return o=t(o,!s),s?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(o){if(n(o),o.length===0)return".";var s=o.charCodeAt(0)===47,a=o.charCodeAt(o.length-1)===47;return o=t(o,!s),o.length===0&&!s&&(o="."),o.length>0&&a&&(o+="/"),s?"/"+o:o},isAbsolute:function(o){return n(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,s=0;s<arguments.length;++s){var a=arguments[s];n(a),a.length>0&&(o===void 0?o=a:o+="/"+a)}return o===void 0?".":r.normalize(o)},relative:function(o,s){if(n(o),n(s),o===s||(o=r.resolve(o),s=r.resolve(s),o===s))return"";for(var a=1;a<o.length&&o.charCodeAt(a)===47;++a);for(var l=o.length,c=l-a,u=1;u<s.length&&s.charCodeAt(u)===47;++u);for(var d=s.length,f=d-u,h=c<f?c:f,g=-1,m=0;m<=h;++m){if(m===h){if(f>h){if(s.charCodeAt(u+m)===47)return s.slice(u+m+1);if(m===0)return s.slice(u+m)}else c>h&&(o.charCodeAt(a+m)===47?g=m:m===0&&(g=0));break}var v=o.charCodeAt(a+m),y=s.charCodeAt(u+m);if(v!==y)break;v===47&&(g=m)}var p="";for(m=a+g+1;m<=l;++m)(m===l||o.charCodeAt(m)===47)&&(p.length===0?p+="..":p+="/..");return p.length>0?p+s.slice(u+g):(u+=g,s.charCodeAt(u)===47&&++u,s.slice(u))},_makeLong:function(o){return o},dirname:function(o){if(n(o),o.length===0)return".";for(var s=o.charCodeAt(0),a=s===47,l=-1,c=!0,u=o.length-1;u>=1;--u)if(s=o.charCodeAt(u),s===47){if(!c){l=u;break}}else c=!1;return l===-1?a?"/":".":a&&l===1?"//":o.slice(0,l)},basename:function(o,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');n(o);var a=0,l=-1,c=!0,u;if(s!==void 0&&s.length>0&&s.length<=o.length){if(s.length===o.length&&s===o)return"";var d=s.length-1,f=-1;for(u=o.length-1;u>=0;--u){var h=o.charCodeAt(u);if(h===47){if(!c){a=u+1;break}}else f===-1&&(c=!1,f=u+1),d>=0&&(h===s.charCodeAt(d)?--d===-1&&(l=u):(d=-1,l=f))}return a===l?l=f:l===-1&&(l=o.length),o.slice(a,l)}else{for(u=o.length-1;u>=0;--u)if(o.charCodeAt(u)===47){if(!c){a=u+1;break}}else l===-1&&(c=!1,l=u+1);return l===-1?"":o.slice(a,l)}},extname:function(o){n(o);for(var s=-1,a=0,l=-1,c=!0,u=0,d=o.length-1;d>=0;--d){var f=o.charCodeAt(d);if(f===47){if(!c){a=d+1;break}continue}l===-1&&(c=!1,l=d+1),f===46?s===-1?s=d:u!==1&&(u=1):s!==-1&&(u=-1)}return s===-1||l===-1||u===0||u===1&&s===l-1&&s===a+1?"":o.slice(s,l)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return i("/",o)},parse:function(o){n(o);var s={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return s;var a=o.charCodeAt(0),l=a===47,c;l?(s.root="/",c=1):c=0;for(var u=-1,d=0,f=-1,h=!0,g=o.length-1,m=0;g>=c;--g){if(a=o.charCodeAt(g),a===47){if(!h){d=g+1;break}continue}f===-1&&(h=!1,f=g+1),a===46?u===-1?u=g:m!==1&&(m=1):u!==-1&&(m=-1)}return u===-1||f===-1||m===0||m===1&&u===f-1&&u===d+1?f!==-1&&(d===0&&l?s.base=s.name=o.slice(1,f):s.base=s.name=o.slice(d,f)):(d===0&&l?(s.name=o.slice(1,u),s.base=o.slice(1,f)):(s.name=o.slice(d,u),s.base=o.slice(d,f)),s.ext=o.slice(u,f)),d>0?s.dir=o.slice(0,d-1):l&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return r.posix=r,Cu=r,Cu}function tF(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Du?nF(e):iF(e)}function nF(e){let n=e.hostname,t=e.pathname;for(let i=0;i<t.length;i++)if(t[i]==="%"){let r=t.codePointAt(i+2)||32;if(t[i+1]==="2"&&r===102||t[i+1]==="5"&&r===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(t=t.replace(kC,"\\"),t=decodeURIComponent(t),n!=="")return`\\\\${n}${t}`;{let i=t.codePointAt(1)|32,r=t[2];if(i<NC||i>RC||r!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return t.slice(1)}}function iF(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let n=e.pathname;for(let t=0;t<n.length;t++)if(n[t]==="%"){let i=n.codePointAt(t+2)||32;if(n[t+1]==="2"&&i===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(n)}function rF(e){let n=Jg.resolve(e),t=e.charCodeAt(e.length-1);(t===OC||Du&&t===AC)&&n[n.length-1]!==Jg.sep&&(n+="/");let i=new URL("file://");return n.includes("%")&&(n=n.replace(FC,"%25")),!Du&&n.includes("\\")&&(n=n.replace(PC,"%5C")),n.includes(`
`)&&(n=n.replace(BC,"%0A")),n.includes("\r")&&(n=n.replace(LC,"%0D")),n.includes("	")&&(n=n.replace(jC,"%09")),i.pathname=n,i}function MC(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Eu?oF(e):sF(e)}function oF(e){let n=e.hostname,t=e.pathname;for(let i=0;i<t.length;i++)if(t[i]==="%"){let r=t.codePointAt(i+2)||32;if(t[i+1]==="2"&&r===102||t[i+1]==="5"&&r===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(t=t.replace(KC,"\\"),t=decodeURIComponent(t),n!=="")return`\\\\${n}${t}`;{let i=t.codePointAt(1)|32,r=t[2];if(i<QC||i>YC||r!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return t.slice(1)}}function sF(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let n=e.pathname;for(let t=0;t<n.length;t++)if(n[t]==="%"){let i=n.codePointAt(t+2)||32;if(n[t+1]==="2"&&i===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(n)}function TC(e){let n=Kg.resolve(e),t=e.charCodeAt(e.length-1);(t===zC||Eu&&t===qC)&&n[n.length-1]!==Kg.sep&&(n+="/");let i=new URL("file://");return n.includes("%")&&(n=n.replace(ZC,"%25")),!Eu&&n.includes("\\")&&(n=n.replace(JC,"%5C")),n.includes(`
`)&&(n=n.replace(XC,"%0A")),n.includes("\r")&&(n=n.replace(ex,"%0D")),n.includes("	")&&(n=n.replace(tx,"%09")),i.pathname=n,i}var Dt,pw,hi,gw,mw,_w,vw,hu,k0,F0,P0,yw,bw,pu,uo,gu,Cu,Zg,Jg,ww,AC,OC,NC,RC,Du,kC,FC,PC,BC,LC,jC,Cw,VC,HC,UC,$C,GC,WC,qC,zC,QC,YC,Eu,KC,ZC,JC,XC,ex,tx,aF=Mn(()=>{me(),ve(),_e(),qk(),Qk(),Kk(),Xk(),SC(),Dt={},pw=Ar,hi={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Dt.parse=Ia,Dt.resolve=function(e,n){return Ia(e,!1,!0).resolve(n)},Dt.resolveObject=function(e,n){return e?Ia(e,!1,!0).resolveObject(n):n},Dt.format=function(e){return hi.isString(e)&&(e=Ia(e)),e instanceof Xn?e.format():Xn.prototype.format.call(e)},Dt.Url=Xn,gw=/^([a-z0-9.+-]+:)/i,mw=/:[0-9]*$/,_w=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,vw=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),hu=["'"].concat(vw),k0=["%","/","?",";","#"].concat(hu),F0=["/","?","#"],P0=/^[+a-z0-9A-Z_-]{0,63}$/,yw=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,bw={javascript:!0,"javascript:":!0},pu={javascript:!0,"javascript:":!0},uo={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},gu=Ai,Xn.prototype.parse=function(e,n,t){if(!hi.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),r=i!==-1&&i<e.indexOf("#")?"?":"#",o=e.split(r);o[0]=o[0].replace(/\\/g,"/");var s=e=o.join(r);if(s=s.trim(),!t&&e.split("#").length===1){var a=_w.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=n?gu.parse(this.search.substr(1)):this.search.substr(1)):n&&(this.search="",this.query={}),this}var l=gw.exec(s);if(l){var c=(l=l[0]).toLowerCase();this.protocol=c,s=s.substr(l.length)}if(t||l||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var u=s.substr(0,2)==="//";!u||l&&pu[l]||(s=s.substr(2),this.slashes=!0)}if(!pu[l]&&(u||l&&!uo[l])){for(var d,f,h=-1,g=0;g<F0.length;g++)(m=s.indexOf(F0[g]))!==-1&&(h===-1||m<h)&&(h=m);for((f=h===-1?s.lastIndexOf("@"):s.lastIndexOf("@",h))!==-1&&(d=s.slice(0,f),s=s.slice(f+1),this.auth=decodeURIComponent(d)),h=-1,g=0;g<k0.length;g++){var m;(m=s.indexOf(k0[g]))!==-1&&(h===-1||m<h)&&(h=m)}h===-1&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var y=this.hostname.split(/\./),p=(g=0,y.length);g<p;g++){var b=y[g];if(b&&!b.match(P0)){for(var x="",D=0,C=b.length;D<C;D++)b.charCodeAt(D)>127?x+="x":x+=b[D];if(!x.match(P0)){var S=y.slice(0,g),M=y.slice(g+1),R=b.match(yw);R&&(S.push(R[1]),M.unshift(R[2])),M.length&&(s="/"+M.join(".")+s),this.hostname=S.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=pw.toASCII(this.hostname));var $=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+$,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!bw[c])for(g=0,p=hu.length;g<p;g++){var T=hu[g];if(s.indexOf(T)!==-1){var P=encodeURIComponent(T);P===T&&(P=escape(T)),s=s.split(T).join(P)}}var F=s.indexOf("#");F!==-1&&(this.hash=s.substr(F),s=s.slice(0,F));var j=s.indexOf("?");if(j!==-1?(this.search=s.substr(j),this.query=s.substr(j+1),n&&(this.query=gu.parse(this.query)),s=s.slice(0,j)):n&&(this.search="",this.query={}),s&&(this.pathname=s),uo[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){$=this.pathname||"";var J=this.search||"";this.path=$+J}return this.href=this.format(),this},Xn.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var n=this.protocol||"",t=this.pathname||"",i=this.hash||"",r=!1,o="";this.host?r=e+this.host:this.hostname&&(r=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&hi.isObject(this.query)&&Object.keys(this.query).length&&(o=gu.stringify(this.query));var s=this.search||o&&"?"+o||"";return n&&n.substr(-1)!==":"&&(n+=":"),this.slashes||(!n||uo[n])&&r!==!1?(r="//"+(r||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):r||(r=""),i&&i.charAt(0)!=="#"&&(i="#"+i),s&&s.charAt(0)!=="?"&&(s="?"+s),n+r+(t=t.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(s=s.replace("#","%23"))+i},Xn.prototype.resolve=function(e){return this.resolveObject(Ia(e,!1,!0)).format()},Xn.prototype.resolveObject=function(e){if(hi.isString(e)){var n=new Xn;n.parse(e,!1,!0),e=n}for(var t=new Xn,i=Object.keys(this),r=0;r<i.length;r++){var o=i[r];t[o]=this[o]}if(t.hash=e.hash,e.href==="")return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var l=s[a];l!=="protocol"&&(t[l]=e[l])}return uo[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!uo[e.protocol]){for(var c=Object.keys(e),u=0;u<c.length;u++){var d=c[u];t[d]=e[d]}return t.href=t.format(),t}if(t.protocol=e.protocol,e.host||pu[e.protocol])t.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),f[0]!==""&&f.unshift(""),f.length<2&&f.unshift(""),t.pathname=f.join("/")}if(t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,t.pathname||t.search){var h=t.pathname||"",g=t.search||"";t.path=h+g}return t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var m=t.pathname&&t.pathname.charAt(0)==="/",v=e.host||e.pathname&&e.pathname.charAt(0)==="/",y=v||m||t.host&&e.pathname,p=y,b=t.pathname&&t.pathname.split("/")||[],x=(f=e.pathname&&e.pathname.split("/")||[],t.protocol&&!uo[t.protocol]);if(x&&(t.hostname="",t.port=null,t.host&&(b[0]===""?b[0]=t.host:b.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(f[0]===""?f[0]=e.host:f.unshift(e.host)),e.host=null),y=y&&(f[0]===""||b[0]==="")),v)t.host=e.host||e.host===""?e.host:t.host,t.hostname=e.hostname||e.hostname===""?e.hostname:t.hostname,t.search=e.search,t.query=e.query,b=f;else if(f.length)b||(b=[]),b.pop(),b=b.concat(f),t.search=e.search,t.query=e.query;else if(!hi.isNullOrUndefined(e.search))return x&&(t.hostname=t.host=b.shift(),(R=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=R.shift(),t.host=t.hostname=R.shift())),t.search=e.search,t.query=e.query,hi.isNull(t.pathname)&&hi.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t;if(!b.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var D=b.slice(-1)[0],C=(t.host||e.host||b.length>1)&&(D==="."||D==="..")||D==="",S=0,M=b.length;M>=0;M--)(D=b[M])==="."?b.splice(M,1):D===".."?(b.splice(M,1),S++):S&&(b.splice(M,1),S--);if(!y&&!p)for(;S--;S)b.unshift("..");!y||b[0]===""||b[0]&&b[0].charAt(0)==="/"||b.unshift(""),C&&b.join("/").substr(-1)!=="/"&&b.push("");var R,$=b[0]===""||b[0]&&b[0].charAt(0)==="/";return x&&(t.hostname=t.host=$?"":b.length?b.shift():"",(R=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=R.shift(),t.host=t.hostname=R.shift())),(y=y||t.host&&b.length)&&!$&&b.unshift(""),b.length?t.pathname=b.join("/"):(t.pathname=null,t.path=null),hi.isNull(t.pathname)&&hi.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},Xn.prototype.parseHost=function(){var e=this.host,n=mw.exec(e);n&&((n=n[0])!==":"&&(this.port=n.substr(1)),e=e.substr(0,e.length-n.length)),e&&(this.hostname=e)},Dt.Url,Dt.format,Dt.resolve,Dt.resolveObject,Cu={},Zg=!1,Jg=eF(),ww=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Dt.URL=typeof URL<"u"?URL:null,Dt.pathToFileURL=rF,Dt.fileURLToPath=tF,Dt.Url,Dt.format,Dt.resolve,Dt.resolveObject,Dt.URL,AC=92,OC=47,NC=97,RC=122,Du=ww==="win32",kC=/\//g,FC=/%/g,PC=/\\/g,BC=/\n/g,LC=/\r/g,jC=/\t/g,Cw=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Dt.URL=typeof URL<"u"?URL:null,Dt.pathToFileURL=TC,Dt.fileURLToPath=MC,VC=Dt.Url,HC=Dt.format,UC=Dt.resolve,$C=Dt.resolveObject,GC=Dt.parse,WC=Dt.URL,qC=92,zC=47,QC=97,YC=122,Eu=Cw==="win32",KC=/\//g,ZC=/%/g,JC=/\\/g,XC=/\n/g,ex=/\r/g,tx=/\t/g}),lF=we((e,n)=>{"use strict";me(),ve(),_e(),n.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),sm=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=void 0,e.writev=i;var n=bo(),t=(ln(),St(an));function i(o,s){let a=new Array(o.length);for(let l=0;l<o.length;l++)typeof o[l].chunk=="string"?a[l]=t.Buffer.from(o[l].chunk,"utf8"):a[l]=o[l].chunk;this._write(t.Buffer.concat(a),"binary",s)}var r=class extends n.Duplex{constructor(o,s,a){super({objectMode:!0}),this.proxy=s,this.socket=a,this.writeQueue=[],o.objectMode||(this._writev=i.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",l=>{!this.destroyed&&this.readable&&this.push(l)})}_read(o){this.proxy.read(o)}_write(o,s,a){this.isSocketOpen?this.writeToProxy(o,s,a):this.writeQueue.push({chunk:o,encoding:s,cb:a})}_final(o){this.writeQueue=[],this.proxy.end(o)}_destroy(o,s){this.writeQueue=[],this.proxy.destroy(),s(o)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(o,s,a){this.proxy.write(o,s)===!1?this.proxy.once("drain",a):a()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:o,encoding:s,cb:a}=this.writeQueue.shift();this.writeToProxy(o,s,a)}}};e.BufferedDuplex=r}),mu=we(e=>{"use strict";me(),ve(),_e();var n=e&&e.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.streamBuilder=e.browserStreamBuilder=void 0;var t=(ln(),St(an)),i=n(lF()),r=n(nr()),o=bo(),s=n(Au()),a=sm(),l=(0,r.default)("mqttjs:ws"),c=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function u(y,p){let b=`${y.protocol}://${y.hostname}:${y.port}${y.path}`;return typeof y.transformWsUrl=="function"&&(b=y.transformWsUrl(b,y,p)),b}function d(y){let p=y;return y.port||(y.protocol==="wss"?p.port=443:p.port=80),y.path||(p.path="/"),y.wsOptions||(p.wsOptions={}),!s.default&&!y.forceNativeWebSocket&&y.protocol==="wss"&&c.forEach(b=>{Object.prototype.hasOwnProperty.call(y,b)&&!Object.prototype.hasOwnProperty.call(y.wsOptions,b)&&(p.wsOptions[b]=y[b])}),p}function f(y){let p=d(y);if(p.hostname||(p.hostname=p.host),!p.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let b=new URL(document.URL);p.hostname=b.hostname,p.port||(p.port=Number(b.port))}return p.objectMode===void 0&&(p.objectMode=!(p.binary===!0||p.binary===void 0)),p}function h(y,p,b){l("createWebSocket"),l(`protocol: ${b.protocolId} ${b.protocolVersion}`);let x=b.protocolId==="MQIsdp"&&b.protocolVersion===3?"mqttv3.1":"mqtt";l(`creating new Websocket for url: ${p} and protocol: ${x}`);let D;return b.createWebsocket?D=b.createWebsocket(p,[x],b):D=new i.default(p,[x],b.wsOptions),D}function g(y,p){let b=p.protocolId==="MQIsdp"&&p.protocolVersion===3?"mqttv3.1":"mqtt",x=u(p,y),D;return p.createWebsocket?D=p.createWebsocket(x,[b],p):D=new WebSocket(x,[b]),D.binaryType="arraybuffer",D}var m=(y,p)=>{l("streamBuilder");let b=d(p);b.hostname=b.hostname||b.host||"localhost";let x=u(b,y),D=h(y,x,b),C=i.default.createWebSocketStream(D,b.wsOptions);return C.url=x,D.on("close",()=>{C.destroy()}),C};e.streamBuilder=m;var v=(y,p)=>{l("browserStreamBuilder");let b,x=f(p).browserBufferSize||1024*512,D=p.browserBufferTimeout||1e3,C=!p.objectMode,S=g(y,p),M=$(p,j,J);p.objectMode||(M._writev=a.writev.bind(M)),M.on("close",()=>{S.close()});let R=typeof S.addEventListener<"u";S.readyState===S.OPEN?(b=M,b.socket=S):(b=new a.BufferedDuplex(p,M,S),R?S.addEventListener("open",B):S.onopen=B),R?(S.addEventListener("close",T),S.addEventListener("error",P),S.addEventListener("message",F)):(S.onclose=T,S.onerror=P,S.onmessage=F);function $(ie,oe,q){let O=new o.Transform({objectMode:ie.objectMode});return O._write=oe,O._flush=q,O}function B(){l("WebSocket onOpen"),b instanceof a.BufferedDuplex&&b.socketReady()}function T(ie){l("WebSocket onClose",ie),b.end(),b.destroy()}function P(ie){l("WebSocket onError",ie);let oe=new Error("WebSocket error");oe.event=ie,b.destroy(oe)}function F(ie){return ct(this,null,function*(){if(!M||M.destroyed||!M.readable)return;let{data:oe}=ie;oe instanceof ArrayBuffer?oe=t.Buffer.from(oe):oe instanceof Blob?oe=t.Buffer.from(yield new Response(oe).arrayBuffer()):oe=t.Buffer.from(oe,"utf8"),M.push(oe)})}function j(ie,oe,q){if(S.bufferedAmount>x){setTimeout(j,D,ie,oe,q);return}C&&typeof ie=="string"&&(ie=t.Buffer.from(ie,"utf8"));try{S.send(ie)}catch(O){return q(O)}q()}function J(ie){S.close(),ie()}return b};e.browserStreamBuilder=v}),am={};gs(am,{Server:()=>kt,Socket:()=>kt,Stream:()=>kt,_createServerHandle:()=>kt,_normalizeArgs:()=>kt,_setSimultaneousAccepts:()=>kt,connect:()=>kt,createConnection:()=>kt,createServer:()=>kt,default:()=>nx,isIP:()=>kt,isIPv4:()=>kt,isIPv6:()=>kt});function kt(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var nx,ix=Mn(()=>{me(),ve(),_e(),nx={_createServerHandle:kt,_normalizeArgs:kt,_setSimultaneousAccepts:kt,connect:kt,createConnection:kt,createServer:kt,isIP:kt,isIPv4:kt,isIPv6:kt,Server:kt,Socket:kt,Stream:kt}}),xw=we(e=>{"use strict";me(),ve(),_e();var n=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var t=n((ix(),St(am))),i=n(nr()),r=(0,i.default)("mqttjs:tcp"),o=(s,a)=>{a.port=a.port||1883,a.hostname=a.hostname||a.host||"localhost";let{port:l,path:c}=a,u=a.hostname;return r("port %d and host %s",l,u),t.default.createConnection({port:l,host:u,path:c})};e.default=o}),rx={};gs(rx,{default:()=>ox});var ox,cF=Mn(()=>{me(),ve(),_e(),ox={}}),Dw=we(e=>{"use strict";me(),ve(),_e();var n=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var t=n((cF(),St(rx))),i=n((ix(),St(am))),r=n(nr()),o=(0,r.default)("mqttjs:tls"),s=(a,l)=>{l.port=l.port||8883,l.host=l.hostname||l.host||"localhost",i.default.isIP(l.host)===0&&(l.servername=l.host),l.rejectUnauthorized=l.rejectUnauthorized!==!1,delete l.path,o("port %d host %s rejectUnauthorized %b",l.port,l.host,l.rejectUnauthorized);let c=t.default.connect(l);c.on("secureConnect",()=>{l.rejectUnauthorized&&!c.authorized?c.emit("error",new Error("TLS not authorized")):c.removeListener("error",u)});function u(d){l.rejectUnauthorized&&a.emit("error",d),c.end()}return c.on("error",u),c};e.default=s}),Ew=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"__esModule",{value:!0});var n=(ln(),St(an)),t=bo(),i=sm(),r,o,s;function a(){let f=new t.Transform;return f._write=(h,g,m)=>{r.send({data:h.buffer,success(){m()},fail(v){m(new Error(v))}})},f._flush=h=>{r.close({success(){h()}})},f}function l(f){f.hostname||(f.hostname="localhost"),f.path||(f.path="/"),f.wsOptions||(f.wsOptions={})}function c(f,h){let g=f.protocol==="wxs"?"wss":"ws",m=`${g}://${f.hostname}${f.path}`;return f.port&&f.port!==80&&f.port!==443&&(m=`${g}://${f.hostname}:${f.port}${f.path}`),typeof f.transformWsUrl=="function"&&(m=f.transformWsUrl(m,f,h)),m}function u(){r.onOpen(()=>{s.socketReady()}),r.onMessage(f=>{let{data:h}=f;h instanceof ArrayBuffer?h=n.Buffer.from(h):h=n.Buffer.from(h,"utf8"),o.push(h)}),r.onClose(()=>{s.emit("close"),s.end(),s.destroy()}),r.onError(f=>{let h=new Error(f.errMsg);s.destroy(h)})}var d=(f,h)=>{if(h.hostname=h.hostname||h.host,!h.hostname)throw new Error("Could not determine host. Specify host manually.");let g=h.protocolId==="MQIsdp"&&h.protocolVersion===3?"mqttv3.1":"mqtt";l(h);let m=c(h,f);r=wx.connectSocket({url:m,protocols:[g]}),o=a(),s=new i.BufferedDuplex(h,o,r),s._destroy=(y,p)=>{r.close({success(){p&&p(y)}})};let v=s.destroy;return s.destroy=(y,p)=>(s.destroy=v,setTimeout(()=>{r.close({fail(){s._destroy(y,p)}})},0),s),u(),s};e.default=d}),Sw=we(e=>{"use strict";me(),ve(),_e(),Object.defineProperty(e,"__esModule",{value:!0});var n=(ln(),St(an)),t=bo(),i=sm(),r,o,s,a=!1;function l(){let h=new t.Transform;return h._write=(g,m,v)=>{r.sendSocketMessage({data:g.buffer,success(){v()},fail(){v(new Error)}})},h._flush=g=>{r.closeSocket({success(){g()}})},h}function c(h){h.hostname||(h.hostname="localhost"),h.path||(h.path="/"),h.wsOptions||(h.wsOptions={})}function u(h,g){let m=h.protocol==="alis"?"wss":"ws",v=`${m}://${h.hostname}${h.path}`;return h.port&&h.port!==80&&h.port!==443&&(v=`${m}://${h.hostname}:${h.port}${h.path}`),typeof h.transformWsUrl=="function"&&(v=h.transformWsUrl(v,h,g)),v}function d(){a||(a=!0,r.onSocketOpen(()=>{s.socketReady()}),r.onSocketMessage(h=>{if(typeof h.data=="string"){let g=n.Buffer.from(h.data,"base64");o.push(g)}else{let g=new FileReader;g.addEventListener("load",()=>{let m=g.result;m instanceof ArrayBuffer?m=n.Buffer.from(m):m=n.Buffer.from(m,"utf8"),o.push(m)}),g.readAsArrayBuffer(h.data)}}),r.onSocketClose(()=>{s.end(),s.destroy()}),r.onSocketError(h=>{s.destroy(h)}))}var f=(h,g)=>{if(g.hostname=g.hostname||g.host,!g.hostname)throw new Error("Could not determine host. Specify host manually.");let m=g.protocolId==="MQIsdp"&&g.protocolVersion===3?"mqttv3.1":"mqtt";c(g);let v=u(g,h);return r=g.my,r.connectSocket({url:v,protocols:m}),o=l(),s=new i.BufferedDuplex(g,o,r),d(),s};e.default=f}),uF=we(e=>{"use strict";me(),ve(),_e();var n=e&&e.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=u;var t=n(nr()),i=n((aF(),St(IC))),r=n(Gg()),o=n(Au());typeof vt?.nextTick!="function"&&(vt.nextTick=setImmediate);var s=(0,t.default)("mqttjs"),a=null;function l(d){let f;d.auth&&(f=d.auth.match(/^(.+):(.+)$/),f?(d.username=f[1],d.password=f[2]):d.username=d.auth)}function c(d,f){var h,g,m;if(s("connecting to an MQTT broker..."),typeof d=="object"&&!f&&(f=d,d=""),f=f||{},d&&typeof d=="string"){let p=i.default.parse(d,!0),b={};if(p.port!=null&&(b.port=Number(p.port)),b.host=p.hostname,b.query=p.query,b.auth=p.auth,b.protocol=p.protocol,b.path=p.path,f=Object.assign(Object.assign({},b),f),!f.protocol)throw new Error("Missing protocol");f.protocol=f.protocol.replace(/:$/,"")}if(f.unixSocket=f.unixSocket||((h=f.protocol)===null||h===void 0?void 0:h.includes("+unix")),f.unixSocket?f.protocol=f.protocol.replace("+unix",""):!(!((g=f.protocol)===null||g===void 0)&&g.startsWith("ws"))&&!(!((m=f.protocol)===null||m===void 0)&&m.startsWith("wx"))&&delete f.path,l(f),f.query&&typeof f.query.clientId=="string"&&(f.clientId=f.query.clientId),f.cert&&f.key)if(f.protocol){if(["mqtts","wss","wxs","alis"].indexOf(f.protocol)===-1)switch(f.protocol){case"mqtt":f.protocol="mqtts";break;case"ws":f.protocol="wss";break;case"wx":f.protocol="wxs";break;case"ali":f.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${f.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(a||(a={},!o.default&&!f.forceNativeWebSocket?(a.ws=mu().streamBuilder,a.wss=mu().streamBuilder,a.mqtt=xw().default,a.tcp=xw().default,a.ssl=Dw().default,a.tls=a.ssl,a.mqtts=Dw().default):(a.ws=mu().browserStreamBuilder,a.wss=mu().browserStreamBuilder,a.wx=Ew().default,a.wxs=Ew().default,a.ali=Sw().default,a.alis=Sw().default)),!a[f.protocol]){let p=["mqtts","wss"].indexOf(f.protocol)!==-1;f.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((b,x)=>p&&x%2===0?!1:typeof a[b]=="function")[0]}if(f.clean===!1&&!f.clientId)throw new Error("Missing clientId for unclean clients");f.protocol&&(f.defaultProtocol=f.protocol);function v(p){return f.servers&&((!p._reconnectCount||p._reconnectCount===f.servers.length)&&(p._reconnectCount=0),f.host=f.servers[p._reconnectCount].host,f.port=f.servers[p._reconnectCount].port,f.protocol=f.servers[p._reconnectCount].protocol?f.servers[p._reconnectCount].protocol:f.defaultProtocol,f.hostname=f.host,p._reconnectCount++),s("calling streambuilder for",f.protocol),a[f.protocol](p,f)}let y=new r.default(v,f);return y.on("error",()=>{}),y}function u(d,f,h=!0){return new Promise((g,m)=>{let v=c(d,f),y={connect:b=>{p(),g(v)},end:()=>{p(),g(v)},error:b=>{p(),v.end(),m(b)}};h===!1&&(y.close=()=>{y.error(new Error("Couldn't connect to server"))});function p(){Object.keys(y).forEach(b=>{v.off(b,y[b])})}Object.keys(y).forEach(b=>{v.on(b,y[b])})})}e.default=c}),Iw=we(e=>{"use strict";me(),ve(),_e();var n=e&&e.__createBinding||(Object.create?function(h,g,m,v){v===void 0&&(v=m);var y=Object.getOwnPropertyDescriptor(g,m);(!y||("get"in y?!g.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return g[m]}}),Object.defineProperty(h,v,y)}:function(h,g,m,v){v===void 0&&(v=m),h[v]=g[m]}),t=e&&e.__setModuleDefault||(Object.create?function(h,g){Object.defineProperty(h,"default",{enumerable:!0,value:g})}:function(h,g){h.default=g}),i=e&&e.__importStar||function(){var h=function(g){return h=Object.getOwnPropertyNames||function(m){var v=[];for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(v[v.length]=y);return v},h(g)};return function(g){if(g&&g.__esModule)return g;var m={};if(g!=null)for(var v=h(g),y=0;y<v.length;y++)v[y]!=="default"&&n(m,g,v[y]);return t(m,g),m}}(),r=e&&e.__exportStar||function(h,g){for(var m in h)m!=="default"&&!Object.prototype.hasOwnProperty.call(g,m)&&n(g,h,m)},o=e&&e.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.KeepaliveManager=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var s=o(Gg());e.MqttClient=s.default;var a=o(rC());e.DefaultMessageIdProvider=a.default;var l=o(Wk());e.UniqueMessageIdProvider=l.default;var c=o(oC());e.Store=c.default;var u=i(uF());e.connect=u.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return u.connectAsync}});var d=o(wC());e.KeepaliveManager=d.default,e.Client=s.default,r(Gg(),e),r(_s(),e);var f=Tu();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return f.ReasonCodes}})}),dF=we(e=>{me(),ve(),_e();var n=e&&e.__createBinding||(Object.create?function(s,a,l,c){c===void 0&&(c=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(s,c,u)}:function(s,a,l,c){c===void 0&&(c=l),s[c]=a[l]}),t=e&&e.__setModuleDefault||(Object.create?function(s,a){Object.defineProperty(s,"default",{enumerable:!0,value:a})}:function(s,a){s.default=a}),i=e&&e.__importStar||function(){var s=function(a){return s=Object.getOwnPropertyNames||function(l){var c=[];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[c.length]=u);return c},s(a)};return function(a){if(a&&a.__esModule)return a;var l={};if(a!=null)for(var c=s(a),u=0;u<c.length;u++)c[u]!=="default"&&n(l,a,c[u]);return t(l,a),l}}(),r=e&&e.__exportStar||function(s,a){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&n(a,s,l)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(Iw());e.default=o,r(Iw(),e)}),sx=dF();var Pa=BE(mD());var vs=(()=>{class e{constructor(){this.secretKey=$n.encryptionKey}encryptData(t){return Pa.AES.encrypt(t,this.secretKey).toString()}decryptData(t){try{return Pa.AES.decrypt(t,this.secretKey).toString(Pa.enc.Utf8)}catch(i){return console.error("Decryption failed:",i),""}}saveCredentials(t,i){sessionStorage.setItem("mqttUsername",this.encryptData(t)),sessionStorage.setItem("mqttPassword",this.encryptData(i))}getCredentials(){let t=sessionStorage.getItem("mqttUsername"),i=sessionStorage.getItem("mqttPassword");return t&&i?{username:this.decryptData(t),password:this.decryptData(i)}:null}clearCredentials(){sessionStorage.removeItem("mqttUsername"),sessionStorage.removeItem("mqttPassword"),localStorage.removeItem("mqttUsername"),localStorage.removeItem("mqttPassword")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ht=(()=>{class e{constructor(t,i){this.router=t,this.encryptService=i,this.mqttUrl=$n.mqttUrl,this.baseTopic="",this.devicesSubject=new yt([]),this.groupsSubject=new yt([]),this.stateSubject=new yt(!1),this.deviceStateSubject=new yt(new Map),this.topicSubscriptions=new Set,this.topicCallbackMap={},this.countdownSubject=new yt(0),this.countdown$=this.countdownSubject.asObservable(),this.checkStoredCredentials()}logout(){this.devicesSubject=new yt([]),this.groupsSubject=new yt([]),this.stateSubject=new yt(!1),this.deviceStateSubject=new yt(new Map),this.topicSubscriptions=new Set,this.topicCallbackMap={},this.countdownSubject=new yt(0),this.countdown$=this.countdownSubject.asObservable(),this.disconnectFromBroker()}checkStoredCredentials(){let t=this.encryptService.getCredentials(),i=sessionStorage.getItem("mqttBroker"),r=sessionStorage.getItem("mqttBasicTopic");i&&r?(this.mqttUrl=i,this.baseTopic=r):t!=null?this.setCloudBroker(t.username):this.logout(),t&&this.connectToBroker(t.username,t.password).then(o=>{o?(console.log("Reconnected to MQTT broker."),this.router.navigate(["/"])):console.warn("Reconnection failed, prompting for login.")}).catch(o=>{console.error("Reconnection error:",o)})}initializeMessageListener(){this.client.listenerCount("message")||this.client.on("message",(t,i)=>{this.handleMessage(t,i)})}checkBridgeState(){let t=`${this.baseTopic}/bridge/state`;return this.getUpdate(t,"",i=>{this.stateSubject.next(i.state==="online")}),this.stateSubject.asObservable()}checkDeviceState(t,i){return this.getUpdate(t,"",r=>{let o=this.deviceStateSubject.getValue();o.set(i,r.state==="online"),this.deviceStateSubject.next(new Map(o))}),this.deviceStateSubject.asObservable()}setLocalBroker(t,i){this.mqttUrl=t,this.baseTopic=i}setCloudBroker(t){this.mqttUrl=$n.mqttUrl,this.baseTopic=`zigbee2mqtt/${t.split("-")[0]}`}connectToBroker(t,i){return new Promise((r,o)=>{console.log("Attempting connection to broker:",this.mqttUrl),this.client=sx.connect(this.mqttUrl,{username:t,password:i,reconnectPeriod:0}),this.client.on("connect",()=>{console.log("Connected to MQTT broker"),this.initializeMessageListener(),this.checkBridgeState(),r(!0)}),this.client.on("error",s=>{console.error("MQTT Connection Error:",s),o(!1)}),this.client.on("close",()=>{console.log("MQTT connection closed"),o(!1)}),this.client.on("offline",()=>{console.log("MQTT client is offline"),o(!1)})})}disconnectFromBroker(){this.client&&(this.client.end(),console.log("Disconnected from MQTT broker"))}isConnected(){return this.client&&this.client.connected}subscribeTo(t){let i=`${this.baseTopic}/bridge/${t}`;return this.subscribe(i),t=="devices"?this.devicesSubject.asObservable():this.groupsSubject.asObservable()}getDevices(){return this.subscribeTo("devices").pipe(Qe(t=>t.map(i=>{let r=i.definition?.exposes||[],o=r?.flatMap(c=>c.features||[]),s=o.length>0?o:r.filter(c=>!c.category)||[],a=r.length>0?r[0].type:null,l=o.length>0?r.filter(c=>!c.category):[];return{friendly_name:i.friendly_name,ieee:i.ieee_address,controls:s,type:a,exposes:[...l,...r.filter(c=>c.category)]}})))}getGroups(){return this.subscribeTo("groups").pipe(Qe(t=>t.map(i=>({friendly_name:i.friendly_name,id:i.id,memberAddresses:(i.members||[]).map(r=>r.ieee_address),members:[],scenes:i.scenes||[]}))),un(t=>this.getDevices().pipe(Qe(i=>(t.forEach(r=>{r.members=i.filter(o=>r.memberAddresses.includes(o.ieee))}),t)))))}getBaseTopic(){return this.baseTopic}subscribe(t){this.client&&this.client.connected&&!this.topicSubscriptions.has(t)&&this.client.subscribe(t,i=>{i?console.error(`Subscription error for topic ${t}`,i):(console.log(`Subscribed to topic: ${t}`),this.topicSubscriptions.add(t))})}clearRetain(t){this.client.publish(t,"",{retain:!0})}unsubscribe(t){this.client&&this.client.connected&&this.topicSubscriptions.has(t)&&this.client.unsubscribe(t,i=>{i?console.error(`Unsubscription error for topic ${t}`,i):(console.log(`Unsubscribed to topic: ${t}`),this.topicSubscriptions.delete(t))})}publish(t,i){this.client&&this.client.connected&&this.client.publish(t,i,{},r=>{r?console.error(`Publish error to topic ${t}`,r):console.log(`Message published to ${t}: ${i}`)})}handleMessage(t,i){try{let r=JSON.parse(i.toString());t.includes("/availability")||console.log(`Message received on topic ${t}:`,r),t===`${this.baseTopic}/bridge/devices`&&this.devicesSubject.next(r),t===`${this.baseTopic}/bridge/groups`&&this.groupsSubject.next(r);let o=this.topicCallbackMap[t];o&&o.forEach(({property:s,callback:a})=>{let l=r;this.saveStates(l,t),a(s==""?l:l[s])})}catch(r){console.error(`Failed to parse message from topic ${t}:`,r)}}getUpdate(t,i,r){t.includes("/availability")?this.subscribe(`${this.baseTopic}/+/availability`):t.includes(this.baseTopic)&&!t.includes("/bridge")?this.subscribe(`${this.baseTopic}/+`):this.subscribe(t),this.topicCallbackMap[t]||(this.topicCallbackMap[t]=[]),this.topicCallbackMap[t].push({property:i,callback:r})}saveStates(t,i){localStorage.setItem(i,JSON.stringify(t))}static{this.\u0275fac=function(i){return new(i||e)(Ue(qt),Ue(vs))}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var SD=(()=>{class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||e)(Me(Yn),Me(Zt))}}static{this.\u0275dir=dt({type:e})}}return e})(),ws=(()=>{class e extends SD{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=At(e)))(r||e)}})()}static{this.\u0275dir=dt({type:e,features:[xt]})}}return e})(),wo=new $e(""),fF={provide:wo,useExisting:Rn(()=>Ha),multi:!0},Ha=(()=>{class e extends ws{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=At(e)))(r||e)}})()}static{this.\u0275dir=dt({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&ke("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Kn([fF]),xt]})}}return e})(),hF={provide:wo,useExisting:Rn(()=>Fr),multi:!0};function pF(){let e=Di()?Di().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var gF=new $e(""),Fr=(()=>{class e extends SD{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!pF())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||e)(Me(Yn),Me(Zt),Me(gF,8))}}static{this.\u0275dir=dt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&ke("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Kn([hF]),xt]})}}return e})();function dm(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}var wd=new $e(""),ID=new $e("");function mF(e){return n=>{if(dm(n.value)||dm(e))return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function _F(e){return dm(e.value)?{required:!0}:null}function _D(e){return null}function MD(e){return e!=null}function TD(e){return oo(e)?Nt(e):e}function AD(e){let n={};return e.forEach(t=>{n=t!=null?Te(Te({},n),t):n}),Object.keys(n).length===0?null:n}function OD(e,n){return n.map(t=>t(e))}function vF(e){return!e.validate}function ND(e){return e.map(n=>vF(n)?n:t=>n.validate(t))}function yF(e){if(!e)return null;let n=e.filter(MD);return n.length==0?null:function(t){return AD(OD(t,n))}}function hm(e){return e!=null?yF(ND(e)):null}function bF(e){if(!e)return null;let n=e.filter(MD);return n.length==0?null:function(t){let i=OD(t,n).map(TD);return of(i).pipe(Qe(AD))}}function pm(e){return e!=null?bF(ND(e)):null}function vD(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function wF(e){return e._rawValidators}function CF(e){return e._rawAsyncValidators}function fm(e){return e?Array.isArray(e)?e:[e]:[]}function md(e,n){return Array.isArray(e)?e.includes(n):e===n}function yD(e,n){let t=fm(n);return fm(e).forEach(r=>{md(t,r)||t.push(r)}),t}function bD(e,n){return fm(n).filter(t=>!md(e,t))}var _d=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=hm(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=pm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},bs=class extends _d{get formDirective(){return null}get path(){return null}},Va=class extends _d{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},vd=class{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},xF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},BU=st(Te({},xF),{"[class.ng-submitted]":"isSubmitted"}),ki=(()=>{class e extends vd{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||e)(Me(Va,2))}}static{this.\u0275dir=dt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&io("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[xt]})}}return e})(),Cd=(()=>{class e extends vd{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||e)(Me(bs,10))}}static{this.\u0275dir=dt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&io("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[xt]})}}return e})();var Ba="VALID",gd="INVALID",ys="PENDING",La="DISABLED";function RD(e){return(xd(e)?e.validators:e)||null}function DF(e){return Array.isArray(e)?hm(e):e||null}function kD(e,n){return(xd(n)?n.asyncValidators:e)||null}function EF(e){return Array.isArray(e)?pm(e):e||null}function xd(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function SF(e,n,t){let i=e.controls;if(!(n?Object.keys(i):i).length)throw new Be(1e3,"");if(!i[t])throw new Be(1001,"")}function IF(e,n,t){e._forEachChild((i,r)=>{if(t[r]===void 0)throw new Be(1002,"")})}var yd=class{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Ba}get invalid(){return this.status===gd}get pending(){return this.status==ys}get disabled(){return this.status===La}get enabled(){return this.status!==La}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(yD(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(yD(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(bD(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(bD(n,this._rawAsyncValidators))}hasValidator(n){return md(this._rawValidators,n)}hasAsyncValidator(n){return md(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=ys,n.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=La,this.errors=null,this._forEachChild(i=>{i.disable(st(Te({},n),{onlySelf:!0}))}),this._updateValue(),n.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(st(Te({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Ba,this._forEachChild(i=>{i.enable(st(Te({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(st(Te({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ba||this.status===ys)&&this._runAsyncValidator(n.emitEvent)),n.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?La:Ba}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=ys,this._hasOwnPendingAsyncValidator=!0;let t=TD(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(n,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new It,this.statusChanges=new It}_calculateStatus(){return this._allControlsDisabled()?La:this.errors?gd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ys)?ys:this._anyControlsHaveStatus(gd)?gd:Ba}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){xd(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=DF(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=EF(this._rawAsyncValidators)}},bd=class extends yd{constructor(n,t,i){super(RD(t),kD(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,i={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){IF(this,!0,n),Object.keys(n).forEach(i=>{SF(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(i=>{let r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,i)=>(n[i]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&n(i,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(n,t){let i=n;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var gm=new $e("CallSetDisabledState",{providedIn:"root",factory:()=>mm}),mm="always";function MF(e,n){return[...n.path,e]}function FD(e,n,t=mm){PD(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),AF(e,n),NF(e,n),OF(e,n),TF(e,n)}function wD(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function TF(e,n){if(n.valueAccessor.setDisabledState){let t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function PD(e,n){let t=wF(e);n.validator!==null?e.setValidators(vD(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let i=CF(e);n.asyncValidator!==null?e.setAsyncValidators(vD(i,n.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();wD(n._rawValidators,r),wD(n._rawAsyncValidators,r)}function AF(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&BD(e,n)})}function OF(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&BD(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function BD(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function NF(e,n){let t=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function RF(e,n){e==null,PD(e,n)}function kF(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function FF(e){return Object.getPrototypeOf(e.constructor)===ws}function PF(e,n){e._syncPendingControls(),n.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function BF(e,n){if(!n)return null;Array.isArray(n);let t,i,r;return n.forEach(o=>{o.constructor===Fr?t=o:FF(o)?i=o:r=o}),r||i||t||null}var LF={provide:bs,useExisting:Rn(()=>Ua)},ja=Promise.resolve(),Ua=(()=>{class e extends bs{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new It,this.form=new bd({},hm(t),pm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ja.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),FD(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ja.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ja.then(()=>{let i=this._findContainer(t.path),r=new bd({});RF(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ja.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){ja.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,PF(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||e)(Me(wd,10),Me(ID,10),Me(gm,8))}}static{this.\u0275dir=dt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&ke("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[tn.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Kn([LF]),xt]})}}return e})();function CD(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function xD(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var jF=class extends yd{constructor(n=null,t,i){super(RD(t),kD(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(xD(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){CD(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){CD(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){xD(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var VF={provide:Va,useExisting:Rn(()=>pi)},DD=Promise.resolve(),pi=(()=>{class e extends Va{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new jF,this._registered=!1,this.name="",this.update=new It,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=BF(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),kF(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){FD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){DD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&xr(i);DD.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?MF(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||e)(Me(bs,9),Me(wd,10),Me(ID,10),Me(wo,10),Me(xi,8),Me(gm,8))}}static{this.\u0275dir=dt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[tn.None,"disabled","isDisabled"],model:[tn.None,"ngModel","model"],options:[tn.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Kn([VF]),xt,Ci]})}}return e})(),Dd=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=dt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})(),HF={provide:wo,useExisting:Rn(()=>_m),multi:!0},_m=(()=>{class e extends ws{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=At(e)))(r||e)}})()}static{this.\u0275dir=dt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&ke("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Kn([HF]),xt]})}}return e})();var UF={provide:wo,useExisting:Rn(()=>vm),multi:!0},vm=(()=>{class e extends ws{writeValue(t){this.setProperty("value",parseFloat(t))}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=At(e)))(r||e)}})()}static{this.\u0275dir=dt({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(i,r){i&1&&ke("change",function(s){return r.onChange(s.target.value)})("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Kn([UF]),xt]})}}return e})();var $F={provide:wo,useExisting:Rn(()=>Cs),multi:!0};function LD(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function GF(e){return e.split(":")[0]}var Cs=(()=>{class e extends ws{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),r=LD(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=GF(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=At(e)))(r||e)}})()}static{this.\u0275dir=dt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&ke("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Kn([$F]),xt]})}}return e})(),Ed=(()=>{class e{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(LD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||e)(Me(Zt),Me(Yn),Me(Cs,9))}}static{this.\u0275dir=dt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),WF={provide:wo,useExisting:Rn(()=>jD),multi:!0};function ED(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function qF(e){return e.split(":")[0]}var jD=(()=>{class e extends ws{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);r.push(c)}}else{let s=i.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=qF(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=At(e)))(r||e)}})()}static{this.\u0275dir=dt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&ke("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Kn([WF]),xt]})}}return e})(),Sd=(()=>{class e{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(ED(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ED(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||e)(Me(Zt),Me(Yn),Me(jD,9))}}static{this.\u0275dir=dt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();function zF(e){return typeof e=="number"?e:parseFloat(e)}var VD=(()=>{class e{constructor(){this._validator=_D}ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):_D,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=dt({type:e,features:[Ci]})}}return e})();var QF={provide:wd,useExisting:Rn(()=>ym),multi:!0},ym=(()=>{class e extends VD{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>zF(t),this.createValidator=t=>mF(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=At(e)))(r||e)}})()}static{this.\u0275dir=dt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&br("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Kn([QF]),xt]})}}return e})(),YF={provide:wd,useExisting:Rn(()=>bm),multi:!0};var bm=(()=>{class e extends VD{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=xr,this.createValidator=t=>_F}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=At(e)))(r||e)}})()}static{this.\u0275dir=dt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&br("required",r._enabled?"":null)},inputs:{required:"required"},features:[Kn([YF]),xt]})}}return e})();var KF=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})();var HD=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:gm,useValue:t.callSetDisabledState??mm}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({imports:[KF]})}}return e})();var UD=(e,n)=>({"btn-primary":e,"btn-secondary":n}),$D=(e,n)=>({"text-success":e,"text-danger":n});function ZF(e,n){if(e&1&&(te(0,"div",15),Oe(1,"span",21),ne()),e&2){let t=de(2);z(),X("ngClass",Wt(2,$D,t.invalidMessage==="Connecting...",t.invalidMessage!=="Connecting..."))("innerHTML",t.invalidMessage,zh)}}function JF(e,n){if(e&1){let t=gt();te(0,"form",14),ke("ngSubmit",function(){je(t);let r=de();return Ve(r.onCloud())}),te(1,"div",15)(2,"input",16),Qt("ngModelChange",function(r){je(t);let o=de();return Xt(o.username,r)||(o.username=r),Ve(r)}),ne()(),te(3,"div",15)(4,"input",17),Qt("ngModelChange",function(r){je(t);let o=de();return Xt(o.password,r)||(o.password=r),Ve(r)}),ne()(),Pe(5,ZF,2,5,"div",18),te(6,"div",15)(7,"button",19),Ie(8," Login "),ne()(),te(9,"div",15)(10,"button",20),ke("click",function(){je(t);let r=de();return Ve(r.guestLogin())}),Ie(11," Login as Guest "),ne()()()}if(e&2){let t=de();z(2),zt("ngModel",t.username),z(2),zt("ngModel",t.password),z(),X("ngIf",t.invalidMessage),z(2),X("ngClass",Wt(5,UD,t.username&&t.password,!t.username||!t.password))("disabled",!t.username||!t.password)}}function XF(e,n){if(e&1&&(te(0,"div",15),Oe(1,"span",21),ne()),e&2){let t=de(2);z(),X("ngClass",Wt(2,$D,t.invalidMessage==="Connecting...",t.invalidMessage!=="Connecting..."))("innerHTML",t.invalidMessage,zh)}}function eP(e,n){if(e&1){let t=gt();te(0,"form",14),ke("ngSubmit",function(){je(t);let r=de();return Ve(r.onLocal())}),te(1,"div",15)(2,"div",22)(3,"select",23),Qt("ngModelChange",function(r){je(t);let o=de();return Xt(o.wsProtocol,r)||(o.wsProtocol=r),Ve(r)}),te(4,"option",24),Ie(5,"ws://"),ne(),te(6,"option",25),Ie(7,"wss://"),ne()(),te(8,"input",26),Qt("ngModelChange",function(r){je(t);let o=de();return Xt(o.localBroker,r)||(o.localBroker=r),Ve(r)}),ne(),te(9,"input",27),Qt("ngModelChange",function(r){je(t);let o=de();return Xt(o.port,r)||(o.port=r),Ve(r)}),ne()()(),te(10,"div",15)(11,"input",28),Qt("ngModelChange",function(r){je(t);let o=de();return Xt(o.basetopic,r)||(o.basetopic=r),Ve(r)}),ne()(),te(12,"div",15)(13,"input",16),Qt("ngModelChange",function(r){je(t);let o=de();return Xt(o.username,r)||(o.username=r),Ve(r)}),ne()(),te(14,"div",15)(15,"input",17),Qt("ngModelChange",function(r){je(t);let o=de();return Xt(o.password,r)||(o.password=r),Ve(r)}),ne()(),Pe(16,XF,2,5,"div",18),te(17,"div",15)(18,"button",19),Ie(19," Login "),ne()()()}if(e&2){let t=de();z(3),zt("ngModel",t.wsProtocol),z(5),zt("ngModel",t.localBroker),z(),zt("ngModel",t.port),z(2),zt("ngModel",t.basetopic),z(2),zt("ngModel",t.username),z(2),zt("ngModel",t.password),z(),X("ngIf",t.invalidMessage),z(2),X("ngClass",Wt(9,UD,t.wsProtocol&&t.localBroker&&t.port&&t.basetopic,!(t.wsProtocol&&t.localBroker&&t.port)||!t.basetopic))("disabled",!(t.wsProtocol&&t.localBroker&&t.port)||!t.basetopic)}}var GD=(()=>{class e{constructor(t,i,r){this.mqttService=t,this.router=i,this.encryptService=r,this.username="",this.password="",this.isLocal=!1,this.wsProtocol="ws://"}onLogin(){return ct(this,null,function*(){let t=this.username,i=this.password;sessionStorage.removeItem("mqttBroker"),sessionStorage.removeItem("mqttBasicTopic"),this.invalidMessage="Connecting...";try{if(yield this.mqttService.connectToBroker(t,i))return this.encryptService.saveCredentials(t,i),t!==$n.guestUser.username?this.router.navigate(["/"]):this.router.navigate(["/virtual"]),!0;console.error("Failed to connect to MQTT broker"),this.invalidMessage="Connection failed. Please check your credentials and try again."}catch(r){return console.error("Login failed:",r),this.invalidMessage="Connection failed. Please check your credentials and try again.",!1}return!1})}onCloud(){this.mqttService.setCloudBroker(this.username),console.log(this.username),this.onLogin()}onLocal(){return ct(this,null,function*(){this.wholeBroker=`${this.wsProtocol}${this.localBroker}:${this.port}`;let t=this.basetopic;if(this.wholeBroker&&t){this.mqttService.setLocalBroker(this.wholeBroker,t);let i=yield this.onLogin();i||(this.wholeBroker=`${this.wholeBroker}/mqtt`,this.mqttService.setLocalBroker(this.wholeBroker,t),i=yield this.onLogin()),i&&(sessionStorage.setItem("mqttBroker",this.wholeBroker),sessionStorage.setItem("mqttBasicTopic",t))}})}guestLogin(){this.username=$n.guestUser.username,this.password=$n.guestUser.password,console.log("test"),this.onCloud()}static{this.\u0275fac=function(i){return new(i||e)(Me(Ht),Me(qt),Me(vs))}}static{this.\u0275cmp=ze({type:e,selectors:[["app-login"]],decls:19,vars:4,consts:[[1,"position-relative","py-4","py-xl-5"],[1,"container"],[1,"row","mb-5"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","d-flex","justify-content-center"],[1,"col-md-6","col-xl-4"],[1,"card","mb-5"],[1,"card-body","d-flex","flex-column","align-items-center"],[1,"bs-icon-xl","bs-icon-circle","bs-icon-primary","bs-icon","my-4"],["xmlns","http://www.w3.org/2000/svg","width","1em","height","1em","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person"],["d","M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664z"],[1,"form-check","form-switch","text-center","mb-3"],["type","checkbox",1,"form-check-input",3,"ngModelChange","ngModel"],["class","text-center needs-validation","novalidate","",3,"ngSubmit",4,"ngIf"],["novalidate","",1,"text-center","needs-validation",3,"ngSubmit"],[1,"mb-3"],["type","text","id","username","name","username","placeholder","Username",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Password",1,"form-control",3,"ngModelChange","ngModel"],["class","mb-3",4,"ngIf"],["type","submit",1,"btn","d-block","w-100",3,"ngClass","disabled"],["type","button",1,"btn","d-block","w-100","btn-secondary",3,"click"],[3,"ngClass","innerHTML"],[1,"input-group"],["name","wsProtocol",1,"form-control",3,"ngModelChange","ngModel"],["value","ws://"],["value","wss://"],["type","text","name","localBroker","placeholder","Local Broker",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","port","placeholder","Port","min","1",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","basetopic","placeholder","Base Topic",1,"form-control",3,"ngModelChange","ngModel"]],template:function(i,r){i&1&&(te(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),Ie(5,"Log in"),ne()()(),te(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),ny(),te(11,"svg",9),Oe(12,"path",10),ne()(),iy(),te(13,"div",11)(14,"input",12),Qt("ngModelChange",function(s){return Xt(r.isLocal,s)||(r.isLocal=s),s}),ne(),te(15,"span"),Ie(16),ne()(),Pe(17,JF,12,8,"form",13)(18,eP,20,12,"form",13),ne()()()()()()),i&2&&(z(14),zt("ngModel",r.isLocal),z(2),mt("",r.isLocal?"Local":"Cloud"," Login"),z(),X("ngIf",!r.isLocal),z(),X("ngIf",r.isLocal))},dependencies:[bn,jt,Dd,Ed,Sd,Fr,_m,Ha,Cs,ki,Cd,ym,pi,Ua],styles:[".bs-icon[_ngcontent-%COMP%]{--bs-icon-size: .75rem;display:flex;flex-shrink:0;justify-content:center;align-items:center;font-size:var(--bs-icon-size);width:calc(var(--bs-icon-size) * 2);height:calc(var(--bs-icon-size) * 2);color:var(--bs-primary)}.bs-icon-xs[_ngcontent-%COMP%]{--bs-icon-size: 1rem;width:calc(var(--bs-icon-size) * 1.5);height:calc(var(--bs-icon-size) * 1.5)}.bs-icon-sm[_ngcontent-%COMP%]{--bs-icon-size: 1rem}.bs-icon-md[_ngcontent-%COMP%]{--bs-icon-size: 1.5rem}.bs-icon-lg[_ngcontent-%COMP%]{--bs-icon-size: 2rem}.bs-icon-xl[_ngcontent-%COMP%]{--bs-icon-size: 2.5rem}.bs-icon.bs-icon-primary[_ngcontent-%COMP%]{color:var(--bs-white);background:var(--bs-primary)}.bs-icon.bs-icon-primary-light[_ngcontent-%COMP%]{color:var(--bs-primary);background:rgba(var(--bs-primary-rgb),.2)}.bs-icon.bs-icon-semi-white[_ngcontent-%COMP%]{color:var(--bs-primary);background:#ffffff80}.bs-icon.bs-icon-rounded[_ngcontent-%COMP%]{border-radius:.5rem}.bs-icon.bs-icon-circle[_ngcontent-%COMP%]{border-radius:50%}"]})}}return e})();var tP=["*"];var nP=["dialog"];var WD={animation:!0,transitionTimerDelayMs:5},iP=(()=>{class e{constructor(){this.animation=WD.animation}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function rP(e){let{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e),i=parseFloat(n),r=parseFloat(t);return(i+r)*1e3}function qD(e){return typeof e=="string"}function wm(e){return e!=null}function oP(e){return e&&e.then}function zD(e){return(e||document.body).getBoundingClientRect()}function sP(e){return n=>new Ke(t=>{let i=s=>e.run(()=>t.next(s)),r=s=>e.run(()=>t.error(s)),o=()=>e.run(()=>t.complete());return n.subscribe({next:i,error:r,complete:o})})}var aP=()=>{},{transitionTimerDelayMs:lP}=WD,Id=new Map,Co=(e,n,t,i)=>{let r=i.context||{},o=Id.get(n);if(o)switch(i.runningTransition){case"continue":return cn;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),Id.delete(n)}let s=t(n,i.animation,r)||aP;if(!i.animation||window.getComputedStyle(n).transitionProperty==="none")return e.run(()=>s()),Le(void 0).pipe(sP(e));let a=new Tt,l=new Tt,c=a.pipe(cf(!0));Id.set(n,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let u=rP(n);return e.runOutsideAngular(()=>{let d=qn(n,"transitionend").pipe(mn(c),Yt(({target:h})=>h===n)),f=sf(u+lP).pipe(mn(c));af(f,d,l).pipe(mn(c)).subscribe(()=>{Id.delete(n),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var QD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})();var YD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})();var KD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})(),ZD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})();var Dm=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(Dm||{});var R7=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,n=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||n()):!1})();var cP=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function JD(e){let n=Array.from(e.querySelectorAll(cP)).filter(t=>t.tabIndex!==-1);return[n[0],n[n.length-1]]}var uP=(e,n,t,i=!1)=>{e.runOutsideAngular(()=>{let r=qn(n,"focusin").pipe(mn(t),Qe(o=>o.target));qn(n,"keydown").pipe(mn(t),Yt(o=>o.which===Dm.Tab),xl(r)).subscribe(([o,s])=>{let[a,l]=JD(n);(s===a||s===n)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&qn(n,"click").pipe(mn(t),xl(r),Qe(o=>o[1])).subscribe(o=>o.focus())})};var k7=new Date(1882,10,12),F7=new Date(2174,10,25);var P7=1e3*60*60*24;var Em=1080,dP=24*Em,fP=12*Em+793,B7=29*dP+fP,L7=11*Em+204;var XD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})();var eE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})(),hP=(()=>{class e{constructor(){this._ngbConfig=Ee(iP),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),xs=class{constructor(n,t,i){this.nodes=n,this.viewRef=t,this.componentRef=i}};var pP=(()=>{class e{constructor(){this._document=Ee(rn)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(t>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gP=(()=>{class e{constructor(){this._nativeElement=Ee(Zt).nativeElement,this._zone=Ee(pt)}ngOnInit(){this._zone.onStable.asObservable().pipe(On(1)).subscribe(()=>{Co(this._zone,this._nativeElement,(t,i)=>{i&&zD(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Co(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=ze({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(Rc("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),io("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[ea],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),Md=class{update(n){}close(n){}dismiss(n){}},mP=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],_P=["animation","backdropClass"],Cm=class{_applyWindowOptions(n,t){mP.forEach(i=>{wm(t[i])&&(n[i]=t[i])})}_applyBackdropOptions(n,t){_P.forEach(i=>{wm(t[i])&&(n[i]=t[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(mn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(mn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,t,i,r){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Tt,this._dismissed=new Tt,this._hidden=new Tt,n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(n);else{let t=this._beforeDismiss();oP(t)?t.then(i=>{i!==!1&&this._dismiss(n)},()=>{}):t!==!1&&this._dismiss(n)}}_removeModalElements(){let n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Le(void 0);n.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ns(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},xm=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(xm||{}),vP=(()=>{class e{constructor(){this._document=Ee(rn),this._elRef=Ee(Zt),this._zone=Ee(pt),this._closed$=new Tt,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new It,this.shown=new Tt,this.hidden=new Tt}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":qD(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(On(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=Co(this._zone,t,()=>t.classList.remove("show"),i),o=Co(this._zone,this._dialogEl.nativeElement,()=>{},i),s=Ns(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let t={animation:this.animation,runningTransition:"continue"},i=Co(this._zone,this._elRef.nativeElement,(o,s)=>{s&&zD(o),o.classList.add("show")},t),r=Co(this._zone,this._dialogEl.nativeElement,()=>{},t);Ns(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{qn(t,"keydown").pipe(mn(this._closed$),Yt(r=>r.which===Dm.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(xm.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;qn(this._dialogEl.nativeElement,"mousedown").pipe(mn(this._closed$),Kt(()=>i=!1),un(()=>qn(t,"mouseup").pipe(mn(this._closed$),On(1))),Yt(({target:r})=>t===r)).subscribe(()=>{i=!0}),qn(t,"click").pipe(mn(this._closed$)).subscribe(({target:r})=>{t===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(xm.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let i=t.querySelector("[ngbAutofocus]"),r=JD(t)[0];(i||r||t).focus()}}_restoreFocus(){let t=this._document.body,i=this._elWithFocus,r;i&&i.focus&&t.contains(i)?r=i:r=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Co(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=ze({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&kn(nP,7),i&2){let o;vn(o=yn())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&(br("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Rc("modal d-block"+(r.windowClass?" "+r.windowClass:"")),io("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[ea],ngContentSelectors:tP,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(is(),te(0,"div",1,0)(2,"div",2),ro(3),ne()()),i&2&&Rc("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),yP=(()=>{class e{constructor(){this._applicationRef=Ee(Cr),this._injector=Ee(In),this._environmentInjector=Ee(fn),this._document=Ee(rn),this._scrollBar=Ee(pP),this._activeWindowCmptHasChanged=new Tt,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new It;let t=Ee(pt);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];uP(t,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){let o=r.container instanceof HTMLElement?r.container:wm(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new Md;t=r.injector||t;let a=t.get(fn,null)||this._environmentInjector,l=this._getContentRef(t,a,i,s,r),c=r.backdrop!==!1?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,l.nodes),d=new Cm(u,l,c,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.hidden.pipe(On(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=f=>{d.close(f)},s.dismiss=f=>{d.dismiss(f)},s.update=f=>{d.update(f)},d.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=Vc(gP,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=Vc(vP,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,o,s){return r?r instanceof li?this._createFromTemplateRef(r,o):qD(r)?this._createFromString(r):this._createFromComponent(t,i,r,o,s):new xs([])}_createFromTemplateRef(t,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=t.createEmbeddedView(r);return this._applicationRef.attachView(o),new xs([o.rootNodes],o)}_createFromString(t){let i=this._document.createTextNode(`${t}`);return new xs([[i]])}_createFromComponent(t,i,r,o,s){let a=In.create({providers:[{provide:Md,useValue:o}],parent:t}),l=Vc(r,{environmentInjector:i,elementInjector:a}),c=l.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new xs([[c]],l.hostView,l)}_setAriaHidden(t){let i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let i=()=>{let r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Sm=(()=>{class e{constructor(){this._injector=Ee(In),this._modalStack=Ee(yP),this._config=Ee(hP)}open(t,i={}){let r=Te(st(Te({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),tE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({providers:[Sm]})}}return e})();var nE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})();var iE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})();var rE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})();var oE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})();var sE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})();var aE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})();var lE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})();var cE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})();var uE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})();var j7=new $e("live announcer delay",{providedIn:"root",factory:()=>100});var dE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})();var fE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({})}}return e})(),bP=[QD,YD,KD,ZD,XD,eE,tE,nE,fE,iE,rE,oE,sE,aE,lE,cE,uE,dE],hE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({imports:[bP,QD,YD,KD,ZD,XD,eE,tE,nE,fE,iE,rE,oE,sE,aE,lE,cE,uE,dE]})}}return e})();var CP=["modalContent"],xP=(e,n)=>({"is-invalid":e,"is-valid":n}),Im=e=>({"is-invalid":e});function DP(e,n){if(e&1&&(te(0,"div",17)(1,"div",18)(2,"div",19)(3,"span",20),Ie(4,"\u{1F50D} Searching for Devices..."),ne(),Oe(5,"div",21),ne(),te(6,"div",22),Ie(7),ne()()()),e&2){let t=de(3);z(7),mt(" ",t.joiningCountdown,"s ")}}function EP(e,n){if(e&1&&(te(0,"div",17)(1,"span",23),Ie(2),ne()()),e&2){let t=de(3);z(2),Jt(t.invalidMessage)}}function SP(e,n){if(e&1&&(te(0,"li")(1,"strong"),Ie(2),ne()()),e&2){let t=n.$implicit;z(2),Jt(t.friendly_name)}}function IP(e,n){if(e&1&&(te(0,"div",17),Ie(1," Found Devices "),te(2,"ul"),Pe(3,SP,3,1,"li",24),ne()()),e&2){let t=de(3);z(3),X("ngForOf",t.joinedDevices)}}function MP(e,n){if(e&1){let t=gt();Ge(0),Pe(1,DP,8,1,"div",13)(2,EP,3,1,"div",13)(3,IP,4,1,"div",13),te(4,"div",14)(5,"button",15),ke("click",function(){je(t);let r=de(2);return Ve(r.closeModal())}),Ie(6,"Close"),ne(),te(7,"button",16),ke("click",function(){je(t);let r=de(2);return Ve(r.addZigbee())}),Ie(8),ne()(),We()}if(e&2){let t=de(2);z(),X("ngIf",t.joiningCountdown>0),z(),X("ngIf",t.cantFind),z(),X("ngIf",t.joinedDevices.length>0),z(4),X("disabled",!t.isBridgeOnline),z(),mt(" ",t.joiningCountdown>0?"Disable Zigbee Devices to Join":"Allow Zigbee Devices to Join"," ")}}function TP(e,n){if(e&1&&(te(0,"div",31),Ie(1),ne()),e&2){let t=de(3);z(),mt(" ",t.invalidMessage," ")}}function AP(e,n){if(e&1){let t=gt();Ge(0),te(1,"div",17)(2,"form",25,1),ke("submit",function(r){je(t);let o=pn(8),s=de(2);return Ve(s.editName(r,o.value))}),te(4,"label",26),Ie(5,"New Name"),ne(),te(6,"div",27),Oe(7,"input",28,2),Pe(9,TP,2,1,"div",29),ne(),te(10,"div",14)(11,"button",15),ke("click",function(){je(t);let r=de(2);return Ve(r.closeModal())}),Ie(12,"Close"),ne(),te(13,"button",30),Ie(14,"Save changes"),ne()()()(),We()}if(e&2){let t=pn(3),i=de(2);z(7),pp("placeholder",i.name),X("ngClass",Wt(4,xP,i.isInvalid,!i.isInvalid)),z(2),X("ngIf",i.isInvalid),z(4),X("disabled",t.invalid||!i.isBridgeOnline)}}function OP(e,n){if(e&1&&(te(0,"div",35),Oe(1,"i",36),te(2,"span",23),Ie(3),ne()()),e&2){let t=de(3);z(3),Jt(t.invalidMessage)}}function NP(e,n){e&1&&(te(0,"div",37)(1,"span",20),Ie(2,"\u{1F5D1}\uFE0F Deleting..."),ne(),Oe(3,"div",21),ne())}function RP(e,n){if(e&1){let t=gt();Ge(0),Pe(1,OP,4,1,"div",32)(2,NP,4,0,"div",33),te(3,"div",14)(4,"button",15),ke("click",function(){je(t);let r=de(2);return Ve(r.closeModal())}),Ie(5,"Close"),ne(),te(6,"button",34),ke("click",function(){je(t);let r=de(2);return Ve(r.deleteItem())}),Ie(7),ne()(),We()}if(e&2){let t=de(2);z(),X("ngIf",t.cantRemove),z(),X("ngIf",t.deleting),z(4),X("disabled",!t.isBridgeOnline),z(),mt(" ",t.cantRemove?"Force Delete":"Confirm Delete"," ")}}function kP(e,n){if(e&1&&(te(0,"div",31),Ie(1),ne()),e&2){let t=de(3);z(),mt(" ",t.invalidMessage," ")}}function FP(e,n){if(e&1){let t=gt();Ge(0),te(1,"div",17)(2,"form",38,3),ke("ngSubmit",function(){je(t);let r=pn(8),o=pn(14),s=de(2);return Ve(s.addGroup(r.value,o.valueAsNumber))}),te(4,"div",39)(5,"label",40),Ie(6,"Group Name"),ne(),Oe(7,"input",41,4),Pe(9,kP,2,1,"div",29),ne(),te(10,"div",39)(11,"label",42),Ie(12,"Group ID (optional)"),ne(),Oe(13,"input",43,5),ne(),te(15,"div",14)(16,"button",15),ke("click",function(){je(t);let r=de(2);return Ve(r.closeModal())}),Ie(17,"Cancel"),ne(),te(18,"button",30),Ie(19,"Add Group"),ne()()()(),We()}if(e&2){let t=pn(3),i=de(2);z(7),X("ngClass",nn(3,Im,i.isInvalid)),z(2),X("ngIf",i.isInvalid),z(9),X("disabled",!t.valid||!i.isBridgeOnline)}}function PP(e,n){e&1&&(te(0,"div",37)(1,"span",20),Ie(2,"\u{1F5D1}\uFE0F Deleting..."),ne(),Oe(3,"div",21),ne())}function BP(e,n){if(e&1&&(te(0,"option",50),Ie(1),ne()),e&2){let t=n.$implicit;X("ngValue",t.friendly_name),z(),mt(" ",t.friendly_name," ")}}function LP(e,n){if(e&1&&(te(0,"div",31),Ie(1),ne()),e&2){let t=de(3);z(),mt(" ",t.invalidMessage," ")}}function jP(e,n){if(e&1){let t=gt();Ge(0),Pe(1,PP,4,0,"div",33),te(2,"div",17)(3,"form",38,3),ke("ngSubmit",function(){je(t);let r=de(2);return Ve(r.removeDeviceFromGroup(r.deviceNameInput,r.name))}),te(5,"div",39)(6,"div",44)(7,"label",45),Ie(8,"Device Name"),ne(),te(9,"select",46,6),Qt("ngModelChange",function(r){je(t);let o=de(2);return Xt(o.deviceNameInput,r)||(o.deviceNameInput=r),Ve(r)}),te(11,"option",47),Ie(12,"Select a device"),ne(),Pe(13,BP,2,2,"option",48),ne()(),Pe(14,LP,2,1,"div",29),ne(),te(15,"div",14)(16,"button",15),ke("click",function(){je(t);let r=de(2);return Ve(r.closeModal())}),Ie(17,"Close"),ne(),te(18,"button",49),Ie(19),ne()()()(),We()}if(e&2){let t=pn(10),i=de(2);z(),X("ngIf",i.deleting),z(8),zt("ngModel",i.deviceNameInput),X("ngClass",nn(8,Im,t.invalid&&t.touched)),z(2),X("ngValue",""),z(2),X("ngForOf",i.members),z(),X("ngIf",i.isInvalid),z(4),X("disabled",!i.isBridgeOnline||i.deviceNameInput==""),z(),mt(" ",i.cantRemove?"Force Remove":"Confirm Remove"," ")}}function VP(e,n){if(e&1&&(te(0,"option",50),Ie(1),ne()),e&2){let t=n.$implicit;X("ngValue",t.friendly_name),z(),mt(" ",t.friendly_name," ")}}function HP(e,n){if(e&1&&(te(0,"div",31),Ie(1),ne()),e&2){let t=de(3);z(),mt(" ",t.invalidMessage," ")}}function UP(e,n){if(e&1){let t=gt();Ge(0),te(1,"div",17)(2,"form",38,3),ke("ngSubmit",function(){je(t);let r=de(2);return Ve(r.addDeviceToGroup(r.deviceNameInput,r.name))}),te(4,"div",39)(5,"div",44)(6,"label",45),Ie(7,"Device Name"),ne(),te(8,"select",46,7),Qt("ngModelChange",function(r){je(t);let o=de(2);return Xt(o.deviceNameInput,r)||(o.deviceNameInput=r),Ve(r)}),te(10,"option",47),Ie(11,"Select a device"),ne(),Pe(12,VP,2,2,"option",48),ne()(),Pe(13,HP,2,1,"div",29),ne(),te(14,"div",14)(15,"button",15),ke("click",function(){je(t);let r=de(2);return Ve(r.closeModal())}),Ie(16,"Close"),ne(),te(17,"button",30),Ie(18,"Add to Group"),ne()()()(),We()}if(e&2){let t=pn(9),i=de(2);z(8),zt("ngModel",i.deviceNameInput),X("ngClass",nn(6,Im,t.invalid&&t.touched)),z(2),X("ngValue",""),z(2),X("ngForOf",i.devices),z(),X("ngIf",i.isInvalid),z(4),X("disabled",!i.isBridgeOnline||i.deviceNameInput=="")}}function $P(e,n){if(e&1){let t=gt();te(0,"div",8)(1,"h5",9),Ie(2),ne(),te(3,"button",10),ke("click",function(){je(t);let r=de();return Ve(r.closeModal())}),ne()(),Ge(4,11),Pe(5,MP,9,5,"ng-container",12)(6,AP,15,7,"ng-container",12)(7,RP,8,4,"ng-container",12)(8,FP,20,5,"ng-container",12)(9,jP,20,10,"ng-container",12)(10,UP,19,8,"ng-container",12),We()}if(e&2){let t=de();z(2),Jt(t.title),z(2),X("ngSwitch",t.action),z(),X("ngSwitchCase","add-device"),z(),X("ngSwitchCase","edit"),z(),X("ngSwitchCase","delete"),z(),X("ngSwitchCase","add-group"),z(),X("ngSwitchCase","removeFromGroup"),z(),X("ngSwitchCase","addToGroup")}}var Cn=(()=>{class e{constructor(t,i,r,o){this.mqttService=t,this.modalService=i,this.location=r,this.router=o,this.onMemberChange=new It,this.isInvalid=!1,this.cantRemove=!1,this.deleting=!1,this.cantFind=!1,this.isBridgeOnline=!1,this.joiningCountdown=0,this.joinedDevices=[],this.deviceNameInput=""}ngOnInit(){this.baseTopic=`${this.mqttService.getBaseTopic()}`,this.checkState()}checkState(){this.mqttService.checkBridgeState().subscribe(t=>{this.isBridgeOnline=t,this.cantFind=!t,this.isInvalid=!t,this.cantRemove=!t,this.invalidMessage=t?"":"The bridge is offline. Please check your connection."})}addGroup(t,i){let r=this.mqttService.getBaseTopic(),o=`${r}/bridge/request/group/add`,s=`${r}/bridge/response/group/add`,a;i!==void 0&&!isNaN(i)?a={friendly_name:t.trim(),id:i}:a=t.trim(),console.log("Sending add group request:",a),this.mqttService.publish(o,JSON.stringify(a)),this.mqttService.getUpdate(s,"",l=>{l.error?(console.log(l.error),this.isInvalid=!0,this.invalidMessage=l.error):(console.log("Group added successfully:",l),this.isInvalid=!1,this.closeModal())})}addDeviceToGroup(t,i){let r=this.mqttService.getBaseTopic(),o=`${r}/bridge/request/group/members/add`,s=`${r}/bridge/response/group/members/add`,a={group:i,device:t};console.log(`Adding ${t} to group ${i}`),this.mqttService.publish(o,JSON.stringify(a)),this.mqttService.getUpdate(s,"",l=>{l.error?(console.log(l.error),this.isInvalid=!0,this.invalidMessage=l.error):(console.log(`${t} added to ${i} successfully:`,l),this.isInvalid=!1,this.onDataChange(),this.closeModal())})}removeDeviceFromGroup(t,i){let r=this.mqttService.getBaseTopic(),o=`${r}/bridge/request/group/members/remove`,s=`${r}/bridge/response/group/members/remove`,a={group:i,device:t};console.log(`Removing ${t} from group ${i}`),this.mqttService.publish(o,JSON.stringify(a)),this.mqttService.getUpdate(s,"",l=>{l.error?(console.log(l.error),this.isInvalid=!0,this.invalidMessage=l.error):(console.log(`${t} removed from ${i} successfully:`,l),this.isInvalid=!1,this.onDataChange(),this.closeModal())})}removeDeviceFromAllGroups(t){let i=this.mqttService.getBaseTopic(),r=`${i}/bridge/request/group/members/remove_all`,o=`${i}/bridge/response/group/members/remove_all`,s={device:t};console.log(`Removing ${t} from all groups`),this.mqttService.publish(r,JSON.stringify(s)),this.mqttService.getUpdate(o,"",a=>{a.error?(console.log(a.error),this.isInvalid=!0,this.invalidMessage=a.error):(console.log(`${t} removed from all groups successfully:`,a),this.isInvalid=!1,this.closeModal())})}addZigbee(){let t=this.mqttService.getBaseTopic(),i=`${t}/bridge/request/permit_join`,r=60,o={time:r};if(this.joinedDevices=[],this.joiningCountdown>0){this.cancelJoin();return}else this.joiningCountdown=r;console.log(o),this.mqttService.publish(i,JSON.stringify(o));let s=setInterval(()=>{this.joiningCountdown>0?this.joiningCountdown--:clearInterval(s)},1e3);this.mqttService.getUpdate(`${t}/bridge/event`,"",a=>{a.error?(console.log(a.error),this.cantFind=!0,this.invalidMessage=a.error):a.type=="device_announce"&&(this.joinedDevices.some(l=>l.ieee_address===a.data.ieee_address)||this.joinedDevices.push(a.data),this.invalidMessage=a.data,this.cantFind=!1)})}editName(t,i){t.preventDefault();let r=`${this.baseTopic}/bridge/request/${this.type}/rename`,o=`${this.baseTopic}/bridge/response/${this.type}/rename`,s=this.name,a={from:this.name,to:i.trim()};console.log(a),this.mqttService.publish(r,JSON.stringify(a)),this.mqttService.getUpdate(o,"",l=>{l.error?(console.log(l.error),this.isInvalid=!0,this.invalidMessage=l.error):(this.isInvalid=!1,this.closeModal(),this.unsubscribe(s))})}deleteItem(){let t=`${this.baseTopic}/bridge/request/${this.type}/remove`,i=`${this.baseTopic}/bridge/response/${this.type}/remove`,r=this.name,o;this.oldName=this.name,this.deleting=!0,o={id:this.name,force:this.cantRemove},console.log(o),this.mqttService.publish(t,JSON.stringify(o)),this.mqttService.getUpdate(i,"",s=>{s.error?(console.log(s.error),this.cantRemove=!0,this.invalidMessage=s.error.split(" (")[0]||s.error):(this.cantRemove=!1,this.closeModal(),this.unsubscribe(r),this.type=="device"?this.location.back():this.router.navigate(["/groups"])),this.deleting=!1})}unsubscribe(t){this.mqttService.clearRetain(`${this.baseTopic}/${t}/availability`)}resetModal(){this.isInvalid=!1,this.cantRemove=!1,this.deleting=!1,this.invalidMessage="",this.deviceNameInput="",this.joiningCountdown>0&&this.cancelJoin(),this.checkState()}cancelJoin(){let i=`${this.mqttService.getBaseTopic()}/bridge/request/permit_join`,r={time:0};this.mqttService.publish(i,JSON.stringify(r)),this.joinedDevices=[],this.cantFind=!1,this.joiningCountdown=0}openModal(){this.modalService.open(this.modalContent,{backdrop:"static",keyboard:!1})}closeModal(){return ct(this,null,function*(){this.resetModal(),yield Promise.all([this.mqttService.unsubscribe(`${this.baseTopic}/bridge/event`),this.mqttService.unsubscribe(`${this.baseTopic}/bridge/response/${this.type}/rename`),this.mqttService.unsubscribe(`${this.baseTopic}/bridge/response/${this.type}/remove`)]),this.modalService.dismissAll()})}onDataChange(){this.onMemberChange.emit()}static{this.\u0275fac=function(i){return new(i||e)(Me(Ht),Me(Sm),Me(Ei),Me(qt))}}static{this.\u0275cmp=ze({type:e,selectors:[["app-modal"]],viewQuery:function(i,r){if(i&1&&kn(CP,5),i&2){let o;vn(o=yn())&&(r.modalContent=o.first)}},inputs:{title:"title",bodyTemplate:"bodyTemplate",name:"name",type:"type",action:"action",devices:"devices",members:"members"},outputs:{onMemberChange:"onMemberChange"},decls:2,vars:0,consts:[["modalContent",""],["editForm","ngForm"],["newNameInput",""],["groupForm","ngForm"],["groupNameInput",""],["groupIdInput",""],["deviceRemoveModel","ngModel"],["deviceAddModel","ngModel"],[1,"modal-header"],["id","modalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"modal-body"],[1,"row","align-items-center"],[1,"col-9","d-flex","align-items-center"],[1,"me-2"],["role","status",1,"spinner-border","spinner-border-sm","text-primary"],[1,"col-3","text-end","fw-bold"],[1,"text-danger"],[4,"ngFor","ngForOf"],[1,"row","g-3",3,"submit"],["for","newName",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","id","newName","required","",1,"form-control",3,"placeholder","ngClass"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"invalid-feedback"],["class","modal-body d-flex align-items-center is-invalid",4,"ngIf"],["class","modal-body d-flex align-items-center",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"modal-body","d-flex","align-items-center","is-invalid"],[1,"bi","bi-x-circle","me-2","text-danger"],[1,"modal-body","d-flex","align-items-center"],[3,"ngSubmit"],[1,"mb-3"],["for","groupName",1,"form-label"],["type","text","id","groupName","required","",1,"form-control",3,"ngClass"],["for","groupId",1,"form-label"],["type","number","id","groupId","min","0",1,"form-control"],[1,"form-group"],["for","deviceName",1,"form-label"],["id","deviceName","name","deviceName","required","",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-danger",3,"disabled"],[3,"ngValue"]],template:function(i,r){i&1&&Pe(0,$P,11,8,"ng-template",null,0,qi)},dependencies:[bn,on,jt,Si,Dr,Dd,Ed,Sd,Cs,ki,Cd,bm,pi,Ua]})}}return e})();var GP=["*"],Ut=(()=>{class e{constructor(t){this.mqttService=t}ngOnInit(){this.setTopic(),this.setControlProperty(),this.listenForChange(),this.startState()}setTopic(){this.topic||(this.topic=`${this.mqttService.getBaseTopic()}/${this.friendly_name}`)}setControlProperty(){this.compositeProperty!=null&&(console.log(this.compositeProperty),this.control.property=`${this.compositeProperty}/${this.control.property}`)}getAccess(){return this.control.access?this.control.access.toString(2).padStart(3,"0").split(""):["0","1","0"]}canRead(){return this.getAccess()[0]=="1"}canWrite(){return this.getAccess()[1]=="1"}canPublish(){return this.getAccess()[2]=="1"}listenForChange(){this.canPublish()&&this.friendly_name&&this.mqttService.getUpdate(this.topic,this.control.property,t=>{this.handleChange(t)})}stateChange(){}handleChange(t){this.inputValue=t}startState(){}static{this.\u0275fac=function(i){return new(i||e)(Me(Ht))}}static{this.\u0275cmp=ze({type:e,selectors:[["app-basic-expose"]],inputs:{friendly_name:"friendly_name",control:"control",isCard:"isCard",topic:"topic",compositeProperty:"compositeProperty"},ngContentSelectors:GP,decls:6,vars:1,consts:[[1,"d-flex","align-items-center","small"],[1,"flex-shrink-1","flex-grow-1"],[1,"flex-shrink-1"],[1,"my-3","border-secondary"]],template:function(i,r){i&1&&(is(),te(0,"div",0)(1,"div",1),Ie(2),ne(),te(3,"div",2),ro(4),ne()(),Oe(5,"hr",3)),i&2&&(z(2),Jt(r.control.label))}})}}return e})();var pE=(e,n)=>({"btn-primary":e,"btn-outline-primary":n});function WP(e,n){if(e&1){let t=gt();te(0,"div",6)(1,"button",7),ke("click",function(){je(t);let r=de();return Ve(r.stateChange(r.control.value_off))}),Ie(2),ne()()}if(e&2){let t=de();z(),X("ngClass",Wt(3,pE,!t.inputValue,t.inputValue))("disabled",!t.canWrite()),z(),Jt(t.value_off)}}function qP(e,n){if(e&1){let t=gt();te(0,"div",6)(1,"button",7),ke("click",function(){je(t);let r=de();return Ve(r.stateChange(r.control.value_on))}),Ie(2),ne()()}if(e&2){let t=de();z(),X("ngClass",Wt(3,pE,t.inputValue,!t.inputValue))("disabled",!t.canWrite()),z(),Jt(t.value_on)}}var Ds=(()=>{class e extends Ut{stateChange(t=this.inputValue?this.control.value_on:this.control.value_off){let i=`${this.topic}/set/${this.control.property}`;this.mqttService.publish(i,t)}handleChange(t){this.inputValue=t==this.control.value_on}startState(){let t=JSON.parse(localStorage.getItem(this.topic)),i=this.control.property;i=="contact"?(this.value_on=this.control.value_on?"Open":"Close",this.value_off=this.control.value_off?"Open":"Close"):(this.value_on=this.control.value_on,this.value_off=this.control.value_off),this.inputValue=!!(t&&t[i]===this.control.value_on)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=At(e)))(r||e)}})()}static{this.\u0275cmp=ze({type:e,selectors:[["app-binary"]],features:[xt],decls:7,vars:6,consts:[[3,"control"],[1,"row"],["class","col",4,"ngIf"],[1,"col","d-flex","justify-content-center"],[1,"form-check","form-switch","d-flex","align-items-center","justify-content-center","text-center"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","id","ngModel","disabled"],[1,"col"],[1,"btn","btn-sm",3,"click","ngClass","disabled"]],template:function(i,r){i&1&&(te(0,"app-basic-expose",0)(1,"div",1),Pe(2,WP,3,6,"div",2),te(3,"div",3)(4,"div",4)(5,"input",5),Qt("ngModelChange",function(s){return Xt(r.inputValue,s)||(r.inputValue=s),s}),ke("change",function(){return r.stateChange()}),ne()()(),Pe(6,qP,3,6,"div",2),ne()()),i&2&&(X("control",r.control),z(2),X("ngIf",!r.isCard),z(3),X("id",r.topic+"ToggleSwitch"),zt("ngModel",r.inputValue),X("disabled",!r.canWrite()),z(),X("ngIf",!r.isCard))},dependencies:[bn,jt,Ha,ki,pi,Ut],styles:[".form-check-input[_ngcontent-%COMP%]:disabled:not(:checked){background-color:#e9ecef}"]})}}return e})();var zP=e=>({temp_gradient:e}),QP=e=>({"transparent-slider":e}),YP=(e,n)=>({"btn-secondary":e,"btn-outline-secondary":n}),KP=(e,n)=>({"dropdown-toggle":e,"form-control-plaintext":n});function ZP(e,n){if(e&1){let t=gt();te(0,"button",12),ke("click",function(){let r=je(t).$implicit,o=de(3);return Ve(o.setValue(r.value))}),Ie(1),ne()}if(e&2){let t=n.$implicit,i=de(3);X("disabled",!i.canWrite())("ngClass",Wt(3,YP,i.inputValue==t.value||i.inputName==t.name,!(i.inputValue==t.value||i.inputName==t.name))),z(),mt(" ",t.name," ")}}function JP(e,n){if(e&1&&(te(0,"div",10),Pe(1,ZP,2,6,"button",11),ne()),e&2){let t=de(2);z(),X("ngForOf",t.control.presets)}}function XP(e,n){if(e&1){let t=gt();Ge(0),te(1,"a",18),ke("click",function(){let r=je(t).$implicit,o=de(4);return Ve(o.setValue(r.value))}),Ie(2),ne(),We()}if(e&2){let t=n.$implicit;z(2),Jt(t.name)}}function eB(e,n){if(e&1&&(Ge(0),te(1,"div",16),Pe(2,XP,3,1,"ng-container",17),ne(),We()),e&2){let t=de(3);z(2),X("ngForOf",t.control.presets)}}function tB(e,n){if(e&1&&(te(0,"div",13)(1,"button",14),Ie(2),ne(),Pe(3,eB,3,1,"ng-container",15),ne()),e&2){let t=de(2);z(),X("ngClass",Wt(4,KP,t.canWrite(),!t.canWrite()))("disabled",!t.canWrite()),z(),mt(" ",t.inputName||"Not Selected"," "),z(),X("ngIf",t.canWrite())}}function nB(e,n){if(e&1&&(te(0,"div",7),Pe(1,JP,2,1,"div",8)(2,tB,4,7,"div",9),ne()),e&2){let t=de();z(),X("ngIf",t.isCompact&&!t.isCard),z(),X("ngIf",!t.isCompact&&!t.isCard)}}var Es=(()=>{class e extends Ut{constructor(){super(...arguments),this.isCompact=!0}starting(){if(this.minValue=this.control?.value_min??0,this.maxValue=this.control?.value_max??254,this.inputValue=this.minValue,this.checkScreenSize(),this.control){let t=JSON.parse(localStorage.getItem(this.topic)),i=this.control.property;t&&t[i]!==void 0?this.inputValue=Math.max(this.minValue,Math.min(this.maxValue,Number(t[i]))):this.inputValue=this.maxValue}}startState(){if(this.starting(),this.control){let t=JSON.parse(localStorage.getItem(this.topic)),i=this.control.property;t&&t[i]!==void 0&&(this.inputValue=Math.max(this.minValue,Math.min(this.maxValue,Number(t[i]))),this.setValue(this.inputValue))}}stateChange(){let t=`${this.topic}/set/${this.control.property}`;this.mqttService.publish(t,this.inputValue.toString()),this.setValue(this.inputValue)}getGradient(t){return"linear-gradient(to right, rgb(173, 216, 230), rgb(255, 255, 255), rgb(255, 153, 51))"}setValue(t){this.canWrite()&&(this.inputValue=t,this.control.presets&&(this.inputName=this.control.presets.reduce((i,r)=>Math.abs(r.value-t)<Math.abs(i.value-t)?r:i).name,console.log(this.inputName)))}onResize(t){this.checkScreenSize()}checkScreenSize(){this.control.presets&&(console.log(this.control.presets.length),window.innerWidth<480?this.isCompact=this.control.presets.length<=1:window.innerWidth<768?this.isCompact=this.control.presets.length<=3:this.isCompact=this.control.presets.length<=5)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=At(e)))(r||e)}})()}static{this.\u0275cmp=ze({type:e,selectors:[["app-numeric"]],hostBindings:function(i,r){i&1&&ke("resize",function(s){return r.onResize(s)},!1,xc)},features:[xt],decls:10,vars:14,consts:[[3,"control"],[1,"d-flex","w-100","align-items-center","justify-content-between"],["class","d-flex flex-grow-1 justify-content-center gap-2",4,"ngIf"],[1,"slider-container","d-flex","align-items-center","flex-shrink-0","ms-3"],["for","slider",1,"label-spacing"],[3,"ngClass"],["type","range","id","slider","step","1",3,"ngModelChange","change","ngModel","min","max","disabled","ngClass"],[1,"d-flex","flex-grow-1","justify-content-center","gap-2"],["class","btn-group btn-group-sm btn-group-toggle w-100","data-toggle","buttons",4,"ngIf"],["class","dropdown col",4,"ngIf"],["data-toggle","buttons",1,"btn-group","btn-group-sm","btn-group-toggle","w-100"],["class","btn w-100",3,"disabled","ngClass","click",4,"ngFor","ngForOf"],[1,"btn","w-100",3,"click","disabled","ngClass"],[1,"dropdown","col"],["type","button","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-secondary","btn-sm",3,"ngClass","disabled"],[4,"ngIf"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"]],template:function(i,r){i&1&&(te(0,"app-basic-expose",0)(1,"div",1),Pe(2,nB,3,2,"div",2),te(3,"div",3)(4,"label",4)(5,"strong"),Ie(6),ne(),Ie(7),ne(),te(8,"span",5)(9,"input",6),Qt("ngModelChange",function(s){return Xt(r.inputValue,s)||(r.inputValue=s),s}),ke("change",function(){return r.stateChange()}),ne()()()()()),i&2&&(X("control",r.control),z(2),X("ngIf",r.control.presets),z(4),Jt(r.inputValue!==void 0&&r.inputValue!==null?r.inputValue:(r.minValue+r.maxValue)/2||"NA"),z(),mt(" ",(r.control.unit!=="mired"?r.control.unit:"")||""," "),z(),X("ngClass",nn(10,zP,r.control.unit=="mired")),z(),zt("ngModel",r.inputValue),X("min",r.minValue)("max",r.maxValue)("disabled",!r.canWrite())("ngClass",nn(12,QP,r.control.unit==="mired")))},dependencies:[bn,on,jt,Fr,vm,ki,pi,Ut],styles:[".label-spacing[_ngcontent-%COMP%]{margin-right:10px}.slider-container[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden;padding-right:10px}.slider-container[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{width:100%}.gradient-slider-container[_ngcontent-%COMP%]{position:relative;width:100%;height:50px}.transparent-slider[_ngcontent-%COMP%]{background:transparent;-webkit-appearance:none}.transparent-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;height:16px;width:16px;border-radius:50%;background-color:#ffffffb3;border:2px solid rgb(0,0,0);cursor:pointer;margin-top:5px}.transparent-slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track{background:transparent}.transparent-slider[_ngcontent-%COMP%]::-moz-range-track{background:transparent}.transparent-slider[_ngcontent-%COMP%]::-moz-range-thumb{background-color:#ffffffb3}.temp_gradient[_ngcontent-%COMP%]{border-radius:15px;background-image:linear-gradient(to right,#add8e6,#fff,#f93)}"]})}}return e})();var iB=(e,n)=>({"btn-secondary":e,"btn-outline-secondary":n}),rB=(e,n)=>({"dropdown-toggle":e,"form-control-plaintext":n});function oB(e,n){if(e&1){let t=gt();te(0,"button",5),ke("click",function(){let r=je(t).$implicit,o=de(2);return Ve(o.setValue(r))}),Ie(1),ne()}if(e&2){let t=n.$implicit,i=de(2);X("disabled",!i.canWrite())("ngClass",Wt(3,iB,i.inputValue==t,i.inputValue!=t)),z(),mt(" ",t," ")}}function sB(e,n){if(e&1&&(te(0,"div",3),Pe(1,oB,2,6,"button",4),ne()),e&2){let t=de();z(),X("ngForOf",t.control.values)}}function aB(e,n){if(e&1){let t=gt();Ge(0),te(1,"a",11),ke("click",function(){let r=je(t).$implicit,o=de(3);return Ve(o.setValue(r))}),Ie(2),ne(),We()}if(e&2){let t=n.$implicit;z(2),Jt(t)}}function lB(e,n){if(e&1&&(Ge(0),te(1,"div",9),Pe(2,aB,3,1,"ng-container",10),ne(),We()),e&2){let t=de(2);z(2),X("ngForOf",t.control.values)}}function cB(e,n){if(e&1&&(te(0,"div",6)(1,"button",7),Ie(2),ne(),Pe(3,lB,3,1,"ng-container",8),ne()),e&2){let t=de();z(),X("ngClass",Wt(4,rB,t.canWrite(),!t.canWrite()))("disabled",!t.canWrite()),z(),mt(" ",t.inputValue||"Not Selected"," "),z(),X("ngIf",t.canWrite())}}var Ss=(()=>{class e extends Ut{constructor(){super(...arguments),this.isCompact=!0}stateChange(){let t=this.inputValue,i=`${this.topic}/set/${this.control.property}`;this.mqttService.publish(i,t)}startState(){let t=JSON.parse(localStorage.getItem(this.topic)),i=this.control.property;console.log(this.control.values.length),this.checkScreenSize(),this.inputValue=t&&t[i]?t[i]:this.control.values[0]}setValue(t){this.canWrite()&&(this.inputValue=t,this.stateChange())}onResize(t){this.checkScreenSize()}checkScreenSize(){window.innerWidth<480?this.isCompact=this.control.values.length<=1:window.innerWidth<768?this.isCompact=this.isCard&&this.control.values.length<=3||!this.isCard&&this.control.values.length<=5:this.isCompact=this.isCard&&this.control.values.length<=5||!this.isCard&&this.control.values.length<=7}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=At(e)))(r||e)}})()}static{this.\u0275cmp=ze({type:e,selectors:[["app-enum"]],hostBindings:function(i,r){i&1&&ke("resize",function(s){return r.onResize(s)},!1,xc)},features:[xt],decls:3,vars:3,consts:[[3,"control"],["class","btn-group btn-group-sm btn-group-toggle w-100","data-toggle","buttons",4,"ngIf"],["class","dropdown",4,"ngIf"],["data-toggle","buttons",1,"btn-group","btn-group-sm","btn-group-toggle","w-100"],["class","btn w-100",3,"disabled","ngClass","click",4,"ngFor","ngForOf"],[1,"btn","w-100",3,"click","disabled","ngClass"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-secondary","btn-sm",3,"ngClass","disabled"],[4,"ngIf"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"]],template:function(i,r){i&1&&(te(0,"app-basic-expose",0),Pe(1,sB,2,1,"div",1)(2,cB,4,7,"div",2),ne()),i&2&&(X("control",r.control),z(),X("ngIf",r.isCompact),z(),X("ngIf",!r.isCompact))},dependencies:[bn,on,jt,Ut],styles:[".dropdown-toggle[_ngcontent-%COMP%]{width:100px;overflow:hidden;white-space:nowrap}button[_ngcontent-%COMP%]:disabled{background-color:transparent;color:#6c757d;border:none;pointer-events:none}"]})}}return e})();var Is=(()=>{class e extends Ut{stateChange(){let t,i=`${this.topic}/set/${this.control.property}`;this.control.name=="color_xy"?t=this.inputValue:t=null,this.mqttService.publish(i,t)}startState(){this.control.label="Color"}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=At(e)))(r||e)}})()}static{this.\u0275cmp=ze({type:e,selectors:[["app-color"]],features:[xt],decls:2,vars:4,consts:[[3,"control"],["type","color",1,"form-control","form-control-color",3,"ngModelChange","change","id","ngModel","disabled"]],template:function(i,r){i&1&&(te(0,"app-basic-expose",0)(1,"input",1),Qt("ngModelChange",function(s){return Xt(r.inputValue,s)||(r.inputValue=s),s}),ke("change",function(){return r.stateChange()}),ne()()),i&2&&(X("control",r.control),z(),X("id",r.topic+"ColorSwitch"),zt("ngModel",r.inputValue),X("disabled",!r.canWrite()))},dependencies:[Fr,ki,pi,Ut]})}}return e})();var uB=e=>({small:e}),dB=(e,n)=>({"bi bi-chevron-down":e,"bi bi-chevron-right":n}),fB=e=>({show:e});function hB(e,n){if(e&1&&(Ge(0),Oe(1,"app-binary",10),We()),e&2){let t=de().$implicit,i=de();z(),X("friendly_name",i.friendly_name)("topic",i.topic)("compositeProperty",i.control.property)("control",t)("isCard",i.isCard)}}function pB(e,n){if(e&1&&(Ge(0),Oe(1,"app-numeric",10),We()),e&2){let t=de(2).$implicit,i=de();z(),X("friendly_name",i.friendly_name)("topic",i.topic)("compositeProperty",i.control.property)("control",t)("isCard",i.isCard)}}function gB(e,n){if(e&1&&(Ge(0),Pe(1,pB,2,5,"ng-container",11),We()),e&2){let t=de().$implicit;z(),X("ngIf",t.name!=="color_temp_startup")}}function mB(e,n){if(e&1&&(Ge(0),Oe(1,"app-enum",10),We()),e&2){let t=de().$implicit,i=de();z(),X("friendly_name",i.friendly_name)("topic",i.topic)("compositeProperty",i.control.property)("control",t)("isCard",i.isCard)}}function _B(e,n){if(e&1&&(Ge(0),Oe(1,"app-color",10),We()),e&2){let t=de(2).$implicit,i=de();z(),X("friendly_name",i.friendly_name)("topic",i.topic)("compositeProperty",i.control.property)("control",t)("isCard",i.isCard)}}function vB(e,n){if(e&1&&Oe(0,"app-composite",10),e&2){let t=de(2).$implicit,i=de();X("friendly_name",i.friendly_name)("topic",i.topic)("compositeProperty",i.control.property)("control",t)("isCard",i.isCard)}}function yB(e,n){if(e&1&&(Ge(0),Pe(1,_B,2,5,"ng-container",12)(2,vB,1,5,"ng-template",null,0,qi),We()),e&2){let t=pn(3),i=de().$implicit;z(),X("ngIf",i.name=="color_xy")("ngIfElse",t)}}function bB(e,n){if(e&1&&(Ge(0)(1,8),Pe(2,hB,2,5,"ng-container",9)(3,gB,2,1,"ng-container",9)(4,mB,2,5,"ng-container",9)(5,yB,4,2,"ng-container",9),We()()),e&2){let t=n.$implicit;z(),X("ngSwitch",t.type),z(),X("ngSwitchCase","binary"),z(),X("ngSwitchCase","numeric"),z(),X("ngSwitchCase","enum"),z(),X("ngSwitchCase","composite")}}var Ms=(()=>{class e extends Ut{constructor(){super(...arguments),this.isCollapsed=!0,this.type="component"}startState(){this.control.controls&&(this.control.features=this.control.controls,this.control.label=this.control.friendly_name),console.log(this.topic)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=At(e)))(r||e)}})()}static{this.\u0275cmp=ze({type:e,selectors:[["app-composite"]],inputs:{type:"type"},features:[xt],decls:8,vars:12,consts:[["elseTemplate",""],[1,"row","justify-content-between","no-disable",3,"click","ngClass"],[1,"col-9"],[1,"col","text-center"],[3,"ngClass"],[1,"my-3","border-secondary"],[1,"collapse",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"friendly_name","topic","compositeProperty","control","isCard"],[4,"ngIf"],[4,"ngIf","ngIfElse"]],template:function(i,r){i&1&&(te(0,"div",1),ke("click",function(){return r.isCollapsed=!r.isCollapsed}),te(1,"div",2),Ie(2),ne(),te(3,"div",3),Oe(4,"i",4),ne()(),Oe(5,"hr",5),te(6,"div",6),Pe(7,bB,6,5,"ng-container",7),ne()),i&2&&(X("ngClass",nn(5,uB,r.type!="group")),z(2),mt(" ",r.control.label," "),z(2),X("ngClass",Wt(7,dB,!r.isCollapsed,r.isCollapsed)),z(2),X("ngClass",nn(10,fB,!r.isCollapsed)),z(),X("ngForOf",r.control.features))},dependencies:[bn,on,jt,Si,Dr,Ds,Es,Ss,Is,e],styles:[".no-disable[_ngcontent-%COMP%]{pointer-events:auto!important;opacity:1!important}"]})}}return e})();function wB(e,n){if(e&1){let t=gt();te(0,"app-basic-expose",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"input",6,0),ke("change",function(){je(t);let r=pn(5),o=de();return Ve(o.onInputChange(r.value))}),ne()()()()()}if(e&2){let t=de();X("control",t.control),z(4),X("value",t.inputValue)("readonly",!t.canWrite())}}var Ad=(()=>{class e extends Ut{stateChange(){let t=`${this.topic}/set/${this.control.property}`;this.mqttService.publish(t,this.inputValue)}startState(){let t=JSON.parse(localStorage.getItem(this.topic)||"{}"),i=this.control.property;this.inputValue=t&&t[i]?t[i]:""}onInputChange(t){this.canWrite()&&(this.inputValue=t,this.stateChange())}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=At(e)))(r||e)}})()}static{this.\u0275cmp=ze({type:e,selectors:[["app-text"]],features:[xt],decls:1,vars:1,consts:[["textInput",""],[3,"control",4,"ngIf"],[3,"control"],[1,"row"],[1,"col","d-flex","justify-content-center"],[1,"form-check","form-switch","d-flex","align-items-center","justify-content-center","text-center"],["type","text",1,"form-control",3,"change","value","readonly"]],template:function(i,r){i&1&&Pe(0,wB,6,3,"app-basic-expose",1),i&2&&X("ngIf",r.canPublish())},dependencies:[jt,Ut]})}}return e})();var CB=[[["","header-content",""]],"*"],xB=["[header-content]","*"],DB=(e,n)=>({"dash-card":e,page:n}),EB=e=>["/device",e],SB=e=>({disabled:e}),IB=e=>({visibility:e});function MB(e,n){if(e&1&&(te(0,"span",12),Oe(1,"i",13),te(2,"span",14),Ie(3),ne()()),e&2){let t=de();z(3),mt("'",t.device.friendly_name,"' is offline.")}}function TB(e,n){if(e&1){let t=gt();te(0,"div",15)(1,"button",16),ke("click",function(){je(t);let r=de();return Ve(r.openRenameModal())}),Oe(2,"i",17),ne(),te(3,"button",18),ke("click",function(){je(t);let r=de();return Ve(r.openDeleteModal())}),Oe(4,"i",19),ne()()}if(e&2){let t=de();X("ngStyle",nn(1,IB,t.device.ieee.startsWith("0v")?"hidden":"visible"))}}function AB(e,n){if(e&1&&(Ge(0),Oe(1,"app-binary",23),We()),e&2){let t=de().$implicit,i=de();z(),X("friendly_name",i.device.friendly_name)("control",t)("isCard",i.isCard)}}function OB(e,n){if(e&1&&(Ge(0),Oe(1,"app-numeric",23),We()),e&2){let t=de(2).$implicit,i=de();z(),X("friendly_name",i.device.friendly_name)("control",t)("isCard",i.isCard)}}function NB(e,n){if(e&1&&(Ge(0),Pe(1,OB,2,3,"ng-container",24),We()),e&2){let t=de().$implicit,i=de();z(),X("ngIf",t.name!=="color_temp_startup"||!i.isCard)}}function RB(e,n){if(e&1&&(Ge(0),Oe(1,"app-enum",23),We()),e&2){let t=de().$implicit,i=de();z(),X("friendly_name",i.device.friendly_name)("control",t)("isCard",i.isCard)}}function kB(e,n){if(e&1&&(Ge(0),Oe(1,"app-text",23),We()),e&2){let t=de().$implicit,i=de();z(),X("friendly_name",i.device.friendly_name)("control",t)("isCard",i.isCard)}}function FB(e,n){if(e&1&&(Ge(0),Oe(1,"app-color",23),We()),e&2){let t=de(2).$implicit,i=de();z(),X("friendly_name",i.device.friendly_name)("control",t)("isCard",i.isCard)}}function PB(e,n){if(e&1&&Oe(0,"app-composite",23),e&2){let t=de(2).$implicit,i=de();X("friendly_name",i.device.friendly_name)("control",t)("isCard",i.isCard)}}function BB(e,n){if(e&1&&(Ge(0),Pe(1,FB,2,3,"ng-container",25)(2,PB,1,3,"ng-template",null,1,qi),We()),e&2){let t=pn(3),i=de().$implicit;z(),X("ngIf",i.name=="color_xy")("ngIfElse",t)}}function LB(e,n){e&1&&Xs(0)}function jB(e,n){if(e&1&&(Ge(0,20),Pe(1,AB,2,3,"ng-container",21)(2,NB,2,1,"ng-container",21)(3,RB,2,3,"ng-container",21)(4,kB,2,3,"ng-container",21)(5,BB,4,2,"ng-container",21)(6,LB,1,0,"ng-container",22),We()),e&2){let t=n.$implicit;X("ngSwitch",t.type),z(),X("ngSwitchCase","binary"),z(),X("ngSwitchCase","numeric"),z(),X("ngSwitchCase","enum"),z(),X("ngSwitchCase","text"),z(),X("ngSwitchCase","composite")}}var Od=(()=>{class e{constructor(t){this.mqttService=t,this.isCard=!0,this.isBridgeOnline=!1,this.isDeviceOnline=!0,this.modalTitle="",this.modalAction="",this.modalType="",this.modalName=""}ngOnInit(){this.checkState()}checkState(){let t=`${this.mqttService.getBaseTopic()}/${this.device.friendly_name}/availability`;this.mqttService.checkDeviceState(t,this.device.friendly_name).subscribe(i=>{this.isDeviceOnline=!!i.get(this.device.friendly_name)||this.isBridgeOnline})}openRenameModal(){this.modalTitle="Rename Device",this.modalAction="edit",this.modalName=this.device.friendly_name,this.modalType="device",this.modalComponent.openModal()}openDeleteModal(){this.modalTitle="Delete Device",this.modalAction="delete",this.modalName=this.device.friendly_name,this.modalType="device",this.modalComponent.openModal()}static{this.\u0275fac=function(i){return new(i||e)(Me(Ht))}}static{this.\u0275cmp=ze({type:e,selectors:[["app-device"]],viewQuery:function(i,r){if(i&1&&kn(Cn,5),i&2){let o;vn(o=yn())&&(r.modalComponent=o.first)}},inputs:{device:"device",isCard:"isCard",isBridgeOnline:"isBridgeOnline"},ngContentSelectors:xB,decls:14,vars:18,consts:[["modalComponent",""],["elseTemplate",""],[1,"flex-fill","card","flex-shrink-1",3,"ngClass"],[1,"card-header","py-6"],[1,"d-flex","align-items-center","justify-content-between"],[1,"card-title","mb-0","d-flex","align-items-center"],["class","offline-icon me-2",4,"ngIf"],[1,"text-decoration-none","text-dark",3,"routerLink"],["class","btn-group btn-group-sm",3,"ngStyle",4,"ngIf"],[1,"row","card-body","justify-content-center",3,"ngClass"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"title","action","type","name"],[1,"offline-icon","me-2"],[1,"bi","bi-x-circle"],[1,"offline-tooltip"],[1,"btn-group","btn-group-sm",3,"ngStyle"],["title","Rename Device",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-pencil"],["title","Delete Device",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash3"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"friendly_name","control","isCard"],[4,"ngIf"],[4,"ngIf","ngIfElse"]],template:function(i,r){i&1&&(is(CB),te(0,"div",2)(1,"div",3)(2,"div",4),ro(3),te(4,"h4",5),Pe(5,MB,4,1,"span",6),te(6,"a",7),Ie(7),ne()(),Pe(8,TB,5,3,"div",8),ne()(),te(9,"div",9),Pe(10,jB,7,6,"ng-container",10),ro(11,1),ne()(),Oe(12,"app-modal",11,0)),i&2&&(X("ngClass",Wt(11,DB,r.isCard,!r.isCard)),z(5),X("ngIf",!r.isDeviceOnline),z(),X("routerLink",nn(14,EB,r.device.ieee)),z(),mt(" ",r.device.friendly_name," "),z(),X("ngIf",!r.isCard),z(),X("ngClass",nn(16,SB,!r.isBridgeOnline||!r.isDeviceOnline)),z(),X("ngForOf",r.device.controls),z(2),X("title",r.modalTitle)("action",r.modalAction)("type",r.modalType)("name",r.modalName))},dependencies:[bn,on,jt,Y1,Si,Dr,Gc,Ti,Ds,Es,Ss,Is,Ms,Cn,Ad],styles:[".card-header[_ngcontent-%COMP%]{background-color:#fff;border:none}.dash-card[_ngcontent-%COMP%]{min-width:250px;max-width:500px}.page[_ngcontent-%COMP%]{min-width:750px;max-width:1500px}.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}@media (max-width: 768px){.page[_ngcontent-%COMP%]{min-width:100%}}.offline-icon[_ngcontent-%COMP%]{position:relative;font-size:1.5rem;color:#dc3545;cursor:pointer;transition:color .3s ease}.offline-icon[_ngcontent-%COMP%]:hover{color:#ff6f61}.offline-tooltip[_ngcontent-%COMP%]{display:none;position:absolute;top:-25px;left:50%;transform:translate(-50%);background-color:#333;color:#fff;padding:5px;border-radius:5px;font-size:.75rem;white-space:nowrap;opacity:0;transition:opacity .3s ease;z-index:100}.offline-icon[_ngcontent-%COMP%]:hover   .offline-tooltip[_ngcontent-%COMP%]{display:block;opacity:1}"]})}}return e})();var VB=()=>["/groups"];function HB(e,n){if(e&1){let t=gt();te(0,"div",5)(1,"div",6)(2,"button",7),Oe(3,"i",8),Ie(4," Back "),ne(),te(5,"div",9)(6,"div",10)(7,"button",11),ke("click",function(){je(t);let r=de();return Ve(r.onAddToGroupClick())}),Oe(8,"i",12),ne(),te(9,"button",13),ke("click",function(){je(t);let r=de();return Ve(r.onRemoveFromGroupClick())}),Oe(10,"i",14),ne()(),Oe(11,"div",15),te(12,"div",16)(13,"button",17),ke("click",function(){je(t);let r=de();return Ve(r.openRenameModal())}),Oe(14,"i",18),ne(),te(15,"button",19),ke("click",function(){je(t);let r=de();return Ve(r.openDeleteModal())}),Oe(16,"i",20),ne()()()(),te(17,"div",21)(18,"h4",22),Ie(19),ne()()()}if(e&2){let t=de();z(2),X("routerLink",wr(2,VB)),z(17),Jt(t.groupName)}}function UB(e,n){if(e&1&&Oe(0,"app-device",24),e&2){let t=de().$implicit,i=de();X("device",t)("isBridgeOnline",i.isBridgeOnline||i.isVirtualPage)}}function $B(e,n){if(e&1&&(Ge(0),Pe(1,UB,1,2,"app-device",23),We()),e&2){let t=n.$implicit;z(),X("ngIf",t.controls.length>0)}}var Nd=(()=>{class e{constructor(t,i){this.mqttService=t,this.route=i,this.isBridgeOnline=!1,this.isVirtualPage=!1,this.virtualDevices=$n.virtualDevices,this.modalTitle="",this.modalAction="",this.modalType="",this.modalName=""}ngOnInit(){this.route.snapshot.url[0].path!="virtual"?(this.getCards(),this.checkState()):this.setVirtualPage()}checkState(){this.mqttService.checkBridgeState().subscribe(t=>{this.isBridgeOnline=t})}setVirtualPage(){this.isVirtualPage=!0,this.devices=this.virtualDevices}getCards(){this.id=this.route.snapshot.paramMap.get("groupId"),this.mqttService.getGroups().subscribe(t=>{if(this.id!=null){let i=t.filter(r=>r.id.toString()===this.id);i.length>0&&(this.setDevices(i[0].members),this.groupName=i[0].friendly_name)}}),this.mqttService.getDevices().subscribe(t=>{this.id==null?this.setDevices(t):this.allDevices=t})}setDevices(t){this.devices=t,console.log(this.devices)}getDevices(){this.devices}openDeleteModal(){this.modalTitle="Delete "+this.groupName,this.modalAction="delete",this.modalName=this.groupName,this.modalType="group",this.modalComponent.openModal()}openRenameModal(){this.modalTitle="Rename "+this.groupName,this.modalAction="edit",this.modalName=this.groupName,this.modalType="group",this.modalComponent.openModal()}onAddToGroupClick(){this.modalTitle=`Add Device to ${this.groupName}`,this.modalAction="addToGroup",this.modalType="group",this.modalName=this.groupName,this.modalComponent.openModal(),this.getCards()}onRemoveFromGroupClick(){this.modalTitle=`Remove From ${this.groupName}`,this.modalAction="removeFromGroup",this.modalType="group",this.modalName=this.groupName,this.modalComponent.openModal(),this.getCards()}onDataChange(){this.id!=null&&(console.log("Modal closed, refreshing cards..."),this.getCards())}static{this.\u0275fac=function(i){return new(i||e)(Me(Ht),Me(di))}}static{this.\u0275cmp=ze({type:e,selectors:[["app-dashboard"]],viewQuery:function(i,r){if(i&1&&kn(Cn,5),i&2){let o;vn(o=yn())&&(r.modalComponent=o.first)}},decls:5,vars:8,consts:[["modalComponent",""],["class","position-relative mb-3",4,"ngIf"],[1,"row","justify-content-center","pt-2"],[4,"ngFor","ngForOf"],[3,"onMemberChange","title","action","type","name","devices","members"],[1,"position-relative","mb-3"],[1,"d-flex","align-items-center","justify-content-between"],[1,"btn","btn-secondary","btn-sm",3,"routerLink"],[1,"bi","bi-arrow-left"],[1,"d-flex","align-items-center","gap-3","me-3"],["title","Modify group members",1,"btn-group","btn-group-sm"],["title","Add to Group",1,"btn","btn-success",3,"click"],[1,"bi","bi-plus-circle"],["title","Remove from Group",1,"btn","btn-danger",3,"click"],[1,"bi","bi-dash-circle"],[1,"vr",2,"height","24px"],["title","Edit or delete group",1,"btn-group","btn-group-sm"],["title","Rename Group",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-pencil"],["title","Delete Group",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash3"],[1,"position-absolute","top-50","start-50","translate-middle-x"],[1,"mb-0","text-center"],["class","col-xl-3 col-lg-4 col-sm-6 col-12 d-flex pb-3",3,"device","isBridgeOnline",4,"ngIf"],[1,"col-xl-3","col-lg-4","col-sm-6","col-12","d-flex","pb-3",3,"device","isBridgeOnline"]],template:function(i,r){if(i&1){let o=gt();Pe(0,HB,20,3,"div",1),te(1,"div",2),Pe(2,$B,2,1,"ng-container",3),ne(),te(3,"app-modal",4,0),ke("onMemberChange",function(){return je(o),Ve(r.onDataChange())}),ne()}i&2&&(X("ngIf",r.id!=null),z(2),X("ngForOf",r.devices),z(),X("title",r.modalTitle)("action",r.modalAction)("type",r.modalType)("name",r.modalName)("devices",r.allDevices)("members",r.devices))},dependencies:[on,jt,Ti,Od,Cn]})}}return e})();var _E=(e,n)=>{let t=Ee(Ht),i=Ee(qt);return t.isConnected()?!0:(i.navigate(["/login"]),!1)};var vE=(()=>{class e{constructor(t,i,r){this.mqttService=t,this.router=i,this.encryptService=r,this.onLogout()}ngOnDestroy(){this.mqttService.logout(),console.log("Disconnected from broker on logout")}onLogout(){this.encryptService.clearCredentials(),sessionStorage.removeItem("mqttBroker"),sessionStorage.removeItem("mqttBasicTopic"),this.mqttService.logout(),console.log("Logged out and disconnected from broker"),this.router.navigate(["/login"])}static{this.\u0275fac=function(i){return new(i||e)(Me(Ht),Me(qt),Me(vs))}}static{this.\u0275cmp=ze({type:e,selectors:[["app-logout"]],decls:2,vars:0,template:function(i,r){i&1&&(te(0,"p"),Ie(1,"logout works!"),ne())}})}}return e})();var GB=()=>[""],WB=()=>["/home"],qB=()=>["/groups"],zB=()=>["/virtual"],QB=()=>["/logout"],yE=(()=>{class e{constructor(){this.modalTitle="",this.modalAction="",this.modalType="",this.modalName=""}openAddGroupModal(){this.modalTitle="Add Group",this.modalAction="add-group",this.modalType="group",this.modalName="",this.modalComponent.openModal()}openAddDeviceModal(){this.modalTitle="Add Device",this.modalAction="add-device",this.modalType="device",this.modalName="",this.modalComponent.openModal()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=ze({type:e,selectors:[["app-header"]],viewQuery:function(i,r){if(i&1&&kn(Cn,5),i&2){let o;vn(o=yn())&&(r.modalComponent=o.first)}},decls:32,vars:14,consts:[["modalComponent",""],[1,"navbar","navbar-expand-lg","fixed-top","bg-primary","clean-navbar","navbar-dark"],[1,"container"],[1,"navbar-brand","logo",3,"routerLink"],["data-bs-toggle","collapse","data-bs-target","#navcol-1",1,"navbar-toggler"],[1,"visually-hidden"],[1,"navbar-toggler-icon"],["id","navcol-1",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","d-flex","align-items-center"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"nav-item","p-3"],["role","group",1,"btn-group","btn-group-sm"],["disabled","",1,"btn","btn-light","plus"],[1,"bi","bi-plus-circle"],["title","Add Device",1,"btn","btn-light","px-3",3,"click"],["title","Add Group",1,"btn","btn-light","px-3",3,"click"],[1,"btn","btn-secondary","btn-sm",3,"routerLink"],[3,"title","action","type","name"]],template:function(i,r){if(i&1){let o=gt();te(0,"nav",1)(1,"div",2)(2,"a",3),Ie(3,"Zigbee2MQTT Dashboard"),ne(),te(4,"button",4)(5,"span",5),Ie(6,"Toggle navigation"),ne(),Oe(7,"span",6),ne(),te(8,"div",7)(9,"ul",8)(10,"li",9)(11,"a",10),Ie(12,"Dashboard"),ne()(),te(13,"li",9)(14,"a",10),Ie(15,"Groups"),ne()(),te(16,"li",9)(17,"a",10),Ie(18,"Virtual Devices"),ne()(),te(19,"li",11)(20,"div",12)(21,"button",13),Oe(22,"i",14),ne(),te(23,"button",15),ke("click",function(){return je(o),Ve(r.openAddDeviceModal())}),Ie(24," Device "),ne(),te(25,"button",16),ke("click",function(){return je(o),Ve(r.openAddGroupModal())}),Ie(26," Group "),ne()()(),te(27,"li",9)(28,"a",17),Ie(29,"Logout"),ne()()()()()(),Oe(30,"app-modal",18,0)}i&2&&(z(2),X("routerLink",wr(9,GB)),z(9),X("routerLink",wr(10,WB)),z(3),X("routerLink",wr(11,qB)),z(3),X("routerLink",wr(12,zB)),z(11),X("routerLink",wr(13,QB)),z(2),X("title",r.modalTitle)("action",r.modalAction)("type",r.modalType)("name",r.modalName))},dependencies:[Ti,Yb,Cn],styles:[".plus[disabled][_ngcontent-%COMP%]{opacity:1}"]})}}return e})();var bE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=ze({type:e,selectors:[["app-footer"]],decls:14,vars:0,consts:[[1,"bg-dark","text-white","text-center","fixed-bottom","py-2"],[1,"d-flex","justify-content-center","align-items-center","gap-3","small"],[1,"mb-0"],["href","https://github.com/Distributed-Computing-Group-6/mqtt-smart-home-dashboard","target","_blank","title","View the code on GitHub",1,"text-white","d-flex","flex-column","align-items-center","gap-1","text-decoration-none"],[1,"d-flex","justify-content-center","align-items-center",2,"width","2rem","height","2rem"],[1,"bi","bi-github","fs-3"],[1,"small","mb-0"],["href","https://www.zigbee2mqtt.io/","target","_blank","title","Zigbee2MQTT documentation",1,"text-white","d-flex","flex-column","align-items-center","gap-1","text-decoration-none"],["src","https://www.zigbee2mqtt.io/logo.png","alt","Zigbee2MQTT",2,"width","2rem","height","2rem","object-fit","contain"]],template:function(i,r){i&1&&(te(0,"footer",0)(1,"div",1)(2,"h6",2),Ie(3,"\xA9 2025 Zigbee2MQTT Dashboard"),ne(),te(4,"a",3)(5,"div",4),Oe(6,"i",5),ne(),te(7,"span",6),Ie(8,"Code"),ne()(),te(9,"a",7)(10,"div",4),Oe(11,"img",8),ne(),te(12,"span",6),Ie(13,"Guide"),ne()()()())},styles:[".page-footer.dark[_ngcontent-%COMP%]{padding-top:30px;--bs-bg-opacity: 1;background-color:rgba(var(--bs-dark-rgb),var(--bs-bg-opacity))}.page-footer.dark[_ngcontent-%COMP%]   .footer-copyright[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-dark-rgb),var(--bs-bg-opacity));border-color:var(--bs-dark)}.page-footer[_ngcontent-%COMP%]   .footer-copyright[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-white-rgb),var(--bs-bg-opacity));padding-top:3px;padding-bottom:3px;text-align:center;margin-top:50px;border:1px solid #ededed}.page-footer.dark[_ngcontent-%COMP%]   .footer-copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px;color:#ccc}"]})}}return e})();function ZB(e,n){e&1&&(te(0,"div",1),Oe(1,"i",2),te(2,"span"),Ie(3,"The bridge is offline. Please check your connection."),ne()())}var wE=(()=>{class e{constructor(t,i){this.mqttService=t,this.router=i,this.isBridgeOnline=!1,this.isVirtual=!1}ngOnInit(){this.checkState(),this.router.url!=="/virtual"?this.isVirtual=!0:this.isVirtual=!1,this.router.events.pipe(Yt(t=>t instanceof Un)).subscribe(t=>{let i=t;console.log(i.url),i.url==="/virtual"||i.url.startsWith("/device/0v")?this.isVirtual=!0:this.isVirtual=!1})}checkState(){this.mqttService.checkBridgeState().subscribe(t=>{this.isBridgeOnline=t})}static{this.\u0275fac=function(i){return new(i||e)(Me(Ht),Me(qt))}}static{this.\u0275cmp=ze({type:e,selectors:[["app-status-bar"]],decls:1,vars:1,consts:[["class","alert alert-danger d-flex align-items-center justify-content-center",4,"ngIf"],[1,"alert","alert-danger","d-flex","align-items-center","justify-content-center"],[1,"bi","bi-x-circle","me-2"]],template:function(i,r){i&1&&Pe(0,ZB,4,0,"div",0),i&2&&X("ngIf",!(r.isBridgeOnline||r.isVirtual))},dependencies:[jt]})}}return e})();var CE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=ze({type:e,selectors:[["app-main"]],decls:6,vars:0,consts:[[1,"main-container"],[1,"pb-3"],[1,"container"]],template:function(i,r){i&1&&(te(0,"div",0),Oe(1,"app-header",1),te(2,"div",2),Oe(3,"app-status-bar")(4,"router-outlet"),ne(),Oe(5,"app-footer"),ne())},dependencies:[Ca,yE,bE,wE],styles:[".container[_ngcontent-%COMP%]{display:block;margin-top:70px}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}app-footer[_ngcontent-%COMP%]{padding-top:40px}@media (max-width: 992px){.container[_ngcontent-%COMP%]{margin-top:50px}}"]})}}return e})();var XB=["renameModalContent"],e3=["deleteModalContent"],t3=e=>["/groups",e],n3=e=>({disabled:e});function i3(e,n){if(e&1&&(te(0,"div"),Oe(1,"app-composite",11),ne()),e&2){let t=n.$implicit;z(),X("friendly_name",t.friendly_name)("control",t)("isCard",!0)}}var xE=(()=>{class e{constructor(t){this.mqttService=t,this.isBridgeOnline=!1}ngOnInit(){this.topic=`${this.mqttService.getBaseTopic()}/${this.group.friendly_name}`}openRenameModal(){this.renameModalContent.openModal()}openDeleteModal(){this.deleteModalContent.openModal()}static{this.\u0275fac=function(i){return new(i||e)(Me(Ht))}}static{this.\u0275cmp=ze({type:e,selectors:[["app-group-card"]],viewQuery:function(i,r){if(i&1&&(kn(XB,5),kn(e3,5),kn(Cn,5)),i&2){let o;vn(o=yn())&&(r.renameModalContent=o.first),vn(o=yn())&&(r.deleteModalContent=o.first),vn(o=yn())&&(r.modalComponent=o.first)}},inputs:{group:"group",isBridgeOnline:"isBridgeOnline"},decls:12,vars:12,consts:[["renameModalContent",""],["deleteModalContent",""],[1,"flex-fill","card","flex-shrink-1"],[1,"card-header","pb-0"],[1,"d-flex","align-items-center","justify-content-between"],[1,"card-title","mb-0"],[1,"text-decoration-none","text-dark",3,"routerLink"],[1,"row","card-body","justify-content-center",3,"ngClass"],[4,"ngFor","ngForOf"],["action","edit","type","group",3,"title","name"],["action","delete","type","group",3,"title","name"],["type","group",3,"friendly_name","control","isCard"]],template:function(i,r){i&1&&(te(0,"div",2)(1,"div",3)(2,"div",4)(3,"h4",5)(4,"a",6),Ie(5),ne()()()(),te(6,"div",7),Pe(7,i3,2,3,"div",8),ne()(),Oe(8,"app-modal",9,0)(10,"app-modal",10,1)),i&2&&(z(4),X("routerLink",nn(8,t3,r.group.id)),z(),mt(" ",r.group.friendly_name," "),z(),X("ngClass",nn(10,n3,!r.isBridgeOnline)),z(),X("ngForOf",r.group.members),z(),X("title","Rename "+r.group.friendly_name)("name",r.group.friendly_name),z(2),X("title","Delete "+r.group.friendly_name)("name",r.group.friendly_name))},dependencies:[bn,on,Ti,Ms,Cn],styles:[".card-header[_ngcontent-%COMP%]{background-color:#fff;border:none}.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}"]})}}return e})();function o3(e,n){if(e&1&&(Ge(0),Oe(1,"app-group-card",2),We()),e&2){let t=n.$implicit,i=de();z(),X("group",t)("isBridgeOnline",i.isBridgeOnline)}}var DE=(()=>{class e{constructor(t){this.mqttService=t,this.isBridgeOnline=!1}ngOnInit(){this.getCards(),this.checkState()}checkState(){this.mqttService.checkBridgeState().subscribe(t=>{this.isBridgeOnline=t})}getCards(){this.mqttService.getGroups().subscribe(t=>{this.groups=t})}static{this.\u0275fac=function(i){return new(i||e)(Me(Ht))}}static{this.\u0275cmp=ze({type:e,selectors:[["app-groups-page"]],decls:2,vars:1,consts:[[1,"row","justify-content-center"],[4,"ngFor","ngForOf"],[1,"col-xl-3","col-lg-4","col-sm-6","col-12","d-flex","pb-3",3,"group","isBridgeOnline"]],template:function(i,r){i&1&&(te(0,"div",0),Pe(1,o3,2,2,"ng-container",1),ne()),i&2&&(z(),X("ngForOf",r.groups))},dependencies:[on,xE]})}}return e})();function s3(e,n){if(e&1&&(Ge(0),Oe(1,"app-binary",10),We()),e&2){let t=de().$implicit,i=de();z(),X("friendly_name",i.device.friendly_name)("control",t)}}function a3(e,n){if(e&1&&(Ge(0),Oe(1,"app-numeric",10),We()),e&2){let t=de().$implicit,i=de();z(),X("friendly_name",i.device.friendly_name)("control",t)}}function l3(e,n){if(e&1&&(Ge(0),Oe(1,"app-enum",10),We()),e&2){let t=de().$implicit,i=de();z(),X("friendly_name",i.device.friendly_name)("control",t)}}function c3(e,n){if(e&1&&(Ge(0),Oe(1,"app-text",10),We()),e&2){let t=de().$implicit,i=de();z(),X("friendly_name",i.device.friendly_name)("control",t)}}function u3(e,n){if(e&1&&(Ge(0),Oe(1,"app-text",10),We()),e&2){let t=de().$implicit,i=de();z(),X("friendly_name",i.device.friendly_name)("control",t)}}function d3(e,n){if(e&1&&(Ge(0),Oe(1,"app-color",10),We()),e&2){let t=de(2).$implicit,i=de();z(),X("friendly_name",i.device.friendly_name)("control",t)}}function f3(e,n){if(e&1&&Oe(0,"app-composite",10),e&2){let t=de(2).$implicit,i=de();X("friendly_name",i.device.friendly_name)("control",t)}}function h3(e,n){if(e&1&&(Ge(0),Pe(1,d3,2,2,"ng-container",11)(2,f3,1,2,"ng-template",null,0,qi),We()),e&2){let t=pn(3),i=de().$implicit;z(),X("ngIf",i.name=="color_xy")("ngIfElse",t)}}function p3(e,n){e&1&&Xs(0)}function g3(e,n){if(e&1&&(Ge(0,7),Pe(1,s3,2,2,"ng-container",8)(2,a3,2,2,"ng-container",8)(3,l3,2,2,"ng-container",8)(4,c3,2,2,"ng-container",8)(5,u3,2,2,"ng-container",8)(6,h3,4,2,"ng-container",8)(7,p3,1,0,"ng-container",9),We()),e&2){let t=n.$implicit;X("ngSwitch",t.type),z(),X("ngSwitchCase","binary"),z(),X("ngSwitchCase","numeric"),z(),X("ngSwitchCase","enum"),z(),X("ngSwitchCase","text"),z(),X("ngSwitchCase","text"),z(),X("ngSwitchCase","composite")}}var EE=(()=>{class e{constructor(t,i,r){this.mqttService=t,this.route=i,this.location=r,this.isBridgeOnline=!1,this.virtualDevices=$n.virtualDevices}ngOnInit(){this.getDevice(),console.log(this.device),this.topic=`${this.mqttService.getBaseTopic()}/${this.device.friendly_name}`}checkState(){this.mqttService.checkBridgeState().subscribe(t=>{this.isBridgeOnline=t})}getDevice(){let t=this.route.snapshot.paramMap.get("deviceId");t.startsWith("0v")?(this.device=this.virtualDevices.filter(i=>i.ieee===t)[0],this.isBridgeOnline=!0):(this.checkState(),this.mqttService.getDevices().subscribe(i=>{this.device=i.filter(r=>r.ieee===t)[0]}))}goBack(){this.location.back()}static{this.\u0275fac=function(i){return new(i||e)(Me(Ht),Me(di),Me(Ei))}}static{this.\u0275cmp=ze({type:e,selectors:[["app-device-page"]],decls:7,vars:4,consts:[["elseTemplate",""],[1,"row","justify-content-center","pt-2"],[1,"d-flex","pb-3",3,"device","isCard","isBridgeOnline"],["header-content",""],[1,"btn","btn-secondary","btn-sm","me-2",3,"click"],[1,"bi","bi-arrow-left"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"friendly_name","control"],[4,"ngIf","ngIfElse"]],template:function(i,r){i&1&&(te(0,"div",1)(1,"app-device",2),Ge(2,3),te(3,"button",4),ke("click",function(){return r.goBack()}),Oe(4,"i",5),Ie(5," Back "),ne(),We(),Pe(6,g3,8,7,"ng-container",6),ne()()),i&2&&(z(),X("device",r.device)("isCard",!1)("isBridgeOnline",r.isBridgeOnline),z(5),X("ngForOf",r.device.exposes))},dependencies:[on,jt,Si,Dr,Gc,Od,Ds,Es,Ss,Is,Ms,Ad],styles:[".card-header[_ngcontent-%COMP%]{background-color:#fff;border:none}"]})}}return e})();var m3=[{path:"login",component:GD},{path:"logout",component:vE},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"",component:CE,canActivate:[_E],children:[{path:"home",component:Nd},{path:"groups",component:DE},{path:"virtual",component:Nd},{path:"groups/:groupId",component:Nd},{path:"device/:deviceId",component:EE}]}],SE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e})}static{this.\u0275inj=at({imports:[E0.forRoot(m3),E0]})}}return e})();var IE=(()=>{class e{constructor(){this.title="mqtt-smart-home-dashboard"}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=ze({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){i&1&&Oe(0,"router-outlet")},dependencies:[Ca]})}}return e})();var ME=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=lt({type:e,bootstrap:[IE]})}static{this.\u0275inj=at({imports:[ab,SE,HD,hE]})}}return e})();sb().bootstrapModule(ME).catch(e=>console.error(e));
